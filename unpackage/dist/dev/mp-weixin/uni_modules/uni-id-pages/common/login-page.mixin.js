"use strict";const i=require("../../../common/vendor.js"),r=require("./store.js"),o=require("../config.js"),d={data(){return{config:o.config,uniIdRedirectUrl:"",isMounted:!1}},onUnload(){},mounted(){this.isMounted=!0},onLoad(e){e.is_weixin_redirect&&(i.index.showLoading({mask:!0}),window.location.href.includes("#")&&window.location.href.split("?")[1].split("&").forEach(t=>{const n=t.split("=");n[0]=="code"&&(e.code=n[1])}),this.$nextTick(s=>{this.$refs.uniFabLogin.login({code:e.code},"weixin")})),e.uniIdRedirectUrl&&(this.uniIdRedirectUrl=decodeURIComponent(e.uniIdRedirectUrl)),getCurrentPages().length===1&&(i.index.hideHomeButton(),i.index.__f__("log","at uni_modules/uni-id-pages/common/login-page.mixin.js:52","已隐藏：返回首页按钮"))},computed:{needAgreements(){if(this.isMounted)return this.$refs.agreements?this.$refs.agreements.needAgreements:!1},agree:{get(){if(this.isMounted)return this.$refs.agreements?this.$refs.agreements.isAgree:!0},set(e){this.$refs.agreements?this.$refs.agreements.isAgree=e:i.index.__f__("log","at uni_modules/uni-id-pages/common/login-page.mixin.js:80","不存在 隐私政策协议组件")}}},methods:{loginSuccess(e){r.mutations.loginSuccess({...e,uniIdRedirectUrl:this.uniIdRedirectUrl})}}};exports.mixin=d;
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/uni_modules/uni-id-pages/common/login-page.mixin.js.map
