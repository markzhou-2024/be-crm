"use strict";const e=require("../../../../common/vendor.js"),a=require("../../config.js"),g=require("../../common/login-page.mixin.js");let p;const c={mixins:[g.mixin],data(){return{type:"",phone:"",focusPhone:!1,logo:"/static/logo.png"}},computed:{async loginTypes(){return a.config.loginTypes},isPhone(){return/^1\d{10}$/.test(this.phone)},imgSrc(){return this.type=="weixin"?"/uni_modules/uni-id-pages/static/login/weixin.png":"/uni_modules/uni-id-pages/static/app-plus/apple.png"}},async onLoad(u){let i=u.type||a.config.loginTypes[0];this.type=i,i!="univerify"&&(this.focusPhone=!0),this.$nextTick(()=>{["weixin","apple"].includes(i)&&(this.$refs.uniFabLogin.servicesList=this.$refs.uniFabLogin.servicesList.filter(o=>o.id!=i))}),e.index.$on("uni-id-pages-setLoginType",o=>{this.type=o})},onShow(){},onUnload(){e.index.$off("uni-id-pages-setLoginType")},onReady(){},methods:{showCurrentWebview(){p.setStyle({top:0})},quickLogin(u){var o,r;let i={};(o=u.detail)!=null&&o.code&&(i.phoneNumberCode=u.detail.code),!(this.type==="weixinMobile"&&!((r=u.detail)!=null&&r.code))&&this.$refs.uniFabLogin.login_before(this.type,!0,i)},toSmsPage(){if(!this.isPhone)return this.focusPhone=!0,e.index.showToast({title:"手机号码格式不正确",icon:"none",duration:3e3});if(this.needAgreements&&!this.agree)return this.$refs.agreements.popup(this.toSmsPage);e.index.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-smscode?phoneNumber="+this.phone})},toPwdLogin(){e.index.navigateTo({url:"../login/password"})},chooseArea(){e.index.showToast({title:"暂不支持其他国家",icon:"none",duration:3e3})}}};if(!Array){const u=e.resolveComponent("uni-id-pages-agreements"),i=e.resolveComponent("uni-easyinput"),o=e.resolveComponent("uni-id-pages-fab-login");(u+i+o)()}const l=()=>"../../components/uni-id-pages-agreements/uni-id-pages-agreements.js",d=()=>"../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js",f=()=>"../../components/uni-id-pages-fab-login/uni-id-pages-fab-login.js";Math||(l+d+f)();function _(u,i,o,r,s,t){return e.e({a:s.logo,b:["apple","weixin","weixinMobile"].includes(s.type)},["apple","weixin","weixinMobile"].includes(s.type)?e.e({c:s.type!=="weixinMobile"},s.type!=="weixinMobile"?{d:e.o((...n)=>t.quickLogin&&t.quickLogin(...n)),e:t.imgSrc}:{f:e.o((...n)=>t.quickLogin&&t.quickLogin(...n))},{g:e.sr("agreements","f1f87fcd-0"),h:e.p({scope:"register"})}):{i:e.o((...n)=>t.chooseArea&&t.chooseArea(...n)),j:e.o(n=>s.focusPhone=!1),k:e.o(n=>s.phone=n),l:e.p({focus:s.focusPhone,type:"number",inputBorder:!1,maxlength:"11",placeholder:"请输入手机号",modelValue:s.phone}),m:e.sr("agreements","f1f87fcd-2"),n:e.p({scope:"register"}),o:e.o((...n)=>t.toSmsPage&&t.toSmsPage(...n))},{p:e.sr("uniFabLogin","f1f87fcd-3")})}const m=e._export_sfc(c,[["render",_],["__scopeId","data-v-f1f87fcd"]]);wx.createPage(m);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/uni_modules/uni-id-pages/pages/login/login-withoutpwd.js.map
