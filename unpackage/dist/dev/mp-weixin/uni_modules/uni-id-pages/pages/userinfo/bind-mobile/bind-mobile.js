"use strict";const e=require("../../../../../common/vendor.js"),u=require("../../../common/store.js"),c={data(){return{formData:{mobile:"",code:"",captcha:""},focusMobile:!0,logo:"/static/logo.png"}},computed:{tipText(){return`验证码已通过短信发送至 ${this.formData.mobile}。密码为6 - 20位`}},onLoad(s){},onReady(){},methods:{submit(){if(!/^1\d{10}$/.test(this.formData.mobile))return this.focusMobile=!0,e.index.showToast({title:"手机号码格式不正确",icon:"none",duration:3e3});if(!/^\d{6}$/.test(this.formData.code))return this.$refs.smsForm.focusSmsCodeInput=!0,e.index.showToast({title:"验证码格式不正确",icon:"none",duration:3e3});e.tr.importObject("uni-id-co").bindMobileBySms(this.formData).then(t=>{e.index.showToast({title:t.errMsg,icon:"none",duration:3e3}),this.getOpenerEventChannel(),u.mutations.setUserInfo(this.formData),e.index.navigateBack()}).catch(t=>{e.index.__f__("log","at uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile.vue:84",t),t.errCode=="uni-id-captcha-required"&&this.$refs.popup.open()}).finally(t=>{this.formData.captcha=""})}}};if(!Array){const s=e.resolveComponent("uni-easyinput"),t=e.resolveComponent("uni-id-pages-sms-form"),a=e.resolveComponent("uni-popup-captcha");(s+t+a)()}const r=()=>"../../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js",m=()=>"../../../components/uni-id-pages-sms-form/uni-id-pages-sms-form.js",p=()=>"../../../../uni-captcha/components/uni-popup-captcha/uni-popup-captcha.js";Math||(r+m+p)();function l(s,t,a,f,o,i){return{a:o.logo,b:e.o(n=>o.focusMobile=!1),c:e.o(n=>o.formData.mobile=n),d:e.p({clearable:!0,focus:o.focusMobile,type:"number",inputBorder:!1,maxlength:"11",placeholder:"请输入手机号",modelValue:o.formData.mobile}),e:e.sr("smsForm","05e2cd8b-1"),f:e.o(n=>o.formData.code=n),g:e.p({type:"bind-mobile-by-sms",phone:o.formData.mobile,modelValue:o.formData.code}),h:e.o((...n)=>i.submit&&i.submit(...n)),i:e.sr("popup","05e2cd8b-2"),j:e.o(i.submit),k:e.o(n=>o.formData.captcha=n),l:e.p({scene:"bind-mobile-by-sms",modelValue:o.formData.captcha})}}const _=e._export_sfc(c,[["render",l]]);wx.createPage(_);
//# sourceMappingURL=../../../../../../.sourcemap/mp-weixin/uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile.js.map
