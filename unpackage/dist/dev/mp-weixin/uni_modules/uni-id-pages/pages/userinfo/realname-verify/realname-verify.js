"use strict";const e=require("../../../../../common/vendor.js"),l=require("../../../common/login-page.mixin.js"),m=require("../../../common/store.js"),c=require("../../../../../common/assets.js");e.tr.importObject("uni-id-co");const u="uni-id-pages-temp-frv",f={mixins:[l.mixin],data(){return{realName:"",idCard:"",certifyId:"",verifyFail:!1,verifyFailCode:0,verifyFailTitle:"",verifyFailContent:""}},computed:{userInfo(){return m.store.userInfo},certifyIdNext(){return!!this.realName&&!!this.idCard&&this.needAgreements&&this.agree},isCertify(){return this.userInfo.realNameAuth&&this.userInfo.realNameAuth.authStatus===2},isDev(){return!0}},onLoad(){const s=e.index.getStorageSync(u);s&&(this.realName=s.realName,this.idCard=s.idCard)},methods:{async getCertifyId(){if(this.certifyIdNext)return e.index.showModal({content:"暂不支持实名认证",showCancel:!1})},startFacialRecognitionVerify(){},async getFrvAuthResult(){const s=e.tr.importObject("uni-id-co",{customUI:!0});try{e.index.showLoading({title:"验证中...",mask:!1});const n=await s.getFrvAuthResult({certifyId:this.certifyId}),{errCode:a,...o}=n;this.verifyFailContent&&e.index.__f__("log","at uni_modules/uni-id-pages/pages/userinfo/realname-verify/realname-verify.vue:216",`[frv-debug] 客户端刷脸失败，由实人认证服务查询具体原因，原因：${this.verifyFailContent}`),e.index.showModal({content:"实名认证成功",showCancel:!1,success:()=>{m.mutations.setUserInfo({realNameAuth:o}),this.verifyFail=!1}}),e.index.removeStorage({key:u})}catch(n){this.verifyFail=!0,this.verifyFailTitle=n.errMsg,e.index.__f__("error","at uni_modules/uni-id-pages/pages/userinfo/realname-verify/realname-verify.vue:236",JSON.stringify(n))}finally{e.index.hideLoading()}},retry(){this.verifyFailCode!==10013?this.getCertifyId():this.verifyFail=!1}}};if(!Array){const s=e.resolveComponent("uni-list-item"),n=e.resolveComponent("uni-list"),a=e.resolveComponent("uni-easyinput"),o=e.resolveComponent("uni-forms-item"),t=e.resolveComponent("uni-forms"),i=e.resolveComponent("uni-id-pages-agreements");(s+n+a+o+t+i)()}const _=()=>"../../../../uni-list/components/uni-list-item/uni-list-item.js",y=()=>"../../../../uni-list/components/uni-list/uni-list.js",d=()=>"../../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js",g=()=>"../../../../uni-forms/components/uni-forms-item/uni-forms-item.js",h=()=>"../../../../uni-forms/components/uni-forms/uni-forms.js",v=()=>"../../../components/uni-id-pages-agreements/uni-id-pages-agreements.js";Math||(_+y+d+g+h+v)();function p(s,n,a,o,t,i){return e.e({a:i.isCertify},i.isCertify?{b:e.p({title:"姓名",rightText:i.userInfo.realNameAuth.realName}),c:e.p({title:"身份证号码",rightText:i.userInfo.realNameAuth.identity})}:e.e({d:t.verifyFail},t.verifyFail?e.e({e:c._imports_0,f:e.t(t.verifyFailTitle),g:e.t(t.verifyFailContent),h:t.verifyFailCode!==10013},t.verifyFailCode!==10013?{i:e.o((...r)=>i.retry&&i.retry(...r))}:{j:e.o((...r)=>i.retry&&i.retry(...r))},{k:i.isDev},i.isDev?{}:{}):{l:e.o(r=>t.realName=r),m:e.p({placeholder:"姓名",clearable:!1,modelValue:t.realName}),n:e.p({name:"realName"}),o:e.o(r=>t.idCard=r),p:e.p({placeholder:"身份证号码",clearable:!1,modelValue:t.idCard}),q:e.p({name:"idCard"}),r:e.sr("agreements","127e3fe1-8"),s:e.p({scope:"realNameVerify"}),t:!i.certifyIdNext,v:e.o((...r)=>i.getCertifyId&&i.getCertifyId(...r))}))}const C=e._export_sfc(f,[["render",p]]);wx.createPage(C);
//# sourceMappingURL=../../../../../../.sourcemap/mp-weixin/uni_modules/uni-id-pages/pages/userinfo/realname-verify/realname-verify.js.map
