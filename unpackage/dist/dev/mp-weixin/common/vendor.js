"use strict";/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vt(e,t){const n=new Set(e.split(","));return t?o=>n.has(o.toLowerCase()):o=>n.has(o)}const F=Object.freeze({}),Ds=Object.freeze([]),J=()=>{},uu=()=>!1,pi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Us=e=>e.startsWith("onUpdate:"),M=Object.assign,An=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},lu=Object.prototype.hasOwnProperty,$=(e,t)=>lu.call(e,t),C=Array.isArray,Ve=e=>ge(e)==="[object Map]",hi=e=>ge(e)==="[object Set]",T=e=>typeof e=="function",H=e=>typeof e=="string",St=e=>typeof e=="symbol",j=e=>e!==null&&typeof e=="object",Bt=e=>(j(e)||T(e))&&T(e.then)&&T(e.catch),gi=Object.prototype.toString,ge=e=>gi.call(e),Cn=e=>ge(e).slice(8,-1),G=e=>ge(e)==="[object Object]",es=e=>H(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mi=vt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fu=vt("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),kn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},du=/-(\w)/g,be=kn(e=>e.replace(du,(t,n)=>n?n.toUpperCase():"")),pu=/\B([A-Z])/g,Ye=kn(e=>e.replace(pu,"-$1").toLowerCase()),Qe=kn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Fe=kn(e=>e?`on${Qe(e)}`:""),Ue=(e,t)=>!Object.is(e,t),cn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},hu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},gu=e=>{const t=parseFloat(e);return isNaN(t)?e:t};function _i(e){if(C(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=H(o)?wu(o):_i(o);if(s)for(const r in s)t[r]=s[r]}return t}else if(H(e)||j(e))return e}const mu=/;(?![^(]*\))/g,_u=/:([^]+)/,yu=/\/\*[^]*?\*\//g;function wu(e){const t={};return e.replace(yu,"").split(mu).forEach(n=>{if(n){const o=n.split(_u);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function yi(e){let t="";if(H(e))t=e;else if(C(e))for(let n=0;n<e.length;n++){const o=yi(e[n]);o&&(t+=o+" ")}else if(j(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const bu=e=>H(e)?e:e==null?"":C(e)||j(e)&&(e.toString===gi||!T(e.toString))?JSON.stringify(e,wi,2):String(e),wi=(e,t)=>t&&t.__v_isRef?wi(e,t.value):Ve(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],r)=>(n[qn(o,r)+" =>"]=s,n),{})}:hi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>qn(n))}:St(t)?qn(t):j(t)&&!C(t)&&!G(t)?String(t):t,qn=(e,t="")=>{var n;return St(e)?`Symbol(${(n=e.description)!=null?n:t})`:e},vu=e=>e!==null&&typeof e=="object",Su=["{","}"];class Iu{constructor(){this._caches=Object.create(null)}interpolate(t,n,o=Su){if(!n)return[t];let s=this._caches[t];return s||(s=Eu(t,o),this._caches[t]=s),Tu(s,n)}}const xu=/^(?:\d)+/,Pu=/^(?:\w)+/;function Eu(e,[t,n]){const o=[];let s=0,r="";for(;s<e.length;){let i=e[s++];if(i===t){r&&o.push({type:"text",value:r}),r="";let c="";for(i=e[s++];i!==void 0&&i!==n;)c+=i,i=e[s++];const a=i===n,u=xu.test(c)?"list":a&&Pu.test(c)?"named":"unknown";o.push({value:c,type:u})}else r+=i}return r&&o.push({type:"text",value:r}),o}function Tu(e,t){const n=[];let o=0;const s=Array.isArray(t)?"list":vu(t)?"named":"unknown";if(s==="unknown")return n;for(;o<e.length;){const r=e[o];switch(r.type){case"text":n.push(r.value);break;case"list":n.push(t[parseInt(r.value,10)]);break;case"named":s==="named"?n.push(t[r.value]):console.warn(`Type of token '${r.type}' and format of value '${s}' don't match!`);break;case"unknown":console.warn("Detect 'unknown' type of token!");break}o++}return n}const Kn="zh-Hans",Ms="zh-Hant",_e="en",Ou="fr",Au="es",Cu=Object.prototype.hasOwnProperty,js=(e,t)=>Cu.call(e,t),ku=new Iu;function $u(e,t){return!!t.find(n=>e.indexOf(n)!==-1)}function Lu(e,t){return t.find(n=>e.indexOf(n)===0)}function pn(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Kn;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Kn:e.indexOf("-hant")>-1||$u(e,["-tw","-hk","-mo","-cht"])?Ms:Kn;let n=[_e,Ou,Au];t&&Object.keys(t).length>0&&(n=Object.keys(t));const o=Lu(e,n);if(o)return o}class Ru{constructor({locale:t,fallbackLocale:n,messages:o,watcher:s,formater:r}){this.locale=_e,this.fallbackLocale=_e,this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=r||ku,this.messages=o||{},this.setLocale(t||_e),s&&this.watchLocale(s)}setLocale(t){const n=this.locale;this.locale=pn(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],n!==this.locale&&this.watchers.forEach(o=>{o(this.locale,n)})}getLocale(){return this.locale}watchLocale(t){const n=this.watchers.push(t)-1;return()=>{this.watchers.splice(n,1)}}add(t,n,o=!0){const s=this.messages[t];s?o?Object.assign(s,n):Object.keys(n).forEach(r=>{js(s,r)||(s[r]=n[r])}):this.messages[t]=n}f(t,n,o){return this.formater.interpolate(t,n,o).join("")}t(t,n,o){let s=this.message;return typeof n=="string"?(n=pn(n,this.messages),n&&(s=this.messages[n])):o=n,js(s,t)?this.formater.interpolate(s[t],o).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}}function Nu(e,t){e.$watchLocale?e.$watchLocale(n=>{t.setLocale(n)}):e.$watch(()=>e.$locale,n=>{t.setLocale(n)})}function Du(){return typeof k<"u"&&k.getLocale?k.getLocale():typeof global<"u"&&global.getLocale?global.getLocale():_e}function Uu(e,t={},n,o){if(typeof e!="string"){const i=[t,e];e=i[0],t=i[1]}typeof e!="string"&&(e=Du()),typeof n!="string"&&(n=typeof __uniConfig<"u"&&__uniConfig.fallbackLocale||_e);const s=new Ru({locale:e,fallbackLocale:n,messages:t,watcher:o});let r=(i,c)=>{if(typeof getApp!="function")r=function(a,u){return s.t(a,u)};else{let a=!1;r=function(u,f){const l=getApp().$vm;return l&&(l.$locale,a||(a=!0,Nu(l,s))),s.t(u,f)}}return r(i,c)};return{i18n:s,f(i,c,a){return s.f(i,c,a)},t(i,c){return r(i,c)},add(i,c,a=!0){return s.add(i,c,a)},watch(i){return s.watchLocale(i)},getLocale(){return s.getLocale()},setLocale(i){return s.setLocale(i)}}}const Mu="d",$n="onShow",Ln="onHide",bi="onLaunch",Xe="onError",vi="onThemeChange",Si="onPageNotFound",Ii="onUnhandledRejection",ju="onExit",qt="onLoad",ts="onReady",ns="onUnload",xi="onInit",Pi="onSaveExitState",Ei="onResize",Ti="onBackPress",Oi="onPageScroll",os="onTabItemTap",ss="onReachBottom",rs="onPullDownRefresh",Ai="onShareTimeline",Ci="onShareChat",is="onAddToFavorites",ki="onShareAppMessage",$i="onNavigationBarButtonTap",Li="onNavigationBarSearchInputClicked",Ri="onNavigationBarSearchInputChanged",Ni="onNavigationBarSearchInputConfirmed",Di="onNavigationBarSearchInputFocusChanged",Hu="virtualHostStyle",Fu="virtualHostClass",Bu="virtualHostHidden",ho="virtualHostId";function qu(e){return e.indexOf("/")===0}function Ku(e){return qu(e)?e:"/"+e}const Vu=(e,t)=>{let n;for(let o=0;o<e.length;o++)n=e[o](t);return n};function Ui(e,t=null){let n;return(...o)=>(e&&(n=e.apply(t,o),e=null),n)}function Mi(e,t){if(!H(t))return;t=t.replace(/\[(\d+)\]/g,".$1");const n=t.split(".");let o=n[0];return e||(e={}),n.length===1?e[o]:Mi(e[o],n.slice(1).join("."))}function ji(e){let t={};return G(e)&&Object.keys(e).sort().forEach(n=>{const o=n;t[o]=e[o]}),Object.keys(t)?t:e}const Wu=/:/g;function zu(e){return be(e.replace(Wu,"-"))}const Ju=encodeURIComponent;function Gu(e,t=Ju){const n=e?Object.keys(e).map(o=>{let s=e[o];return typeof s===void 0||s===null?s="":G(s)&&(s=JSON.stringify(s)),t(o)+"="+t(s)}).filter(o=>o.length>0).join("&"):null;return n?`?${n}`:""}const Yu=[xi,qt,$n,Ln,ns,Ti,Oi,os,ss,rs,Ai,ki,Ci,is,Pi,$i,Li,Ri,Ni,Di];function Qu(e){return Yu.indexOf(e)>-1}const Hi=[$n,Ln,bi,Xe,vi,Si,Ii,ju,xi,qt,ts,ns,Ei,Ti,Oi,os,ss,rs,Ai,is,ki,Ci,Pi,$i,Li,Ri,Ni,Di],go={onPageScroll:1,onShareAppMessage:2,onShareTimeline:4,onShareChat:8};function Fi(e,t,n=!0){return n&&!T(t)?!1:Hi.indexOf(e)>-1?!0:e.indexOf("on")===0}let mo;const Bi=[];function Xu(e){if(mo)return e(mo);Bi.push(e)}function Zu(e){mo=e,Bi.forEach(t=>t(e))}const el=Ui((e,t)=>t(e)),qi=function(){};qi.prototype={_id:1,on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n,_id:this._id}),this._id++},once:function(e,t,n){var o=this;function s(){o.off(e,s),t.apply(n,arguments)}return s._=t,this.on(e,s,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,s=n.length;for(o;o<s;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],s=[];if(o&&t){for(var r=o.length-1;r>=0;r--)if(o[r].fn===t||o[r].fn._===t||o[r]._id===t){o.splice(r,1);break}s=o}return s.length?n[e]=s:delete n[e],this}};var tl=qi;/**
* @dcloudio/uni-mp-vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Me(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let fe;class nl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fe,!t&&fe&&(this.index=(fe.scopes||(fe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=fe;try{return fe=this,t()}finally{fe=n}}else Me("cannot run an inactive effect scope.")}on(){fe=this}off(){fe=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ol(e,t=fe){t&&t.active&&t.effects.push(e)}function sl(){return fe}let We;class cs{constructor(t,n,o,s){this.fn=t,this.trigger=n,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ol(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,nt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(rl(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ot()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Le,n=We;try{return Le=!0,We=this,this._runnings++,Hs(this),this.fn()}finally{Fs(this),this._runnings--,We=n,Le=t}}stop(){var t;this.active&&(Hs(this),Fs(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function rl(e){return e.value}function Hs(e){e._trackId++,e._depsLength=0}function Fs(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Ki(e.deps[t],e);e.deps.length=e._depsLength}}function Ki(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Le=!0,_o=0;const Vi=[];function nt(){Vi.push(Le),Le=!1}function ot(){const e=Vi.pop();Le=e===void 0?!0:e}function as(){_o++}function us(){for(_o--;!_o&&yo.length;)yo.shift()()}function Wi(e,t,n){var o;if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Ki(s,e),e.deps[e._depsLength++]=t):e._depsLength++,(o=e.onTrack)==null||o.call(e,M({effect:e},n))}}const yo=[];function zi(e,t,n){var o;as();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&((o=s.onTrigger)==null||o.call(s,M({effect:s},n)),s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&yo.push(s.scheduler)))}us()}const Ji=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},wo=new WeakMap,ze=Symbol("iterate"),bo=Symbol("Map key iterate");function Z(e,t,n){if(Le&&We){let o=wo.get(e);o||wo.set(e,o=new Map);let s=o.get(n);s||o.set(n,s=Ji(()=>o.delete(n))),Wi(We,s,{target:e,type:t,key:n})}}function Se(e,t,n,o,s,r){const i=wo.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&C(e)){const a=Number(o);i.forEach((u,f)=>{(f==="length"||!St(f)&&f>=a)&&c.push(u)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":C(e)?es(n)&&c.push(i.get("length")):(c.push(i.get(ze)),Ve(e)&&c.push(i.get(bo)));break;case"delete":C(e)||(c.push(i.get(ze)),Ve(e)&&c.push(i.get(bo)));break;case"set":Ve(e)&&c.push(i.get(ze));break}as();for(const a of c)a&&zi(a,4,{target:e,type:t,key:n,newValue:o,oldValue:s,oldTarget:r});us()}const il=vt("__proto__,__v_isRef,__isVue"),Gi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(St)),Bs=cl();function cl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=R(this);for(let r=0,i=this.length;r<i;r++)Z(o,"get",r+"");const s=o[t](...n);return s===-1||s===!1?o[t](...n.map(R)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){nt(),as();const o=R(this)[t].apply(this,n);return us(),ot(),o}}),e}function al(e){const t=R(this);return Z(t,"has",e),t.hasOwnProperty(e)}class Yi{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(s?r?oc:nc:r?tc:ec).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=C(t);if(!s){if(i&&$(Bs,n))return Reflect.get(Bs,n,o);if(n==="hasOwnProperty")return al}const c=Reflect.get(t,n,o);return(St(n)?Gi.has(n):il(n))||(s||Z(t,"get",n),r)?c:ne(c)?i&&es(n)?c:c.value:j(c)?s?sc(c):Dn(c):c}}class Qi extends Yi{constructor(t=!1){super(!1,t)}set(t,n,o,s){let r=t[n];if(!this._isShallow){const a=ht(r);if(!hn(o)&&!ht(o)&&(r=R(r),o=R(o)),!C(t)&&ne(r)&&!ne(o))return a?!1:(r.value=o,!0)}const i=C(t)&&es(n)?Number(n)<t.length:$(t,n),c=Reflect.set(t,n,o,s);return t===R(s)&&(i?Ue(o,r)&&Se(t,"set",n,o,r):Se(t,"add",n,o)),c}deleteProperty(t,n){const o=$(t,n),s=t[n],r=Reflect.deleteProperty(t,n);return r&&o&&Se(t,"delete",n,void 0,s),r}has(t,n){const o=Reflect.has(t,n);return(!St(n)||!Gi.has(n))&&Z(t,"has",n),o}ownKeys(t){return Z(t,"iterate",C(t)?"length":ze),Reflect.ownKeys(t)}}class Xi extends Yi{constructor(t=!1){super(!0,t)}set(t,n){return Me(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return Me(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const ul=new Qi,ll=new Xi,fl=new Qi(!0),dl=new Xi(!0),ls=e=>e,Rn=e=>Reflect.getPrototypeOf(e);function Yt(e,t,n=!1,o=!1){e=e.__v_raw;const s=R(e),r=R(t);n||(Ue(t,r)&&Z(s,"get",t),Z(s,"get",r));const{has:i}=Rn(s),c=o?ls:n?ds:$t;if(i.call(s,t))return c(e.get(t));if(i.call(s,r))return c(e.get(r));e!==s&&e.get(t)}function Qt(e,t=!1){const n=this.__v_raw,o=R(n),s=R(e);return t||(Ue(e,s)&&Z(o,"has",e),Z(o,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Xt(e,t=!1){return e=e.__v_raw,!t&&Z(R(e),"iterate",ze),Reflect.get(e,"size",e)}function qs(e){e=R(e);const t=R(this);return Rn(t).has.call(t,e)||(t.add(e),Se(t,"add",e,e)),this}function Ks(e,t){t=R(t);const n=R(this),{has:o,get:s}=Rn(n);let r=o.call(n,e);r?Zi(n,o,e):(e=R(e),r=o.call(n,e));const i=s.call(n,e);return n.set(e,t),r?Ue(t,i)&&Se(n,"set",e,t,i):Se(n,"add",e,t),this}function Vs(e){const t=R(this),{has:n,get:o}=Rn(t);let s=n.call(t,e);s?Zi(t,n,e):(e=R(e),s=n.call(t,e));const r=o?o.call(t,e):void 0,i=t.delete(e);return s&&Se(t,"delete",e,void 0,r),i}function Ws(){const e=R(this),t=e.size!==0,n=Ve(e)?new Map(e):new Set(e),o=e.clear();return t&&Se(e,"clear",void 0,void 0,n),o}function Zt(e,t){return function(o,s){const r=this,i=r.__v_raw,c=R(i),a=t?ls:e?ds:$t;return!e&&Z(c,"iterate",ze),i.forEach((u,f)=>o.call(s,a(u),a(f),r))}}function en(e,t,n){return function(...o){const s=this.__v_raw,r=R(s),i=Ve(r),c=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,u=s[e](...o),f=n?ls:t?ds:$t;return!t&&Z(r,"iterate",a?bo:ze),{next(){const{value:l,done:h}=u.next();return h?{value:l,done:h}:{value:c?[f(l[0]),f(l[1])]:f(l),done:h}},[Symbol.iterator](){return this}}}}function Ee(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";Me(`${Qe(e)} operation ${n}failed: target is readonly.`,R(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function pl(){const e={get(r){return Yt(this,r)},get size(){return Xt(this)},has:Qt,add:qs,set:Ks,delete:Vs,clear:Ws,forEach:Zt(!1,!1)},t={get(r){return Yt(this,r,!1,!0)},get size(){return Xt(this)},has:Qt,add:qs,set:Ks,delete:Vs,clear:Ws,forEach:Zt(!1,!0)},n={get(r){return Yt(this,r,!0)},get size(){return Xt(this,!0)},has(r){return Qt.call(this,r,!0)},add:Ee("add"),set:Ee("set"),delete:Ee("delete"),clear:Ee("clear"),forEach:Zt(!0,!1)},o={get(r){return Yt(this,r,!0,!0)},get size(){return Xt(this,!0)},has(r){return Qt.call(this,r,!0)},add:Ee("add"),set:Ee("set"),delete:Ee("delete"),clear:Ee("clear"),forEach:Zt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=en(r,!1,!1),n[r]=en(r,!0,!1),t[r]=en(r,!1,!0),o[r]=en(r,!0,!0)}),[e,n,t,o]}const[hl,gl,ml,_l]=pl();function Nn(e,t){const n=t?e?_l:ml:e?gl:hl;return(o,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get($(n,s)&&s in o?n:o,s,r)}const yl={get:Nn(!1,!1)},wl={get:Nn(!1,!0)},bl={get:Nn(!0,!1)},vl={get:Nn(!0,!0)};function Zi(e,t,n){const o=R(n);if(o!==n&&t.call(e,o)){const s=Cn(e);Me(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ec=new WeakMap,tc=new WeakMap,nc=new WeakMap,oc=new WeakMap;function Sl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Il(e){return e.__v_skip||!Object.isExtensible(e)?0:Sl(Cn(e))}function Dn(e){return ht(e)?e:Un(e,!1,ul,yl,ec)}function xl(e){return Un(e,!1,fl,wl,tc)}function sc(e){return Un(e,!0,ll,bl,nc)}function ut(e){return Un(e,!0,dl,vl,oc)}function Un(e,t,n,o,s){if(!j(e))return Me(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const i=Il(e);if(i===0)return e;const c=new Proxy(e,i===2?o:n);return s.set(e,c),c}function dt(e){return ht(e)?dt(e.__v_raw):!!(e&&e.__v_isReactive)}function ht(e){return!!(e&&e.__v_isReadonly)}function hn(e){return!!(e&&e.__v_isShallow)}function Pl(e){return dt(e)||ht(e)}function R(e){const t=e&&e.__v_raw;return t?R(t):e}function fs(e){return Object.isExtensible(e)&&hu(e,"__v_skip",!0),e}const $t=e=>j(e)?Dn(e):e,ds=e=>j(e)?sc(e):e,El="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class rc{constructor(t,n,o,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new cs(()=>t(this._value),()=>an(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const t=R(this);return(!t._cacheable||t.effect.dirty)&&Ue(t._value,t._value=t.effect.run())&&an(t,4),ic(t),t.effect._dirtyLevel>=2&&(this._warnRecursive&&Me(El,`

getter: `,this.getter),an(t,2)),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Tl(e,t,n=!1){let o,s;const r=T(e);r?(o=e,s=()=>{Me("Write operation failed: computed value is readonly")}):(o=e.get,s=e.set);const i=new rc(o,s,r||!s,n);return t&&!n&&(i.effect.onTrack=t.onTrack,i.effect.onTrigger=t.onTrigger),i}function ic(e){var t;Le&&We&&(e=R(e),Wi(We,(t=e.dep)!=null?t:e.dep=Ji(()=>e.dep=void 0,e instanceof rc?e:void 0),{target:e,type:"get",key:"value"}))}function an(e,t=4,n){e=R(e);const o=e.dep;o&&zi(o,t,{target:e,type:"set",key:"value",newValue:n})}function ne(e){return!!(e&&e.__v_isRef===!0)}function Ol(e){return Al(e,!1)}function Al(e,t){return ne(e)?e:new Cl(e,t)}class Cl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:R(t),this._value=n?t:$t(t)}get value(){return ic(this),this._value}set value(t){const n=this.__v_isShallow||hn(t)||ht(t);t=n?t:R(t),Ue(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:$t(t),an(this,4,t))}}function cc(e){return ne(e)?e.value:e}const kl={get:(e,t,n)=>cc(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return ne(s)&&!ne(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function ac(e){return dt(e)?e:new Proxy(e,kl)}const Je=[];function ps(e){Je.push(e)}function hs(){Je.pop()}function A(e,...t){nt();const n=Je.length?Je[Je.length-1].component:null,o=n&&n.appContext.config.warnHandler,s=$l();if(o)Ie(o,n,11,[e+t.map(r=>{var i,c;return(c=(i=r.toString)==null?void 0:i.call(r))!=null?c:JSON.stringify(r)}).join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${Fn(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push(`
`,...Ll(s)),console.warn(...r)}ot()}function $l(){let e=Je[Je.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Ll(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...Rl(n))}),t}function Rl({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,s=` at <${Fn(e.component,e.type,o)}`,r=">"+n;return e.props?[s,...Nl(e.props),r]:[s+r]}function Nl(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(...uc(o,e[o]))}),n.length>3&&t.push(" ..."),t}function uc(e,t,n){return H(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:ne(t)?(t=uc(e,R(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):T(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=R(t),n?t:[`${e}=`,t])}const gs={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Ie(e,t,n,o){try{return o?e(...o):e()}catch(s){Mn(s,t,n)}}function je(e,t,n,o){if(T(e)){const r=Ie(e,t,n,o);return r&&Bt(r)&&r.catch(i=>{Mn(i,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(je(e[r],t,n,o));return s}function Mn(e,t,n,o=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,c=gs[n]||n;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,i,c)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){Ie(a,null,10,[e,i,c]);return}}lc(e,n,s,o)}function lc(e,t,n,o=!0){{const s=gs[t]||t;n&&ps(n),A(`Unhandled error${s?` during execution of ${s}`:""}`),n&&hs(),console.error(e)}}let Lt=!1,vo=!1;const z=[];let pe=0;const pt=[];let ve=null,Ae=0;const fc=Promise.resolve();let ms=null;const Dl=100;function dc(e){const t=ms||fc;return e?t.then(this?e.bind(this):e):t}function Ul(e){let t=pe+1,n=z.length;for(;t<n;){const o=t+n>>>1,s=z[o],r=Rt(s);r<e||r===e&&s.pre?t=o+1:n=o}return t}function gn(e){(!z.length||!z.includes(e,Lt&&e.allowRecurse?pe+1:pe))&&(e.id==null?z.push(e):z.splice(Ul(e.id),0,e),pc())}function pc(){!Lt&&!vo&&(vo=!0,ms=fc.then(mc))}function Ml(e){return z.indexOf(e)>-1}function jl(e){const t=z.indexOf(e);t>pe&&z.splice(t,1)}function hc(e){C(e)?pt.push(...e):(!ve||!ve.includes(e,e.allowRecurse?Ae+1:Ae))&&pt.push(e),pc()}function gc(e,t,n=Lt?pe+1:0){for(t=t||new Map;n<z.length;n++){const o=z[n];if(o&&o.pre){if(_s(t,o))continue;z.splice(n,1),n--,o()}}}function Hl(e){if(pt.length){const t=[...new Set(pt)].sort((n,o)=>Rt(n)-Rt(o));if(pt.length=0,ve){ve.push(...t);return}for(ve=t,e=e||new Map,Ae=0;Ae<ve.length;Ae++)_s(e,ve[Ae])||ve[Ae]();ve=null,Ae=0}}const Rt=e=>e.id==null?1/0:e.id,Fl=(e,t)=>{const n=Rt(e)-Rt(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function mc(e){vo=!1,Lt=!0,e=e||new Map,z.sort(Fl);const t=n=>_s(e,n);try{for(pe=0;pe<z.length;pe++){const n=z[pe];if(n&&n.active!==!1){if(t(n))continue;Ie(n,null,14)}}}finally{pe=0,z.length=0,Hl(e),Lt=!1,ms=null,(z.length||pt.length)&&mc(e)}}function _s(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>Dl){const o=t.ownerInstance,s=o&&Ss(o.type);return Mn(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else e.set(t,n+1)}}let he,Tt=[],So=!1;function jn(e,...t){he?he.emit(e,...t):So||Tt.push({event:e,args:t})}function _c(e,t){var n,o;he=e,he?(he.enabled=!0,Tt.forEach(({event:s,args:r})=>he.emit(s,...r)),Tt=[]):typeof window<"u"&&window.HTMLElement&&!((o=(n=window.navigator)==null?void 0:n.userAgent)!=null&&o.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{_c(r,t)}),setTimeout(()=>{he||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,So=!0,Tt=[])},3e3)):(So=!0,Tt=[])}function Bl(e,t){jn("app:init",e,t,{Fragment:Lf,Text:Rf,Comment:Nf,Static:Df})}const ql=ys("component:added"),Kl=ys("component:updated"),Vl=ys("component:removed"),Wl=e=>{he&&typeof he.cleanupBuffer=="function"&&!he.cleanupBuffer(e)&&Vl(e)};/*! #__NO_SIDE_EFFECTS__ */function ys(e){return t=>{jn(e,t.appContext.app,t.uid,t.uid===0?void 0:t.parent?t.parent.uid:0,t)}}const zl=yc("perf:start"),Jl=yc("perf:end");function yc(e){return(t,n,o)=>{jn(e,t.appContext.app,t.uid,t,n,o)}}function Gl(e,t,n){jn("component:emit",e.appContext.app,e,t,n)}function Yl(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||F;{const{emitsOptions:f,propsOptions:[l]}=e;if(f)if(!(t in f))(!l||!(Fe(t)in l))&&A(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Fe(t)}" prop.`);else{const h=f[t];T(h)&&(h(...n)||A(`Invalid event arguments: event validation failed for event "${t}".`))}}let s=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in o){const f=`${i==="modelValue"?"model":i}Modifiers`,{number:l,trim:h}=o[f]||F;h&&(s=n.map(g=>H(g)?g.trim():g)),l&&(s=n.map(gu))}Gl(e,t,s);{const f=t.toLowerCase();f!==t&&o[Fe(f)]&&A(`Event "${f}" is emitted in component ${Fn(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Ye(t)}" instead of "${t}".`)}let c,a=o[c=Fe(t)]||o[c=Fe(be(t))];!a&&r&&(a=o[c=Fe(Ye(t))]),a&&je(a,e,6,s);const u=o[c+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,je(u,e,6,s)}}function wc(e,t,n=!1){const o=t.emitsCache,s=o.get(e);if(s!==void 0)return s;const r=e.emits;let i={},c=!1;if(!T(e)){const a=u=>{const f=wc(u,t,!0);f&&(c=!0,M(i,f))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!c?(j(e)&&o.set(e,null),null):(C(r)?r.forEach(a=>i[a]=null):M(i,r),j(e)&&o.set(e,i),i)}function bc(e,t){return!e||!pi(t)?!1:(t=t.slice(2).replace(/Once$/,""),$(e,t[0].toLowerCase()+t.slice(1))||$(e,Ye(t))||$(e,t))}let Ze=null;function zs(e){const t=Ze;return Ze=e,e&&e.type.__scopeId,t}const Io="components";function Ql(e,t){return Xl(Io,e,!0,t)||e}function Xl(e,t,n=!0,o=!1){const s=Ze||V;if(s){const r=s.type;if(e===Io){const c=Ss(r,!1);if(c&&(c===t||c===be(t)||c===Qe(be(t))))return r}const i=Js(s[e]||r[e],t)||Js(s.appContext[e],t);if(!i&&o)return r;if(n&&!i){const c=e===Io?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";A(`Failed to resolve ${e.slice(0,-1)}: ${t}${c}`)}return i}else A(`resolve${Qe(e.slice(0,-1))} can only be used in render() or setup().`)}function Js(e,t){return e&&(e[t]||e[be(t)]||e[Qe(be(t))])}const tn={};function Vn(e,t,n){return T(t)||A("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),vc(e,t,n)}function vc(e,t,{immediate:n,deep:o,flush:s,once:r,onTrack:i,onTrigger:c}=F){if(t&&r){const v=t;t=(...N)=>{v(...N),P()}}o!==void 0&&typeof o=="number"&&A('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),t||(n!==void 0&&A('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&A('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&A('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=v=>{A("Invalid watch source: ",v,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=V,f=v=>o===!0?v:lt(v,o===!1?1:void 0);let l,h=!1,g=!1;if(ne(e)?(l=()=>e.value,h=hn(e)):dt(e)?(l=()=>f(e),h=!0):C(e)?(g=!0,h=e.some(v=>dt(v)||hn(v)),l=()=>e.map(v=>{if(ne(v))return v.value;if(dt(v))return f(v);if(T(v))return Ie(v,u,2);a(v)})):T(e)?t?l=()=>Ie(e,u,2):l=()=>(_&&_(),je(e,u,3,[p])):(l=J,a(e)),t&&o){const v=l;l=()=>lt(v())}let _,p=v=>{_=y.onStop=()=>{Ie(v,u,4),_=y.onStop=void 0}},d=g?new Array(e.length).fill(tn):tn;const m=()=>{if(!(!y.active||!y.dirty))if(t){const v=y.run();(o||h||(g?v.some((N,L)=>Ue(N,d[L])):Ue(v,d)))&&(_&&_(),je(t,u,3,[v,d===tn?void 0:g&&d[0]===tn?[]:d,p]),d=v)}else y.run()};m.allowRecurse=!!t;let w;s==="sync"?w=m:s==="post"?w=()=>sr(m,u&&u.suspense):(m.pre=!0,u&&(m.id=u.uid),w=()=>gn(m));const y=new cs(l,J,w),b=sl(),P=()=>{y.stop(),b&&An(b.effects,y)};return y.onTrack=i,y.onTrigger=c,t?n?m():d=y.run():s==="post"?sr(y.run.bind(y),u&&u.suspense):y.run(),P}function Zl(e,t,n){const o=this.proxy,s=H(e)?e.includes(".")?Sc(o,e):()=>o[e]:e.bind(o,o);let r;T(t)?r=t:(r=t.handler,n=t);const i=Kt(this),c=vc(s,r.bind(o),n);return i(),c}function Sc(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}function lt(e,t,n=0,o){if(!j(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(o=o||new Set,o.has(e))return e;if(o.add(e),ne(e))lt(e.value,t,n,o);else if(C(e))for(let s=0;s<e.length;s++)lt(e[s],t,n,o);else if(hi(e)||Ve(e))e.forEach(s=>{lt(s,t,n,o)});else if(G(e))for(const s in e)lt(e[s],t,n,o);return e}function Ic(e){fu(e)&&A("Do not use built-in directive ids as custom directive id: "+e)}function xc(){return{app:null,config:{isNativeTag:uu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ef=0;function tf(e,t){return function(o,s=null){T(o)||(o=M({},o)),s!=null&&!j(s)&&(A("root props passed to app.mount() must be an object."),s=null);const r=xc(),i=new WeakSet,c=r.app={_uid:ef++,_component:o,_props:s,_container:null,_context:r,_instance:null,version:Nc,get config(){return r.config},set config(a){A("app.config cannot be replaced. Modify individual options instead.")},use(a,...u){return i.has(a)?A("Plugin has already been applied to target app."):a&&T(a.install)?(i.add(a),a.install(c,...u)):T(a)?(i.add(a),a(c,...u)):A('A plugin must either be a function or an object with an "install" function.'),c},mixin(a){return r.mixins.includes(a)?A("Mixin has already been applied to target app"+(a.name?`: ${a.name}`:"")):r.mixins.push(a),c},component(a,u){return Co(a,r.config),u?(r.components[a]&&A(`Component "${a}" has already been registered in target app.`),r.components[a]=u,c):r.components[a]},directive(a,u){return Ic(a),u?(r.directives[a]&&A(`Directive "${a}" has already been registered in target app.`),r.directives[a]=u,c):r.directives[a]},mount(){},unmount(){},provide(a,u){return a in r.provides&&A(`App already provides property with key "${String(a)}". It will be overwritten with the new value.`),r.provides[a]=u,c},runWithContext(a){const u=At;At=c;try{return a()}finally{At=u}}};return c}}let At=null;function nf(e,t){if(!V)A("provide() can only be used inside setup().");else{let n=V.provides;const o=V.parent&&V.parent.provides;o===n&&(n=V.provides=Object.create(o)),n[e]=t,V.type.mpType==="app"&&V.appContext.app.provide(e,t)}}function Wn(e,t,n=!1){const o=V||Ze;if(o||At){const s=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:At._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&T(t)?t.call(o&&o.proxy):t;A(`injection "${String(e)}" not found.`)}else A("inject() can only be used inside setup() or functional components.")}const of=e=>e.type.__isKeepAlive;function sf(e,t){Pc(e,"a",t)}function rf(e,t){Pc(e,"da",t)}function Pc(e,t,n=V){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(st(t,o,n),n){let s=n.parent;for(;s&&s.parent;)of(s.parent.vnode)&&cf(o,t,n,s),s=s.parent}}function cf(e,t,n,o){const s=st(t,e,o,!0);Ec(()=>{An(o[t],s)},n)}function st(e,t,n=V,o=!1){if(n){Qu(e)&&(n=n.root);const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;nt();const c=Kt(n),a=je(t,n,e,i);return c(),ot(),a});return o?s.unshift(r):s.push(r),r}else{const s=Fe((gs[e]||e.replace(/^on/,"")).replace(/ hook$/,""));A(`${s} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().`)}}const xe=e=>(t,n=V)=>(!vs||e==="sp")&&st(e,(...o)=>t(...o),n),af=xe("bm"),uf=xe("m"),lf=xe("bu"),ff=xe("u"),ws=xe("bum"),Ec=xe("um"),df=xe("sp"),pf=xe("rtg"),hf=xe("rtc");function gf(e,t=V){st("ec",e,t)}const xo=e=>e?Lc(e)?Vt(e)||e.proxy:xo(e.parent):null;function mf(e){return e}const Nt=M(Object.create(null),{$:mf,$el:e=>e.__$el||(e.__$el={}),$data:e=>e.data,$props:e=>ut(e.props),$attrs:e=>ut(e.attrs),$slots:e=>ut(e.slots),$refs:e=>ut(e.refs),$parent:e=>xo(e.parent),$root:e=>xo(e.root),$emit:e=>e.emit,$options:e=>Ac(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,gn(e.update)}),$watch:e=>Zl.bind(e)}),bs=e=>e==="_"||e==="$",zn=(e,t)=>e!==F&&!e.__isScriptSetup&&$(e,t),Tc={get({_:e},t){const{ctx:n,setupState:o,data:s,props:r,accessCache:i,type:c,appContext:a}=e;if(t==="__isVue")return!0;let u;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(zn(o,t))return i[t]=1,o[t];if(s!==F&&$(s,t))return i[t]=2,s[t];if((u=e.propsOptions[0])&&$(u,t))return i[t]=3,r[t];if(n!==F&&$(n,t))return i[t]=4,n[t];Po&&(i[t]=0)}}const f=Nt[t];let l,h;if(f)return(t==="$attrs"||t==="$slots")&&Z(e,"get",t),f(e);if((l=c.__cssModules)&&(l=l[t]))return l;if(n!==F&&$(n,t))return i[t]=4,n[t];if(h=a.config.globalProperties,$(h,t))return h[t];Ze&&(!H(t)||t.indexOf("__v")!==0)&&(s!==F&&bs(t[0])&&$(s,t)?A(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Ze&&A(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:o,setupState:s,ctx:r}=e;return zn(s,t)?(s[t]=n,!0):s.__isScriptSetup&&$(s,t)?(A(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):o!==F&&$(o,t)?(o[t]=n,!0):$(e.props,t)?(A(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(A(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:r}},i){let c;return!!n[i]||e!==F&&$(e,i)||zn(t,i)||(c=r[0])&&$(c,i)||$(o,i)||$(Nt,i)||$(s.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};Tc.ownKeys=e=>(A("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function _f(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Nt).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Nt[n](e),set:J})}),t}function yf(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(o=>{Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>e.props[o],set:J})})}function wf(e){const{ctx:t,setupState:n}=e;Object.keys(R(n)).forEach(o=>{if(!n.__isScriptSetup){if(bs(o[0])){A(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>n[o],set:J})}})}function Gs(e){return C(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function bf(){const e=Object.create(null);return(t,n)=>{e[n]?A(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let Po=!0;function vf(e){const t=Ac(e),n=e.proxy,o=e.ctx;Po=!1,t.beforeCreate&&Ys(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:i,watch:c,provide:a,inject:u,created:f,beforeMount:l,mounted:h,beforeUpdate:g,updated:_,activated:p,deactivated:d,beforeDestroy:m,beforeUnmount:w,destroyed:y,unmounted:b,render:P,renderTracked:v,renderTriggered:N,errorCaptured:L,serverPrefetch:K,expose:ce,inheritAttrs:Q,components:de,directives:ue,filters:He}=t,ie=bf();{const[D]=e.propsOptions;if(D)for(const U in D)ie("Props",U)}function it(){u&&Sf(u,o,ie)}if(it(),i)for(const D in i){const U=i[D];T(U)?(Object.defineProperty(o,D,{value:U.bind(n),configurable:!0,enumerable:!0,writable:!0}),ie("Methods",D)):A(`Method "${D}" has type "${typeof U}" in the component definition. Did you reference the function correctly?`)}if(s){T(s)||A("The data option must be a function. Plain object usage is no longer supported.");const D=s.call(n,n);if(Bt(D)&&A("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!j(D))A("data() should return an object.");else{e.data=Dn(D);for(const U in D)ie("Data",U),bs(U[0])||Object.defineProperty(o,U,{configurable:!0,enumerable:!0,get:()=>D[U],set:J})}}if(Po=!0,r)for(const D in r){const U=r[D],S=T(U)?U.bind(n,n):T(U.get)?U.get.bind(n,n):J;S===J&&A(`Computed property "${D}" has no getter.`);const E=!T(U)&&T(U.set)?U.set.bind(n):()=>{A(`Write operation failed: computed property "${D}" is readonly.`)},I=ed({get:S,set:E});Object.defineProperty(o,D,{enumerable:!0,configurable:!0,get:()=>I.value,set:x=>I.value=x}),ie("Computed",D)}if(c)for(const D in c)Oc(c[D],o,n,D);function ct(){if(a){const D=T(a)?a.call(n):a;Reflect.ownKeys(D).forEach(U=>{nf(U,D[U])})}}ct(),f&&Ys(f,e,"c");function Y(D,U){C(U)?U.forEach(S=>D(S.bind(n))):U&&D(U.bind(n))}if(Y(af,l),Y(uf,h),Y(lf,g),Y(ff,_),Y(sf,p),Y(rf,d),Y(gf,L),Y(hf,v),Y(pf,N),Y(ws,w),Y(Ec,b),Y(df,K),C(ce))if(ce.length){const D=e.exposed||(e.exposed={});ce.forEach(U=>{Object.defineProperty(D,U,{get:()=>n[U],set:S=>n[U]=S})})}else e.exposed||(e.exposed={});P&&e.render===J&&(e.render=P),Q!=null&&(e.inheritAttrs=Q),de&&(e.components=de),ue&&(e.directives=ue),e.ctx.$onApplyOptions&&e.ctx.$onApplyOptions(t,e,n)}function Sf(e,t,n=J){C(e)&&(e=Eo(e));for(const o in e){const s=e[o];let r;j(s)?"default"in s?r=Wn(s.from||o,s.default,!0):r=Wn(s.from||o):r=Wn(s),ne(r)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[o]=r,n("Inject",o)}}function Ys(e,t,n){je(C(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Oc(e,t,n,o){const s=o.includes(".")?Sc(n,o):()=>n[o];if(H(e)){const r=t[e];T(r)?Vn(s,r):A(`Invalid watch handler specified by key "${e}"`,r)}else if(T(e))Vn(s,e.bind(n));else if(j(e))if(C(e))e.forEach(r=>Oc(r,t,n,o));else{const r=T(e.handler)?e.handler.bind(n):t[e.handler];T(r)?Vn(s,r,e):A(`Invalid watch handler specified by key "${e.handler}"`,r)}else A(`Invalid watch option: "${o}"`,e)}function Ac(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,c=r.get(t);let a;return c?a=c:!s.length&&!n&&!o?a=t:(a={},s.length&&s.forEach(u=>mn(a,u,i,!0)),mn(a,t,i)),j(t)&&r.set(t,a),a}function mn(e,t,n,o=!1){const{mixins:s,extends:r}=t;r&&mn(e,r,n,!0),s&&s.forEach(i=>mn(e,i,n,!0));for(const i in t)if(o&&i==="expose")A('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=If[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const If={data:Qs,props:Xs,emits:Xs,methods:Ot,computed:Ot,beforeCreate:ee,created:ee,beforeMount:ee,mounted:ee,beforeUpdate:ee,updated:ee,beforeDestroy:ee,beforeUnmount:ee,destroyed:ee,unmounted:ee,activated:ee,deactivated:ee,errorCaptured:ee,serverPrefetch:ee,components:Ot,directives:Ot,watch:Pf,provide:Qs,inject:xf};function Qs(e,t){return t?e?function(){return M(T(e)?e.call(this,this):e,T(t)?t.call(this,this):t)}:t:e}function xf(e,t){return Ot(Eo(e),Eo(t))}function Eo(e){if(C(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ee(e,t){return e?[...new Set([].concat(e,t))]:t}function Ot(e,t){return e?M(Object.create(null),e,t):t}function Xs(e,t){return e?C(e)&&C(t)?[...new Set([...e,...t])]:M(Object.create(null),Gs(e),Gs(t??{})):t}function Pf(e,t){if(!e)return t;if(!t)return e;const n=M(Object.create(null),e);for(const o in t)n[o]=ee(e[o],t[o]);return n}function Ef(e,t,n,o=!1){const s={},r={};e.propsDefaults=Object.create(null),Cc(e,t,s,r);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);$c(t||{},s,e),n?e.props=o?s:xl(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function Tf(e,t,n,o){const{props:s,attrs:r,vnode:{patchFlag:i}}=e,c=R(s),[a]=e.propsOptions;let u=!1;if(!void 0&&(o||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let h=f[l];if(bc(e.emitsOptions,h))continue;const g=t[h];if(a)if($(r,h))g!==r[h]&&(r[h]=g,u=!0);else{const _=be(h);s[_]=To(a,c,_,g,e,!1)}else g!==r[h]&&(r[h]=g,u=!0)}}}else{Cc(e,t,s,r)&&(u=!0);let f;for(const l in c)(!t||!$(t,l)&&((f=Ye(l))===l||!$(t,f)))&&(a?n&&(n[l]!==void 0||n[f]!==void 0)&&(s[l]=To(a,c,l,void 0,e,!0)):delete s[l]);if(r!==c)for(const l in r)(!t||!$(t,l))&&(delete r[l],u=!0)}u&&Se(e,"set","$attrs"),$c(t||{},s,e)}function Cc(e,t,n,o){const[s,r]=e.propsOptions;let i=!1,c;if(t)for(let a in t){if(mi(a))continue;const u=t[a];let f;s&&$(s,f=be(a))?!r||!r.includes(f)?n[f]=u:(c||(c={}))[f]=u:bc(e.emitsOptions,a)||(!(a in o)||u!==o[a])&&(o[a]=u,i=!0)}if(r){const a=R(n),u=c||F;for(let f=0;f<r.length;f++){const l=r[f];n[l]=To(s,a,l,u[l],e,!$(u,l))}}return i}function To(e,t,n,o,s,r){const i=e[n];if(i!=null){const c=$(i,"default");if(c&&o===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&T(a)){const{propsDefaults:u}=s;if(n in u)o=u[n];else{const f=Kt(s);o=u[n]=a.call(null,t),f()}}else o=a}i[0]&&(r&&!c?o=!1:i[1]&&(o===""||o===Ye(n))&&(o=!0))}return o}function kc(e,t,n=!1){const o=t.propsCache,s=o.get(e);if(s)return s;const r=e.props,i={},c=[];let a=!1;if(!T(e)){const f=l=>{a=!0;const[h,g]=kc(l,t,!0);M(i,h),g&&c.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!a)return j(e)&&o.set(e,Ds),Ds;if(C(r))for(let f=0;f<r.length;f++){H(r[f])||A("props must be strings when using array syntax.",r[f]);const l=be(r[f]);Zs(l)&&(i[l]=F)}else if(r){j(r)||A("invalid props options",r);for(const f in r){const l=be(f);if(Zs(l)){const h=r[f],g=i[l]=C(h)||T(h)?{type:h}:M({},h);if(g){const _=tr(Boolean,g.type),p=tr(String,g.type);g[0]=_>-1,g[1]=p<0||_<p,(_>-1||$(g,"default"))&&c.push(l)}}}}const u=[i,c];return j(e)&&o.set(e,u),u}function Zs(e){return e[0]!=="$"&&!mi(e)?!0:(A(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Oo(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function er(e,t){return Oo(e)===Oo(t)}function tr(e,t){return C(t)?t.findIndex(n=>er(n,e)):T(t)&&er(t,e)?0:-1}function $c(e,t,n){const o=R(t),s=n.propsOptions[0];for(const r in s){let i=s[r];i!=null&&Of(r,o[r],i,ut(o),!$(e,r)&&!$(e,Ye(r)))}}function Of(e,t,n,o,s){const{type:r,required:i,validator:c,skipCheck:a}=n;if(i&&s){A('Missing required prop: "'+e+'"');return}if(!(t==null&&!i)){if(r!=null&&r!==!0&&!a){let u=!1;const f=C(r)?r:[r],l=[];for(let h=0;h<f.length&&!u;h++){const{valid:g,expectedType:_}=Cf(t,f[h]);l.push(_||""),u=g}if(!u){A(kf(e,t,l));return}}c&&!c(t,o)&&A('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Af=vt("String,Number,Boolean,Function,Symbol,BigInt");function Cf(e,t){let n;const o=Oo(t);if(Af(o)){const s=typeof e;n=s===o.toLowerCase(),!n&&s==="object"&&(n=e instanceof t)}else o==="Object"?n=j(e):o==="Array"?n=C(e):o==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:o}}function kf(e,t,n){if(n.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let o=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(Qe).join(" | ")}`;const s=n[0],r=Cn(t),i=nr(t,s),c=nr(t,r);return n.length===1&&or(s)&&!$f(s,r)&&(o+=` with value ${i}`),o+=`, got ${r} `,or(r)&&(o+=`with value ${c}.`),o}function nr(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function or(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function $f(...e){return e.some(t=>t.toLowerCase()==="boolean")}let xt,Ce;function _n(e,t){e.appContext.config.performance&&wn()&&Ce.mark(`vue-${t}-${e.uid}`),zl(e,t,wn()?Ce.now():Date.now())}function yn(e,t){if(e.appContext.config.performance&&wn()){const n=`vue-${t}-${e.uid}`,o=n+":end";Ce.mark(o),Ce.measure(`<${Fn(e,e.type)}> ${t}`,n,o),Ce.clearMarks(n),Ce.clearMarks(o)}Jl(e,t,wn()?Ce.now():Date.now())}function wn(){return xt!==void 0||(typeof window<"u"&&window.performance?(xt=!0,Ce=window.performance):xt=!1),xt}const sr=hc,Lf=Symbol.for("v-fgt"),Rf=Symbol.for("v-txt"),Nf=Symbol.for("v-cmt"),Df=Symbol.for("v-stc");function Uf(e){return e?e.__v_isVNode===!0:!1}const Mf="__vInternal";function jf(e){return e?Pl(e)||Mf in e?M({},e):e:null}const Hf=xc();let Ff=0;function Bf(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||Hf,r={uid:Ff++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new nl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kc(o,s),emitsOptions:wc(o,s),emit:null,emitted:null,propsDefaults:F,inheritAttrs:o.inheritAttrs,ctx:F,data:F,props:F,attrs:F,slots:F,refs:F,setupState:F,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null,$uniElements:new Map,$templateUniElementRefs:[],$templateUniElementStyles:{},$eS:{},$eA:{}};return r.ctx=_f(r),r.root=t?t.root:r,r.emit=Yl.bind(null,r),e.ce&&e.ce(r),r}let V=null;const Hn=()=>V||Ze;let bn,Ao;bn=e=>{V=e},Ao=e=>{vs=e};const Kt=e=>{const t=V;return bn(e),e.scope.on(),()=>{e.scope.off(),bn(t)}},rr=()=>{V&&V.scope.off(),bn(null)},qf=vt("slot,component");function Co(e,{isNativeTag:t}){(qf(e)||t(e))&&A("Do not use built-in or reserved HTML elements as component id: "+e)}function Lc(e){return e.vnode.shapeFlag&4}let vs=!1;function Kf(e,t=!1){t&&Ao(t);const{props:n}=e.vnode,o=Lc(e);Ef(e,n,o,t);const s=o?Vf(e,t):void 0;return t&&Ao(!1),s}function Vf(e,t){const n=e.type;{if(n.name&&Co(n.name,e.appContext.config),n.components){const s=Object.keys(n.components);for(let r=0;r<s.length;r++)Co(s[r],e.appContext.config)}if(n.directives){const s=Object.keys(n.directives);for(let r=0;r<s.length;r++)Ic(s[r])}n.compilerOptions&&Jf()&&A('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=fs(new Proxy(e.ctx,Tc)),yf(e);const{setup:o}=n;if(o){const s=e.setupContext=o.length>1?Qf(e):null,r=Kt(e);nt();const i=Ie(o,e,0,[ut(e.props),s]);ot(),r(),Bt(i)?(i.then(rr,rr),A("setup() returned a Promise, but the version of Vue you are using does not support it yet.")):Wf(e,i,t)}else Rc(e,t)}function Wf(e,t,n){T(t)?e.render=t:j(t)?(Uf(t)&&A("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=ac(t),wf(e)):t!==void 0&&A(`setup() should return an object. Received: ${t===null?"null":typeof t}`),Rc(e,n)}let zf;const Jf=()=>!zf;function Rc(e,t,n){const o=e.type;e.render||(e.render=o.render||J);{const s=Kt(e);nt();try{vf(e)}finally{ot(),s()}}!o.render&&e.render===J&&!t&&(o.template?A('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):A("Component is missing template or render function."))}function Gf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Z(e,"get","$attrs"),t[n]},set(){return A("setupContext.attrs is readonly."),!1},deleteProperty(){return A("setupContext.attrs is readonly."),!1}}))}function Yf(e){return e.slotsProxy||(e.slotsProxy=new Proxy(e.slots,{get(t,n){return Z(e,"get","$slots"),t[n]}}))}function Qf(e){return Object.freeze({get attrs(){return Gf(e)},get slots(){return Yf(e)},get emit(){return(n,...o)=>e.emit(n,...o)},expose:n=>{if(e.exposed&&A("expose() should be called only once per setup()."),n!=null){let o=typeof n;o==="object"&&(C(n)?o="array":ne(n)&&(o="ref")),o!=="object"&&A(`expose() should be passed a plain object, received ${o}.`)}e.exposed=n||{}}})}function Vt(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ac(fs(e.exposed)),{get(t,n){return n in t?t[n]:e.proxy[n]},has(t,n){return n in t||n in Nt}}))}const Xf=/(?:^|[-_])(\w)/g,Zf=e=>e.replace(Xf,t=>t.toUpperCase()).replace(/[-_]/g,"");function Ss(e,t=!0){return T(e)?e.displayName||e.name:e.name||t&&e.__name}function Fn(e,t,n=!1){let o=Ss(t);if(!o&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&e&&e.parent){const s=r=>{for(const i in r)if(r[i]===t)return i};o=s(e.components||e.parent.type.components)||s(e.appContext.components)}return o?Zf(o):n?"App":"Anonymous"}const ed=(e,t)=>{const n=Tl(e,t,vs);{const o=Hn();o&&o.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n},Nc="3.4.21",Is=A;function vn(e){return cc(e)}const Be="[object Array]",qe="[object Object]";function Dc(e,t){const n={};return ko(e,t),un(e,t,"",n),n}function ko(e,t){if(e=vn(e),e===t)return;const n=ge(e),o=ge(t);if(n==qe&&o==qe)for(let s in t){const r=e[s];r===void 0?e[s]=null:ko(r,t[s])}else n==Be&&o==Be&&e.length>=t.length&&t.forEach((s,r)=>{ko(e[r],s)})}function un(e,t,n,o){if(e=vn(e),e===t)return;const s=ge(e),r=ge(t);if(s==qe)if(r!=qe||Object.keys(e).length<Object.keys(t).length)Te(o,n,e);else for(let i in e){const c=vn(e[i]),a=t[i],u=ge(c),f=ge(a);if(u!=Be&&u!=qe)c!=a&&Te(o,(n==""?"":n+".")+i,c);else if(u==Be)f!=Be||c.length<a.length?Te(o,(n==""?"":n+".")+i,c):c.forEach((l,h)=>{un(l,a[h],(n==""?"":n+".")+i+"["+h+"]",o)});else if(u==qe)if(f!=qe||Object.keys(c).length<Object.keys(a).length)Te(o,(n==""?"":n+".")+i,c);else for(let l in c)un(c[l],a[l],(n==""?"":n+".")+i+"."+l,o)}else s==Be?r!=Be||e.length<t.length?Te(o,n,e):e.forEach((i,c)=>{un(i,t[c],n+"["+c+"]",o)}):Te(o,n,e)}function Te(e,t,n){e[t]=n}function td(e){return z.includes(e.update)}function ir(e){const n=e.ctx.__next_tick_callbacks;if(n&&n.length){const o=n.slice(0);n.length=0;for(let s=0;s<o.length;s++)o[s]()}}function $o(e,t){const n=e.ctx;if(!n.__next_tick_pending&&!td(e))return dc(t&&t.bind(e.proxy));let o;return n.__next_tick_callbacks||(n.__next_tick_callbacks=[]),n.__next_tick_callbacks.push(()=>{t?Ie(t.bind(e.proxy),e,14):o&&o(e.proxy)}),new Promise(s=>{o=s})}function Lo(e,t){e=vn(e);const n=typeof e;if(n==="object"&&e!==null){let o=t.get(e);if(typeof o<"u")return o;if(C(e)){const s=e.length;o=new Array(s),t.set(e,o);for(let r=0;r<s;r++)o[r]=Lo(e[r],t)}else{o={},t.set(e,o);for(const s in e)$(e,s)&&(o[s]=Lo(e[s],t))}return o}if(n!=="symbol")return e}function nd(e){return Lo(e,typeof WeakMap<"u"?new WeakMap:new Map)}function od(e,t){const n=e.data,o=Object.create(null);return t.forEach(s=>{o[s]=n[s]}),o}function cr(e,t,n){if(!t)return;t=nd(t),t.$eS=e.$eS||{},t.$eA=e.$eA||{};const o=e.ctx,s=o.mpType;if(s==="page"||s==="component"){t.r0=1;const r=o.$scope,i=Object.keys(t),c=Dc(t,n||od(r,i));Object.keys(c).length?(o.__next_tick_pending=!0,r.setData(c,()=>{o.__next_tick_pending=!1,ir(e)}),gc()):ir(e)}}function sd(e){e.globalProperties.$nextTick=function(n){return $o(this.$,n)}}function rd(e,t,n){t.appContext.config.globalProperties.$applyOptions(e,t,n);const o=e.computed;if(o){const s=Object.keys(o);if(s.length){const r=t.ctx;r.$computedKeys||(r.$computedKeys=[]),r.$computedKeys.push(...s)}}delete t.ctx.$onApplyOptions}function Uc(e,t=!1){const{setupState:n,$templateRefs:o,$templateUniElementRefs:s,ctx:{$scope:r,$mpPlatform:i}}=e;if(i==="mp-alipay"||!r||!o&&!s)return;if(t){o&&o.forEach(f=>Pt(f,null,n)),s&&s.forEach(f=>Pt(f,null,n));return}const c=i==="mp-baidu"||i==="mp-toutiao",a=f=>{if(f.length===0)return[];const l=(r.selectAllComponents(".r")||[]).concat(r.selectAllComponents(".r-i-f")||[]);return f.filter(h=>{const g=cd(l,h.i);return c&&g===null?!0:(Pt(h,g,n),!1)})},u=()=>{if(o){const f=a(o);f.length&&e.proxy&&e.proxy.$scope&&e.proxy.$scope.setData({r1:1},()=>{a(f)})}};s&&s.length&&$o(e,()=>{s.forEach(f=>{C(f.v)?f.v.forEach(l=>{Pt(f,l,n)}):Pt(f,f.v,n)})}),r._$setRef?r._$setRef(u):$o(e,u)}function id(e){return j(e)&&fs(e),e}function cd(e,t){const n=e.find(o=>o&&(o.properties||o.props).uI===t);if(n){const o=n.$vm;return o?Vt(o.$)||o:id(n)}return null}function Pt({r:e,f:t},n,o){if(T(e))e(n,{});else{const s=H(e),r=ne(e);if(s||r)if(t){if(!r)return;C(e.value)||(e.value=[]);const i=e.value;if(i.indexOf(n)===-1){if(i.push(n),!n)return;n.$&&ws(()=>An(i,n),n.$)}}else s?$(o,e)&&(o[e]=n):ne(e)?e.value=n:ar(e);else ar(e)}}function ar(e){Is("Invalid template ref type:",e,`(${typeof e})`)}const Ro=hc;function ur(e,t){const n=e.component=Bf(e,t.parentComponent,null);return n.renderer=t.mpType?t.mpType:"component",n.ctx.$onApplyOptions=rd,n.ctx.$children=[],t.mpType==="app"&&(n.render=J),t.onBeforeSetup&&t.onBeforeSetup(n,t),ps(e),_n(n,"mount"),_n(n,"init"),Kf(n),yn(n,"init"),t.parentComponent&&n.proxy&&t.parentComponent.ctx.$children.push(Vt(n)||n.proxy),fd(n),hs(),yn(n,"mount"),n.proxy}const ad=e=>{let t;for(const n in e)(n==="class"||n==="style"||pi(n))&&((t||(t={}))[n]=e[n]);return t};function lr(e){const{type:t,vnode:n,proxy:o,withProxy:s,props:r,propsOptions:[i],slots:c,attrs:a,emit:u,render:f,renderCache:l,data:h,setupState:g,ctx:_,uid:p,appContext:{app:{config:{globalProperties:{pruneComponentPropsCache:d}}}},inheritAttrs:m}=e;e.$uniElementIds=new Map,e.$templateRefs=[],e.$templateUniElementRefs=[],e.$templateUniElementStyles={},e.$ei=0,d(p),e.__counter=e.__counter===0?1:0;let w;const y=zs(e);try{if(n.shapeFlag&4){fr(m,r,i,a);const b=s||o;w=f.call(b,b,l,r,g,h,_)}else{fr(m,r,i,t.props?a:ad(a));const b=t;w=b.length>1?b(r,{attrs:a,slots:c,emit:u}):b(r,null)}}catch(b){Mn(b,e,1),w=!1}return Uc(e),zs(y),w}function fr(e,t,n,o){if(t&&o&&e!==!1){const s=Object.keys(o).filter(r=>r!=="class"&&r!=="style");if(!s.length)return;n&&s.some(Us)?s.forEach(r=>{(!Us(r)||!(r.slice(9)in n))&&(t[r]=o[r])}):s.forEach(r=>t[r]=o[r])}}const ud=e=>{nt(),gc(),ot()};function ld(){const e=this.$scopedSlotsData;if(!e||e.length===0)return;const t=this.ctx.$scope,n=t.data,o=Object.create(null);e.forEach(({path:s,index:r,data:i})=>{const c=Mi(n,s),a=H(r)?`${s}.${r}`:`${s}[${r}]`;if(typeof c>"u"||typeof c[r]>"u")o[a]=i;else{const u=Dc(i,c[r]);Object.keys(u).forEach(f=>{o[a+"."+f]=u[f]})}}),e.length=0,Object.keys(o).length&&t.setData(o)}function Jn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function fd(e){const t=ld.bind(e);e.$updateScopedSlots=()=>dc(()=>gn(t));const n=()=>{if(!e.isMounted)ws(()=>{Uc(e,!0)},e),_n(e,"patch"),cr(e,lr(e)),yn(e,"patch"),ql(e);else{const{next:r,bu:i,u:c}=e;ps(r||e.vnode),Jn(e,!1),ud(),i&&cn(i),Jn(e,!0),_n(e,"patch"),cr(e,lr(e)),yn(e,"patch"),c&&Ro(c),Kl(e),hs()}},o=e.effect=new cs(n,J,()=>gn(s),e.scope),s=e.update=()=>{o.dirty&&o.run()};s.id=e.uid,Jn(e,!0),o.onTrack=e.rtc?r=>cn(e.rtc,r):void 0,o.onTrigger=e.rtg?r=>cn(e.rtg,r):void 0,s.ownerInstance=e,s()}function dd(e){const{bum:t,scope:n,update:o,um:s}=e;t&&cn(t);{const r=e.parent;if(r){const i=r.ctx.$children,c=Vt(e)||e.proxy,a=i.indexOf(c);a>-1&&i.splice(a,1)}}n.stop(),o&&(o.active=!1),s&&Ro(s),Ro(()=>{e.isUnmounted=!0}),Wl(e)}const pd=tf();function hd(){if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof my<"u")return my}function gd(e,t=null){const n=hd();n.__VUE__=!0,_c(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const o=pd(e,t),s=o._context;sd(s.config);const r=a=>(a.appContext=s,a.shapeFlag=6,a),i=function(u,f){return ur(r(u),f)},c=function(u){return u&&dd(u.$)};return o.mount=function(){e.render=J;const u=ur(r({type:e}),{mpType:"app",mpInstance:null,parentComponent:null,slots:[],props:null});return o._instance=u.$,Bl(o,Nc),u.$app=o,u.$createComponent=i,u.$destroyComponent=c,s.$appInstance=u,u},o.unmount=function(){Is("Cannot unmount an app.")},o}function dr(e,t,n,o){T(t)&&st(e,t.bind(n),o)}function md(e,t,n){const o=e.mpType||n.$mpType;!o||o==="component"||o==="page"&&t.renderer==="component"||Object.keys(e).forEach(s=>{if(Fi(s,e[s],!1)){const r=e[s];C(r)?r.forEach(i=>dr(s,i,n,t)):dr(s,r,n,t)}})}function _d(e,t,n){md(e,t,n)}function yd(e,t,n){return e[t]=n}function wd(e,...t){const n=this[e];return n?n(...t):(console.error(`method ${e} not found`),null)}function bd(e){const t=e.config.errorHandler;return function(o,s,r){t&&t(o,s,r);const i=e._instance;if(!i||!i.proxy)throw o;i[Xe]?i.proxy.$callHook(Xe,o):lc(o,r,s?s.$.vnode:null,!1)}}function vd(e,t){return e?[...new Set([].concat(e,t))]:t}function Sd(e){Hi.forEach(t=>{e[t]=vd})}let No;const nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Id=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;typeof atob!="function"?No=function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Id.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(e.length&3));for(var t,n="",o,s,r=0;r<e.length;)t=nn.indexOf(e.charAt(r++))<<18|nn.indexOf(e.charAt(r++))<<12|(o=nn.indexOf(e.charAt(r++)))<<6|(s=nn.indexOf(e.charAt(r++))),n+=o===64?String.fromCharCode(t>>16&255):s===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,t&255);return n}:No=atob;function xd(e){return decodeURIComponent(No(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Gn(){const e=k.getStorageSync("uni_id_token")||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse(xd(t[1]))}catch(o){throw new Error(""+o.message)}return n.tokenExpired=n.exp*1e3,delete n.exp,delete n.iat,n}function Pd(e){e.uniIDHasRole=function(t){const{role:n}=Gn();return n.indexOf(t)>-1},e.uniIDHasPermission=function(t){const{permission:n}=Gn();return this.uniIDHasRole("admin")||n.indexOf(t)>-1},e.uniIDTokenValid=function(){const{tokenExpired:t}=Gn();return t>Date.now()}}function Ed(e){const t=e.config;t.errorHandler=el(e,bd),Sd(t.optionMergeStrategies);const n=t.globalProperties;Pd(n),n.$set=yd,n.$applyOptions=_d,n.$callMethod=wd,k.invokeCreateVueAppHook(e)}const Dt=Object.create(null);function Td(e){const{uid:t,__counter:n}=Hn(),o=(Dt[t]||(Dt[t]=[])).push(jf(e))-1;return t+","+o+","+n}function Mc(e){delete Dt[e]}function xs(e){if(!e)return;const[t,n]=e.split(",");if(Dt[t])return Dt[t][parseInt(n)]}var Od={install(e){Ed(e),e.config.globalProperties.pruneComponentPropsCache=Mc;const t=e.mount;e.mount=function(o){const s=t.call(e,o),r=Ad();return r?r(s):typeof createMiniProgramApp<"u"&&createMiniProgramApp(s),s}}};function Ad(){const e="createApp";if(typeof global<"u"&&typeof global[e]<"u")return global[e];if(typeof my<"u")return my[e]}function Cd(e){return H(e)?e:kd(_i(e))}function kd(e){let t="";if(!e||H(e))return t;for(const n in e)t+=`${n.startsWith("--")?n:Ye(n)}:${e[n]};`;return t}function $d(e,t){const n=Hn(),o=n.ctx,s=typeof t<"u"&&(o.$mpPlatform==="mp-weixin"||o.$mpPlatform==="mp-qq"||o.$mpPlatform==="mp-xhs")&&(H(t)||typeof t=="number")?"_"+t:"",r="e"+n.$ei+++s,i=o.$scope;if(!e)return delete i[r],r;const c=i[r];return c?c.value=e:i[r]=Ld(e,n),r}function Ld(e,t){const n=o=>{Nd(o);let s=[o];t&&t.ctx.$getTriggerEventDetail&&typeof o.detail=="number"&&(o.detail=t.ctx.$getTriggerEventDetail(o.detail)),o.detail&&o.detail.__args__&&(s=o.detail.__args__);const r=n.value,i=()=>je(Dd(o,r),t,5,s),c=o.target,a=c&&c.dataset?String(c.dataset.eventsync)==="true":!1;if(Rd.includes(o.type)&&!a)setTimeout(i);else{const u=i();return o.type==="input"&&(C(u)||Bt(u))?void 0:u}};return n.value=e,n}const Rd=["tap","longpress","longtap","transitionend","animationstart","animationiteration","animationend","touchforcechange"];function Nd(e,t){e.type&&e.target&&(e.preventDefault=J,e.stopPropagation=J,e.stopImmediatePropagation=J,$(e,"detail")||(e.detail={}),$(e,"markerId")&&(e.detail=typeof e.detail=="object"?e.detail:{},e.detail.markerId=e.markerId),G(e.detail)&&$(e.detail,"checked")&&!$(e.detail,"value")&&(e.detail.value=e.detail.checked),G(e.detail)&&(e.target=M({},e.target,e.detail)))}function Dd(e,t){if(C(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n&&n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o(s))}else return t}function Ud(e,t){let n;if(C(e)||H(e)){n=new Array(e.length);for(let o=0,s=e.length;o<s;o++)n[o]=t(e[o],o,o)}else if(typeof e=="number"){if(!Number.isInteger(e))return Is(`The v-for range expect an integer value but got ${e}.`),[];n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o,o)}else if(j(e))if(e[Symbol.iterator])n=Array.from(e,(o,s)=>t(o,s,s));else{const o=Object.keys(e);n=new Array(o.length);for(let s=0,r=o.length;s<r;s++){const i=o[s];n[s]=t(e[i],i,s)}}else n=[];return n}function Md(e,t,n={}){const{$templateRefs:o}=Hn();o.push({i:t,r:e,k:n.k,f:n.f})}const Hd=(e,t)=>$d(e,t),Fd=(e,t)=>Ud(e,t),Bd=e=>Cd(e),qd=(e,...t)=>M(e,...t),Kd=e=>yi(e),Vd=e=>bu(e),Wd=e=>Td(e),zd=(e,t,n)=>Md(e,t,n);function Jd(e,t=null){return e&&(e.mpType="app"),gd(e,t).use(Od)}const Gd=Jd;function Yd(){var e;let t="";{const n=((e=wx.getAppBaseInfo)===null||e===void 0?void 0:e.call(wx))||wx.getSystemInfoSync(),o=n&&n.language?n.language:_e;t=pn(o)||_e}return t}function Qd(e,t){console.warn(`${e}: ${t}`)}function pr(e,t,n,o){o||(o=Qd);for(const s in n){const r=Zd(s,t[s],n[s],!$(t,s));H(r)&&o(e,r)}}function Xd(e,t,n,o){if(!n)return;if(!C(n))return pr(e,t[0]||Object.create(null),n,o);const s=n.length,r=t.length;for(let i=0;i<s;i++){const c=n[i],a=Object.create(null);r>i&&(a[c.name]=t[i]),pr(e,a,{[c.name]:c},o)}}function Zd(e,t,n,o){G(n)||(n={type:n});const{type:s,required:r,validator:i}=n;if(r&&o)return'Missing required args: "'+e+'"';if(!(t==null&&!r)){if(s!=null){let c=!1;const a=C(s)?s:[s],u=[];for(let f=0;f<a.length&&!c;f++){const{valid:l,expectedType:h}=tp(t,a[f]);u.push(h||""),c=l}if(!c)return np(e,t,u)}if(i)return i(t)}}const ep=vt("String,Number,Boolean,Function,Symbol");function tp(e,t){let n;const o=op(t);if(ep(o)){const s=typeof e;n=s===o.toLowerCase(),!n&&s==="object"&&(n=e instanceof t)}else o==="Object"?n=j(e):o==="Array"?n=C(e):n=e instanceof t;return{valid:n,expectedType:o}}function np(e,t,n){let o=`Invalid args: type check failed for args "${e}". Expected ${n.map(Qe).join(", ")}`;const s=n[0],r=Cn(t),i=hr(t,s),c=hr(t,r);return n.length===1&&gr(s)&&!sp(s,r)&&(o+=` with value ${i}`),o+=`, got ${r} `,gr(r)&&(o+=`with value ${c}.`),o}function op(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function hr(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function gr(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function sp(...e){return e.some(t=>t.toLowerCase()==="boolean")}function rp(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}let ip=1;const Do={};function cp(e,t,n,o=!1){return Do[e]={name:t,keepAlive:o,callback:n},e}function jc(e,t,n){if(typeof e=="number"){const o=Do[e];if(o)return o.keepAlive||delete Do[e],o.callback(t,n)}return t}const ap="success",up="fail",lp="complete";function fp(e){const t={};for(const n in e){const o=e[n];T(o)&&(t[n]=rp(o),delete e[n])}return t}function dp(e,t){return!e||e.indexOf(":fail")===-1?t+":ok":t+e.substring(e.indexOf(":fail"))}function pp(e,t={},{beforeAll:n,beforeSuccess:o}={}){G(t)||(t={});const{success:s,fail:r,complete:i}=fp(t),c=T(s),a=T(r),u=T(i),f=ip++;return cp(f,e,l=>{l=l||{},l.errMsg=dp(l.errMsg,e),T(n)&&n(l),l.errMsg===e+":ok"?(T(o)&&o(l,t),c&&s(l)):a&&r(l),u&&i(l)}),f}const hp="success",gp="fail",mp="complete",gt={},mt={};function _p(e,t){return function(n){return e(n,t)||n}}function Hc(e,t,n){let o=!1;for(let s=0;s<e.length;s++){const r=e[s];if(o)o=Promise.resolve(_p(r,n));else{const i=r(t,n);if(Bt(i)&&(o=Promise.resolve(i)),i===!1)return{then(){},catch(){}}}}return o||{then(s){return s(t)},catch(){}}}function mr(e,t={}){return[hp,gp,mp].forEach(n=>{const o=e[n];if(!C(o))return;const s=t[n];t[n]=function(i){Hc(o,i,t).then(c=>T(s)&&s(c)||c)}}),t}function Sn(e,t){const n=[];C(gt.returnValue)&&n.push(...gt.returnValue);const o=mt[e];return o&&C(o.returnValue)&&n.push(...o.returnValue),n.forEach(s=>{t=s(t)||t}),t}function _r(e){const t=Object.create(null);Object.keys(gt).forEach(o=>{o!=="returnValue"&&(t[o]=gt[o].slice())});const n=mt[e];return n&&Object.keys(n).forEach(o=>{o!=="returnValue"&&(t[o]=(t[o]||[]).concat(n[o]))}),t}function In(e,t,n,o){const s=_r(e);return s&&Object.keys(s).length?C(s.invoke)?Hc(s.invoke,n).then(i=>t(mr(_r(e),i),...o)):t(mr(s,n),...o):t(n,...o)}function yp(e){return!!(G(e)&&[ap,up,lp].find(t=>T(e[t])))}function wp(e,t){return(n={},...o)=>yp(n)?Sn(e,In(e,t,M({},n),o)):Sn(e,new Promise((s,r)=>{In(e,t,M({},n,{success:s,fail:r}),o)}))}function bp(e,t){e[0]}function vp(e,t,n){const o={errMsg:t+":ok"};return jc(e,M(n||{},o))}function yr(e,t,n,o={}){const s=t+":fail";let r="";n?n.indexOf(s)===0?r=n:r=s+" "+n:r=s,delete o.errCode;let i=M({errMsg:r},o);return jc(e,i)}function Fc(e,t,n,o){Xd(e,t,n);const s=bp(t);if(s)return s}function Sp(e){return!e||H(e)?e:e.stack?((typeof globalThis>"u"||!globalThis.harmonyChannel)&&console.error(e.message+`
`+e.stack),e.message):e}function Ip(e,t,n,o){return s=>{const r=pp(e,s,o),i=Fc(e,[s],n);return i?yr(r,e,i):t(s,{resolve:c=>vp(r,e,c),reject:(c,a)=>yr(r,e,Sp(c),a)})}}function xp(e,t,n,o){return(...s)=>{const r=Fc(e,s,n);if(r)throw new Error(r);return t.apply(null,s)}}function Pp(e,t,n,o){return Ip(e,t,n,o)}function rt(e,t,n,o){return xp(e,t,n)}function Ep(e,t,n,o){return wp(e,Pp(e,t,n,o))}const Tp="upx2px",Op=[{name:"upx",type:[Number,String],required:!0}],Ap=1e-4,Cp=750;let Bc=!1,Uo=0,qc=0;function kp(){var e,t;let n,o,s;{const r=((e=wx.getWindowInfo)===null||e===void 0?void 0:e.call(wx))||wx.getSystemInfoSync(),i=((t=wx.getDeviceInfo)===null||t===void 0?void 0:t.call(wx))||wx.getSystemInfoSync();n=r.windowWidth,o=r.pixelRatio,s=i.platform}Uo=n,qc=o,Bc=s==="ios"}const wr=rt(Tp,(e,t)=>{if(Uo===0&&kp(),e=Number(e),e===0)return 0;let n=t||Uo,o=e/Cp*n;return o<0&&(o=-o),o=Math.floor(o+Ap),o===0&&(qc===1||!Bc?o=1:o=.5),e<0?-o:o},Op);function $p(e,t,...n){t&&n.push(t),console[e].apply(console,n)}const Lp="addInterceptor",Rp="removeInterceptor",Kc=[{name:"method",type:[String,Object],required:!0}],Np=Kc;function br(e,t){Object.keys(t).forEach(n=>{T(t[n])&&(e[n]=Dp(e[n],t[n]))})}function vr(e,t){!e||!t||Object.keys(t).forEach(n=>{const o=e[n],s=t[n];C(o)&&T(s)&&An(o,s)})}function Dp(e,t){const n=t?e?e.concat(t):C(t)?t:[t]:e;return n&&Up(n)}function Up(e){const t=[];for(let n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}const Mp=rt(Lp,(e,t)=>{H(e)&&G(t)?br(mt[e]||(mt[e]={}),t):G(e)&&br(gt,e)},Kc),jp=rt(Rp,(e,t)=>{H(e)?G(t)?vr(mt[e],t):delete mt[e]:G(e)&&vr(gt,e)},Np),Hp={},Fp="$on",Vc=[{name:"event",type:String,required:!0},{name:"callback",type:Function,required:!0}],Bp="$once",qp=Vc,Kp="$off",Vp=[{name:"event",type:[String,Array]},{name:"callback",type:[Function,Number]}],Wp="$emit",zp=[{name:"event",type:String,required:!0}];class Jp{constructor(){this.$emitter=new tl}on(t,n){return this.$emitter.on(t,n)}once(t,n){return this.$emitter.once(t,n)}off(t,n){if(!t){this.$emitter.e={};return}this.$emitter.off(t,n)}emit(t,...n){this.$emitter.emit(t,...n)}}const _t=new Jp,Gp=rt(Fp,(e,t)=>(_t.on(e,t),()=>_t.off(e,t)),Vc),Yp=rt(Bp,(e,t)=>(_t.once(e,t),()=>_t.off(e,t)),qp),Qp=rt(Kp,(e,t)=>{C(e)||(e=e?[e]:[]),e.forEach(n=>{_t.off(n,t)})},Vp),Xp=rt(Wp,(e,...t)=>{_t.emit(e,...t)},zp);let Ct,Mo,jo;function Sr(e){try{return JSON.parse(e)}catch{}return e}function Zp(e){if(e.type==="enabled")jo=!0;else if(e.type==="clientId")Ct=e.cid,Mo=e.errMsg,Wc(Ct,e.errMsg);else if(e.type==="pushMsg"){const t={type:"receive",data:Sr(e.message)};for(let n=0;n<Re.length;n++){const o=Re[n];if(o(t),t.stopped)break}}else e.type==="click"&&Re.forEach(t=>{t({type:"click",data:Sr(e.message)})})}const Ho=[];function Wc(e,t){Ho.forEach(n=>{n(e,t)}),Ho.length=0}const eh="getPushClientId",th=Ep(eh,(e,{resolve:t,reject:n})=>{Promise.resolve().then(()=>{typeof jo>"u"&&(jo=!1,Ct="",Mo="uniPush is not enabled"),Ho.push((o,s)=>{o?t({cid:o}):n(s)}),typeof Ct<"u"&&Wc(Ct,Mo)})}),Re=[],nh=e=>{Re.indexOf(e)===-1&&Re.push(e)},oh=e=>{if(!e)Re.length=0;else{const t=Re.indexOf(e);t>-1&&Re.splice(t,1)}},sh=/^\$|__f__|getLocale|setLocale|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|rpx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getDeviceInfo|getAppBaseInfo|getWindowInfo|getSystemSetting|getAppAuthorizeSetting/,rh=/^create|Manager$/,ih=["createBLEConnection"],ch=["request","downloadFile","uploadFile","connectSocket"],ah=["createBLEConnection"],uh=/^on|^off/;function ln(e){return rh.test(e)&&ih.indexOf(e)===-1}function zc(e){return sh.test(e)&&ah.indexOf(e)===-1}function lh(e){return uh.test(e)&&e!=="onPush"}function Ir(e){return ch.indexOf(e)!==-1}function fh(e){return!(ln(e)||zc(e)||lh(e))}Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then(n=>t.resolve(e&&e()).then(()=>n),n=>t.resolve(e&&e()).then(()=>{throw n}))});function Yn(e,t){return!fh(e)||!T(t)?t:function(o={},...s){return T(o.success)||T(o.fail)||T(o.complete)?Sn(e,In(e,t,M({},o),s)):Sn(e,new Promise((r,i)=>{In(e,t,M({},o,{success:r,fail:i}),s)}))}}const dh=["success","fail","cancel","complete"];function ph(e){function t(s,r,i){return function(c){return r(o(s,c,i))}}function n(s,r,i={},c={},a=!1){if(G(r)){const u=a===!0?r:{};T(i)&&(i=i(r,u)||{});for(const f in r)if($(i,f)){let l=i[f];T(l)&&(l=l(r[f],r,u)),l?H(l)?u[l]=r[f]:G(l)&&(u[l.name?l.name:f]=l.value):console.warn(` ${s}  ${f}`)}else if(dh.indexOf(f)!==-1){const l=r[f];T(l)&&(u[f]=t(s,l,c))}else!a&&!$(u,f)&&(u[f]=r[f]);return u}else T(r)&&(T(i)&&i(r,{}),r=t(s,r,c));return r}function o(s,r,i,c=!1){return T(e.returnValue)&&(r=e.returnValue(s,r)),n(s,r,i,{},c||!1)}return function(r,i){const c=$(e,r);if(!c&&typeof wx[r]!="function")return i;const a=c||T(e.returnValue)||ln(r)||Ir(r),u=c||T(i);if(!c&&!i)return function(){console.error(` ${r}`)};if(!a||!u)return i;const f=e[r];return function(l,h){let g=f||{};T(f)&&(g=f(l)),l=n(r,l,g.args,g.returnValue);const _=[l];typeof h<"u"&&_.push(h);const p=wx[g.name||r].apply(wx,_);return(ln(r)||Ir(r))&&p&&!p.__v_skip&&(p.__v_skip=!0),zc(r)?o(r,p,g.returnValue,ln(r)):p}}}const xn=()=>{const e=T(getApp)&&getApp({allowDefault:!0});return e&&e.$vm?e.$vm.$locale:Yd()},hh=e=>{const t=T(getApp)&&getApp();return t&&t.$vm.$locale!==e?(t.$vm.$locale=e,Fo.forEach(o=>o({locale:e})),!0):!1},Fo=[],gh=e=>{Fo.indexOf(e)===-1&&Fo.push(e)};typeof global<"u"&&(global.getLocale=xn);const xr="__DC_STAT_UUID";let at;function Jc(e=wx){return function(n,o){at=at||e.getStorageSync(xr),at||(at=Date.now()+""+Math.floor(Math.random()*1e7),wx.setStorage({key:xr,data:at})),o.deviceId=at}}function Gc(e,t){if(e.safeArea){const n=e.safeArea;t.safeAreaInsets={top:n.top,left:n.left,right:e.windowWidth-n.right,bottom:e.screenHeight-n.bottom}}}function Yc(e,t){let n="",o="";switch(n=e.split(" ")[0]||t,o=e.split(" ")[1]||"",n=n.toLowerCase(),n){case"harmony":case"ohos":case"openharmony":n="harmonyos";break;case"iphone os":n="ios";break;case"mac":case"darwin":n="macos";break;case"windows_nt":n="windows";break}return{osName:n,osVersion:o}}function mh(e,t){const{brand:n="",model:o="",system:s="",language:r="",theme:i,version:c,platform:a,fontSizeSetting:u,SDKVersion:f,pixelRatio:l,deviceOrientation:h}=e,{osName:g,osVersion:_}=Yc(s,a);let p=c,d=Qc(e,o),m=Xc(n),w=ea(e),y=h,b=l,P=f;const v=(r||"").replace(/_/g,"-"),N={appId:"__UNI__4B38155",appName:"be-crm",appVersion:"1.0.0",appVersionCode:"100",appLanguage:Zc(v),uniCompileVersion:"4.85",uniCompilerVersion:"4.85",uniRuntimeVersion:"4.85",uniPlatform:"mp-weixin",deviceBrand:m,deviceModel:o,deviceType:d,devicePixelRatio:b,deviceOrientation:y,osName:g,osVersion:_,hostTheme:i,hostVersion:p,hostLanguage:v,hostName:w,hostSDKVersion:P,hostFontSizeSetting:u,windowTop:0,windowBottom:0,osLanguage:void 0,osTheme:void 0,ua:void 0,hostPackageName:void 0,browserName:void 0,browserVersion:void 0,isUniAppX:!1};M(t,N)}function Qc(e,t){let n=e.deviceType||"phone";{const o={ipad:"pad",windows:"pc",mac:"pc"},s=Object.keys(o),r=t.toLowerCase();for(let i=0;i<s.length;i++){const c=s[i];if(r.indexOf(c)!==-1){n=o[c];break}}}return n}function Xc(e){let t=e;return t&&(t=t.toLowerCase()),t}function Zc(e){return xn?xn():e}function ea(e){let n=e.hostName||"WeChat";return e.environment?n=e.environment:e.host&&e.host.env&&(n=e.host.env),n}const ta={returnValue:(e,t)=>{Gc(e,t),Jc()(e,t),mh(e,t)}},_h=ta,yh={},wh={args(e,t){let n=parseInt(e.current);if(isNaN(n))return;const o=e.urls;if(!C(o))return;const s=o.length;if(s)return n<0?n=0:n>=s&&(n=s-1),n>0?(t.current=o[n],t.urls=o.filter((r,i)=>i<n?r!==o[n]:!0)):t.current=o[0],{indicator:!1,loop:!1}}},bh={args(e,t){t.alertText=e.title}},vh={returnValue:(e,t)=>{const{brand:n,model:o,system:s="",platform:r=""}=e;let i=Qc(e,o),c=Xc(n);Jc()(e,t);const{osName:a,osVersion:u}=Yc(s,r);t=ji(M(t,{deviceType:i,deviceBrand:c,deviceModel:o,osName:a,osVersion:u}))}},Sh={returnValue:(e,t)=>{const{version:n,language:o,SDKVersion:s,theme:r}=e;let i=ea(e),c=(o||"").replace(/_/g,"-");const a={hostVersion:n,hostLanguage:c,hostName:i,hostSDKVersion:s,hostTheme:r,appId:"__UNI__4B38155",appName:"be-crm",appVersion:"1.0.0",appVersionCode:"100",appLanguage:Zc(c),isUniAppX:!1,uniPlatform:"mp-weixin",uniCompileVersion:"4.85",uniCompilerVersion:"4.85",uniRuntimeVersion:"4.85"};M(t,a)}},Ih={returnValue:(e,t)=>{Gc(e,t),t=ji(M(t,{windowTop:0,windowBottom:0}))}},xh={returnValue:function(e,t){const{locationReducedAccuracy:n}=e;t.locationAccuracy="unsupported",n===!0?t.locationAccuracy="reduced":n===!1&&(t.locationAccuracy="full")}},Ph={args(e){const t=getApp({allowDefault:!0})||{};t.$vm?st(Xe,e,t.$vm.$):(wx.$onErrorHandlers||(wx.$onErrorHandlers=[]),wx.$onErrorHandlers.push(e))}},Eh={args(e){const t=getApp({allowDefault:!0})||{};if(t.$vm){if(e.__weh){const n=t.$vm.$[Xe];if(n){const o=n.indexOf(e.__weh);o>-1&&n.splice(o,1)}}}else{if(!wx.$onErrorHandlers)return;const n=wx.$onErrorHandlers.findIndex(o=>o===e);n!==-1&&wx.$onErrorHandlers.splice(n,1)}}},na={args(){if(wx.__uni_console__){if(wx.__uni_console_warned__)return;wx.__uni_console_warned__=!0,console.warn(" socket  SocketTask  WebSocket [](https://uniapp.dcloud.net.cn/tutorial/run/mp-log.html)")}}},Th=na,Pr={$on:Gp,$off:Qp,$once:Yp,$emit:Xp,upx2px:wr,rpx2px:wr,interceptors:Hp,addInterceptor:Mp,removeInterceptor:jp,onCreateVueApp:Xu,invokeCreateVueAppHook:Zu,getLocale:xn,setLocale:hh,onLocaleChange:gh,getPushClientId:th,onPushMessage:nh,offPushMessage:oh,invokePushCallback:Zp,__f__:$p};function Oh(e,t,n=wx){const o=ph(t),s={get(r,i){return $(r,i)?r[i]:$(e,i)?Yn(i,e[i]):$(Pr,i)?Yn(i,Pr[i]):Yn(i,o(i,n[i]))}};return new Proxy({},s)}function Ah(e){return function({service:n,success:o,fail:s,complete:r}){let i;e[n]?(i={errMsg:"getProvider:ok",service:n,provider:e[n]},T(o)&&o(i)):(i={errMsg:"getProvider:fail:["+n+"]"},T(s)&&s(i)),T(r)&&r(i)}}const Ch=["qy","env","error","version","lanDebug","cloud","serviceMarket","router","worklet","__webpack_require_UNI_MP_PLUGIN__"],kh=["lanDebug","router","worklet"],Er=wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():null;function $h(e){return Er&&Er.scene===1154&&kh.includes(e)?!1:Ch.indexOf(e)>-1||typeof wx[e]=="function"}function oa(){const e={};for(const t in wx)$h(t)&&(e[t]=wx[t]);return typeof globalThis<"u"&&typeof requireMiniProgram>"u"&&(globalThis.wx=e),e}const Lh=["__route__","__wxExparserNodeId__","__wxWebviewId__"],Rh=Ah({oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]});function Nh(e){const t=Object.create(null);return Lh.forEach(n=>{t[n]=e[n]}),t}function Dh(){const e=te.createSelectorQuery(),t=e.in;return e.in=function(o){return o.$scope?t.call(this,o.$scope):t.call(this,Nh(o))},e}const te=oa();te.canIUse("getAppBaseInfo")||(te.getAppBaseInfo=te.getSystemInfoSync);te.canIUse("getWindowInfo")||(te.getWindowInfo=te.getSystemInfoSync);te.canIUse("getDeviceInfo")||(te.getDeviceInfo=te.getSystemInfoSync);let Pn=te.getAppBaseInfo&&te.getAppBaseInfo();Pn||(Pn=te.getSystemInfoSync());const Tr=Pn?Pn.host:null,Uh=Tr&&Tr.env==="SAAASDK"?te.miniapp.shareVideoMessage:te.shareVideoMessage;var Mh=Object.freeze({__proto__:null,createSelectorQuery:Dh,getProvider:Rh,shareVideoMessage:Uh});const jh={args(e,t){e.compressedHeight&&!t.compressHeight&&(t.compressHeight=e.compressedHeight),e.compressedWidth&&!t.compressWidth&&(t.compressWidth=e.compressedWidth)}};var Hh=Object.freeze({__proto__:null,compressImage:jh,getAppAuthorizeSetting:xh,getAppBaseInfo:Sh,getDeviceInfo:vh,getSystemInfo:ta,getSystemInfoSync:_h,getWindowInfo:Ih,offError:Eh,onError:Ph,onSocketMessage:Th,onSocketOpen:na,previewImage:wh,redirectTo:yh,showActionSheet:bh});const ye=oa();var k=Oh(Mh,Hh,ye);function Fh(e,t,n){return e==""||t==""||n==""?Promise.resolve(null):e.split(",").reduce((o,s)=>o.then(r=>r!=null?Promise.resolve(r):qh(s,t,n)),Promise.resolve(null))}const Bh=500;function qh(e,t,n){return new Promise((o,s)=>{const r=k.connectSocket({url:`ws://${e}:${t}/${n}`,multiple:!0,fail(){o(null)}}),i=setTimeout(()=>{r.close({code:1006,reason:"connect timeout"}),o(null)},Bh);r.onOpen(c=>{clearTimeout(i),o(r)}),r.onClose(c=>{clearTimeout(i),o(null)}),r.onError(c=>{clearTimeout(i),o(null)})})}const Bo=["log","warn","error","info","debug"],ke=Bo.reduce((e,t)=>(e[t]=console[t].bind(console),e),{});let qo=null;const fn=new Set,sa={};function En(e){if(qo==null){e.forEach(n=>{fn.add(n)});return}const t=e.map(n=>{if(typeof n=="string")return n;const o=n&&"promise"in n&&"reason"in n,s=o?"UnhandledPromiseRejection: ":"";if(o&&(n=n.reason),n instanceof Error&&n.stack)return n.message&&!n.stack.includes(n.message)?`${s}${n.message}
${n.stack}`:`${s}${n.stack}`;if(typeof n=="object"&&n!==null)try{return s+JSON.stringify(n)}catch(r){return s+String(r)}return s+String(n)}).filter(Boolean);t.length>0&&qo(JSON.stringify(Object.assign({type:"error",data:t},sa)))}function Kh(e,t={}){if(qo=e,Object.assign(sa,t),e!=null&&fn.size>0){const n=Array.from(fn);fn.clear(),En(n)}}function Or(){function e(t){try{if(typeof PromiseRejectionEvent<"u"&&t instanceof PromiseRejectionEvent&&t.reason instanceof Error&&t.reason.message&&t.reason.message.includes("Cannot create property 'errMsg' on string 'taskId"))return;ke.error(t),En([t])}catch(n){ke.error(n)}}return typeof k<"u"&&(typeof k.onError=="function"&&k.onError(e),typeof k.onUnhandledRejection=="function"&&k.onUnhandledRejection(e)),function(){typeof k<"u"&&(typeof k.offError=="function"&&k.offError(e),typeof k.offUnhandledRejection=="function"&&k.offUnhandledRejection(e))}}function Ar(e,t){try{return{type:e,args:Vh(t)}}catch{}return{type:e,args:[]}}function Vh(e){return e.map(t=>yt(t))}function yt(e,t=0){if(t>=7)return{type:"object",value:"[Maximum depth reached]"};switch(typeof e){case"string":return Qh(e);case"number":return Gh(e);case"boolean":return Jh(e);case"object":try{return Zh(e,t)}catch{return{type:"object",value:{properties:[]}}}case"undefined":return zh();case"function":return Wh(e);case"symbol":return Xh(e);case"bigint":return Yh(e)}}function Wh(e){return{type:"function",value:`function ${e.name}() {}`}}function zh(){return{type:"undefined"}}function Jh(e){return{type:"boolean",value:String(e)}}function Gh(e){return{type:"number",value:String(e)}}function Yh(e){return{type:"bigint",value:String(e)}}function Qh(e){return{type:"string",value:e}}function Xh(e){return{type:"symbol",value:e.description}}function Zh(e,t){if(e===null)return{type:"null"};{if(tg(e))return ng(e,t);if(ra(e))return og(e,t);if(sg(e))return rg(e,t);if(ig(e))return cg(e,t)}if(Array.isArray(e))return{type:"object",subType:"array",value:{properties:e.map((s,r)=>ag(s,r,t+1))}};if(e instanceof Set)return{type:"object",subType:"set",className:"Set",description:`Set(${e.size})`,value:{entries:Array.from(e).map(s=>ug(s,t+1))}};if(e instanceof Map)return{type:"object",subType:"map",className:"Map",description:`Map(${e.size})`,value:{entries:Array.from(e.entries()).map(s=>lg(s,t+1))}};if(e instanceof Promise)return{type:"object",subType:"promise",value:{properties:[]}};if(e instanceof RegExp)return{type:"object",subType:"regexp",value:String(e),className:"Regexp"};if(e instanceof Date)return{type:"object",subType:"date",value:String(e),className:"Date"};if(e instanceof Error)return{type:"object",subType:"error",value:e.message||String(e),className:e.name||"Error"};let n;{const s=e.constructor;s&&s.get$UTSMetadata$&&(n=s.get$UTSMetadata$().name)}let o=Object.entries(e);return eg(e)&&(o=o.filter(([s])=>s!=="modifier"&&s!=="nodeContent")),{type:"object",className:n,value:{properties:o.map(s=>Wt(s[0],s[1],t+1))}}}function eg(e){return e.modifier&&e.modifier._attribute&&e.nodeContent}function tg(e){return e.$&&ra(e.$)}function ra(e){return e.type&&e.uid!=null&&e.appContext}function ng(e,t){return{type:"object",className:"ComponentPublicInstance",value:{properties:Object.entries(e.$.type).map(([n,o])=>Wt(n,o,t+1))}}}function og(e,t){return{type:"object",className:"ComponentInternalInstance",value:{properties:Object.entries(e.type).map(([n,o])=>Wt(n,o,t+1))}}}function sg(e){return e.style&&e.tagName!=null&&e.nodeName!=null}function rg(e,t){return{type:"object",value:{properties:Object.entries(e).filter(([n])=>["id","tagName","nodeName","dataset","offsetTop","offsetLeft","style"].includes(n)).map(([n,o])=>Wt(n,o,t+1))}}}function ig(e){return typeof e.getPropertyValue=="function"&&typeof e.setProperty=="function"&&e.$styles}function cg(e,t){return{type:"object",value:{properties:Object.entries(e.$styles).map(([n,o])=>Wt(n,o,t+1))}}}function Wt(e,t,n){const o=yt(t,n);return o.name=e,o}function ag(e,t,n){const o=yt(e,n);return o.name=`${t}`,o}function ug(e,t){return{value:yt(e,t)}}function lg(e,t){return{key:yt(e[0],t),value:yt(e[1],t)}}let Ko=null;const dn=[],ia={},Cr="---BEGIN:EXCEPTION---",fg="---END:EXCEPTION---";function Vo(e){if(Ko==null){dn.push(...e);return}Ko(JSON.stringify(Object.assign({type:"console",data:e},ia)))}function dg(e,t={}){if(Ko=e,Object.assign(ia,t),e!=null&&dn.length>0){const n=dn.slice();dn.length=0,Vo(n)}}const pg=/^\s*at\s+[\w/./-]+:\d+$/;function kr(){function e(t){return function(...n){{const o=[...n];if(o.length){const s=o[o.length-1];typeof s=="string"&&pg.test(s)&&o.pop()}ke[t](...o)}if(t==="error"&&n.length===1){const o=n[0];if(typeof o=="string"&&o.startsWith(Cr)){const s=Cr.length,r=o.length-fg.length;En([o.slice(s,r)]);return}else if(o instanceof Error){En([o]);return}}Vo([Ar(t,n)])}}if(hg())return Bo.forEach(t=>{console[t]=e(t)}),function(){Bo.forEach(n=>{console[n]=ke[n]})};if(typeof k<"u"&&k.__f__){const t=k.__f__;if(t)return k.__f__=function(...n){const[o,s,...r]=n;t(o,"",...r),Vo([Ar(o,[...r,s])])},function(){k.__f__=t}}return function(){}}function hg(){const e=console.log,t=Symbol();try{console.log=t}catch{return!1}const n=console.log===t;return console.log=e,n}function gg(){const e="192.168.31.63,127.0.0.1,172.25.160.1",t="8090",n="mp-weixin_8Wg2nZ",o=typeof swan<"u";let s=o?()=>{}:Or(),r=o?()=>{}:kr();return Promise.resolve().then(()=>(o&&(s=Or(),r=kr()),Fh(e,t,n).then(i=>i?(mg(),i.onClose(()=>{ke.error(on(" socket  HBuilderX ")),s(),r()}),dg(c=>{i.send({data:c})}),Kh(c=>{i.send({data:c})}),!0):(s(),r(),ke.error(on(" socket ")),ke.error(on("")),ke.error(on("")),!1))))}const $r="";function on(e){return`${$r}${e}${$r}`}function mg(){typeof ye<"u"?ye.__uni_console__=!0:typeof my<"u"?my.__uni_console__=!0:typeof tt<"u"?tt.__uni_console__=!0:typeof swan<"u"?swan.__uni_console__=!0:typeof qq<"u"?qq.__uni_console__=!0:typeof ks<"u"?ks.__uni_console__=!0:typeof jd<"u"?jd.__uni_console__=!0:typeof xhs<"u"?xhs.__uni_console__=!0:typeof has<"u"?has.__uni_console__=!0:typeof qa<"u"&&(qa.__uni_console__=!0)}gg();const _g=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};function yg(e,t){if(!e)return;const n=e.split(","),o=n.length;o===1?t._$vueId=n[0]:o===2&&(t._$vueId=n[0],t._$vuePid=n[1])}const wg=["externalClasses"];function bg(e,t){wg.forEach(n=>{$(t,n)&&(e[n]=t[n])})}const vg=/_(.*)_worklet_factory_/;function Sg(e,t){t&&Object.keys(t).forEach(n=>{const o=n.match(vg);if(o){const s=o[1];e[n]=t[n],e[s]=t[s]}})}function Ig(e,t){C(t)&&t.forEach(n=>{e[n]=function(o){return this.$vm[n](o)}})}function xg(e,t,n){e.selectAllComponents(t).forEach(s=>{const r=s.properties.uR;n[r]=s.$vm||s})}function Pg(e,t){Object.defineProperty(e,"refs",{get(){const n={};return xg(t,".r",n),t.selectAllComponents(".r-i-f").forEach(s=>{const r=s.properties.uR;r&&(n[r]||(n[r]=[]),n[r].push(s.$vm||s))}),n}})}function ca(e,t){const n=e.$children;for(let s=n.length-1;s>=0;s--){const r=n[s];if(r.$scope._$vueId===t)return r}let o;for(let s=n.length-1;s>=0;s--)if(o=ca(n[s],t),o)return o}function Eg(){var e;let t="";{const n=((e=wx.getAppBaseInfo)===null||e===void 0?void 0:e.call(wx))||wx.getSystemInfoSync(),o=n&&n.language?n.language:_e;t=pn(o)||_e}return t}const Tg=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];function Og(e,t){return function(o,...s){const r=t.$scope;if(r&&o){const i={__args__:s};r.triggerEvent(o,i)}return e.apply(this,[o,...s])}}function aa(e,t){const n=e.ctx;n.mpType=t.mpType,n.$mpType=t.mpType,n.$mpPlatform="mp-weixin",n.$scope=t.mpInstance,Object.defineProperties(n,{[ho]:{get(){const o=this.$scope.data[ho];return o===void 0?"":o}}}),n.$mp={},n._self={},e.slots={},C(t.slots)&&t.slots.length&&(t.slots.forEach(o=>{e.slots[o]=!0}),e.slots[Mu]&&(e.slots.default=!0)),n.getOpenerEventChannel=function(){return t.mpInstance.getOpenerEventChannel()},n.$hasHook=kg,n.$callHook=ua,e.emit=Og(e.emit,n)}function Ag(e,t){aa(e,t);const n=e.ctx;Tg.forEach(o=>{n[o]=function(...s){const r=n.$scope;if(r&&r[o])return r[o].apply(r,s)}})}function Cg(e,t,n){const o=e.ctx;n.forEach(s=>{$(t,s)&&(e[s]=o[s]=t[s])})}function kg(e){const t=this.$[e];return!!(t&&t.length)}function ua(e,t){e==="mounted"&&(ua.call(this,"bm"),this.$.isMounted=!0,e="m");const n=this.$[e];return n&&Vu(n,t)}const $g=[qt,$n,Ln,ns,Ei,os,ss,rs,is];function Wo(e,t=new Set){if(e){Object.keys(e).forEach(n=>{Fi(n,e[n])&&t.add(n)});{const{extends:n,mixins:o}=e;o&&o.forEach(s=>Wo(s,t)),n&&Wo(n,t)}}return t}function Ps(e,t,n){n.indexOf(t)===-1&&!$(e,t)&&(e[t]=function(o){return this.$vm&&this.$vm.$callHook(t,o)})}const la=[ts];function Es(e,t,n=la){t.forEach(o=>Ps(e,o,n))}function fa(e,t,n=la){Wo(t).forEach(o=>Ps(e,o,n))}function Lg(e,t){if(!t)return;Object.keys(go).forEach(o=>{t&go[o]&&Ps(e,o,[])})}const Rg=Ui(()=>{const e=[],t=T(getApp)&&getApp({allowDefault:!0});if(t&&t.$vm&&t.$vm.$){const n=t.$vm.$.appContext.mixins;if(C(n)){const o=Object.keys(go);n.forEach(s=>{o.forEach(r=>{$(s,r)&&!e.includes(r)&&e.push(r)})})}}return e});function Ng(e){Es(e,Rg())}const Dg=[$n,Ln,Xe,vi,Si,Ii];function Ts(e,t){const n=e.$,o={globalData:e.$options&&e.$options.globalData||{},$vm:e,onLaunch(i){this.$vm=e;const c=n.ctx;this.$vm&&c.$scope&&c.$callHook||(aa(n,{mpType:"app",mpInstance:this,slots:[]}),c.globalData=this.globalData,e.$callHook(bi,i))}},s=wx.$onErrorHandlers;s&&(s.forEach(i=>{st(Xe,i,n)}),s.length=0),jg(e);const r=e.$.type;Es(o,Dg),fa(o,r);{const i=r.methods;i&&M(o,i)}return o}function Ug(e){return function(n){return App(Ts(n))}}function Mg(e){return function(n){const o=Ts(n),s=T(getApp)&&getApp({allowDefault:!0});if(!s)return;n.$.ctx.$scope=s;const r=s.globalData;r&&Object.keys(o.globalData).forEach(i=>{$(r,i)||(r[i]=o.globalData[i])}),Object.keys(o).forEach(i=>{$(s,i)||(s[i]=o[i])}),da(o,n)}}function da(e,t){if(T(e.onLaunch)){const n=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.onLaunch(n)}T(e.onShow)&&wx.onAppShow&&wx.onAppShow(n=>{t.$callHook("onShow",n)}),T(e.onHide)&&wx.onAppHide&&wx.onAppHide(n=>{t.$callHook("onHide",n)})}function jg(e){const t=Ol(Eg());Object.defineProperty(e,"$locale",{get(){return t.value},set(n){t.value=n}})}const pa=["eO","uR","uRIF","uI","uT","uP","uS"];function Hg(e,t=!1){const n={};if(!t){let o=function(s){const r=Object.create(null);s&&s.forEach(i=>{r[i]=!0}),this.setData({$slots:r})};pa.forEach(s=>{n[s]={type:null,value:""}}),n.uS={type:null,value:[]},n.uS.observer=o}return e.behaviors&&e.behaviors.includes("wx://form-field")&&((!e.properties||!e.properties.name)&&(n.name={type:null,value:""}),(!e.properties||!e.properties.value)&&(n.value={type:null,value:""})),n}function Fg(e){const t={};return e&&e.virtualHost&&(t[Hu]={type:null,value:""},t[Fu]={type:null,value:""},t[Bu]={type:null,value:""},t[ho]={type:null,value:""}),t}function ha(e){e.properties||(e.properties={}),M(e.properties,Hg(e),Fg(e.options))}const Bg=[String,Number,Boolean,Object,Array,null];function qg(e,t){return C(e)&&e.length===1?e[0]:e}function Lr(e,t){const n=qg(e);return Bg.indexOf(n)!==-1?n:null}function Kg({properties:e},t){C(t)?t.forEach(n=>{e[n]={type:String,value:""}}):G(t)&&Object.keys(t).forEach(n=>{const o=t[n];if(G(o)){let s=o.default;T(s)&&(s=s());const r=o.type;o.type=Lr(r),e[n]={type:o.type,value:s}}else e[n]={type:Lr(o)}})}function Vg(e,t){return(t?Wg(e):xs(e.uP))||{}}function Wg(e){const t={};return G(e)&&Object.keys(e).forEach(n=>{pa.indexOf(n)===-1&&(t[n]=e[n])}),t}function zg(e){const t=e.$options;C(t.behaviors)&&t.behaviors.includes("uni://form-field")&&e.$watch("modelValue",()=>{e.$scope&&e.$scope.setData({name:e.name,value:e.modelValue})},{immediate:!0})}function Jg(e){return{}}function ga(e){const t=function(){const o=this.properties.uP;o&&(this.$vm?Yg(o,this.$vm.$):this.properties.uT==="m"&&Gg(o,this))};e.observers||(e.observers={}),e.observers.uP=t}function Gg(e,t){const n=t.properties,o=xs(e)||{};ma(n,o,!1)&&t.setData(o)}function Yg(e,t){const n=R(t.props),o=xs(e)||{};ma(n,o)&&(Tf(t,o,n,!1),Ml(t.update)&&jl(t.update),t.update())}function ma(e,t,n=!0){const o=Object.keys(t);if(n&&o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const r=o[s];if(t[r]!==e[r])return!0}return!1}function Qg(e){const t=e.behaviors;let n=e.props;n||(e.props=n=[]);const o=[];return C(t)&&t.forEach(s=>{o.push(s.replace("uni://","wx://")),s==="uni://form-field"&&(C(n)?(n.push("name"),n.push("modelValue")):(n.name={type:String,default:""},n.modelValue={type:[String,Number,Boolean,Array,Object,Date],default:""}))}),o}function Xg(e,t){e.data=Jg(),e.behaviors=Qg(t)}function _a(e,{parse:t,mocks:n,isPage:o,isPageInProject:s,initRelation:r,handleLink:i,initLifetimes:c}){e=e.default||e;const a={multipleSlots:!0,addGlobalClass:!0,pureDataPattern:/^uP$/};C(e.mixins)&&e.mixins.forEach(f=>{j(f.options)&&M(a,f.options)}),e.options&&M(a,e.options);const u={options:a,lifetimes:c({mocks:n,isPage:o,initRelation:r,vueOptions:e}),pageLifetimes:{show(){this.$vm&&this.$vm.$callHook("onPageShow")},hide(){this.$vm&&this.$vm.$callHook("onPageHide")},resize(f){this.$vm&&this.$vm.$callHook("onPageResize",f)}},methods:{__l:i}};return Xg(u,e),ha(u),ga(u),bg(u,e),Ig(u.methods,e.wxsCallMethods),Sg(u.methods,e.methods),t&&t(u,{handleLink:i}),u}function Zg(e){return function(n){return Component(_a(n,e))}}let Qn,Xn;function ya(){return getApp().$vm}function em(e,t){Qn||(Qn=ya().$createComponent);const n=Qn(e,t);return Vt(n.$)||n}function tm(e){return Xn||(Xn=ya().$destroyComponent),Xn(e)}function nm(e,t){const{parse:n,mocks:o,isPage:s,initRelation:r,handleLink:i,initLifetimes:c}=t,a=_a(e,{mocks:o,isPage:s,isPageInProject:!0,initRelation:r,handleLink:i,initLifetimes:c});Kg(a,(e.default||e).props);const u=a.methods;return u.onLoad=function(f){return this.options=f,this.$page={fullPath:Ku(this.route+Gu(f))},this.$vm&&this.$vm.$callHook(qt,f)},Es(u,$g),fa(u,e),Lg(u,e.__runtimeHooks),Ng(u),n&&n(a,{handleLink:i}),a}function om(e){return function(n){return Component(nm(n,e))}}function sm(e){return function(n){da(Ts(n),n)}}const rm=Page,im=Component;function Rr(e){const t=e.triggerEvent,n=function(o,...s){return t.apply(e,[zu(o),...s])};try{e.triggerEvent=n}catch{e._triggerEvent=n}}function wa(e,t,n){const o=t[e];o?t[e]=function(...s){return Rr(this),o.apply(this,s)}:t[e]=function(){Rr(this)}}Page=function(e){return wa(qt,e),rm(e)};Component=function(e){return wa("created",e),e.properties&&e.properties.uP||(ha(e),ga(e)),im(e)};function cm({mocks:e,isPage:t,initRelation:n,vueOptions:o}){return{attached(){let s=this.properties;yg(s.uI,this);const r={vuePid:this._$vuePid};n(this,r);const i=this,c=t(i);let a=s;this.$vm=em({type:o,props:Vg(a,c)},{mpType:c?"page":"component",mpInstance:i,slots:s.uS||{},parentComponent:r.parent&&r.parent.$,onBeforeSetup(u,f){Pg(u,i),Cg(u,i,e),Ag(u,f)}}),c||zg(this.$vm)},ready(){this.$vm&&(this.$vm.$callHook("mounted"),this.$vm.$callHook(ts))},detached(){this.$vm&&(Mc(this.$vm.$.uid),tm(this.$vm))}}}const am=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function um(e){return!!e.route}function lm(e,t){e.triggerEvent("__l",t)}function fm(e){const t=e.detail||e.value,n=t.vuePid;let o;n&&(o=ca(this.$vm,n)),o||(o=this.$vm),t.parent=o}var ba=Object.freeze({__proto__:null,handleLink:fm,initLifetimes:cm,initRelation:lm,isPage:um,mocks:am});const dm=Ug(),pm=om(ba),hm=Zg(ba),gm=sm(),mm=Mg();wx.createApp=global.createApp=dm,wx.createPage=pm,wx.createComponent=hm,wx.createPluginApp=global.createPluginApp=gm,wx.createSubpackageApp=global.createSubpackageApp=mm;const _m=[{path:"pages/home/index",style:{navigationBarTitleText:""}},{path:"pages/my-customers/index",style:{navigationBarTitleText:""}},{path:"pages/my-customers/detail",style:{navigationBarTitleText:""}},{path:"pages/my-customers/create",style:{navigationBarTitleText:""}},{path:"pages/my-customers/edit",style:{navigationBarTitleText:""}},{path:"pages/purchases/create",style:{navigationBarTitleText:""}},{path:"pages/my-shops/index",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/userinfo/deactivate/deactivate",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/userinfo/userinfo",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/login/login-withoutpwd",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/login/login-withpwd",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/login/login-smscode",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/register/register",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/register/register-by-email",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/retrieve/retrieve",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/retrieve/retrieve-by-email",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/common/webview/webview",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"uni_modules/uni-id-pages/pages/userinfo/realname-verify/realname-verify",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/my-shops/detail",style:{navigationBarTitleText:""}},{path:"pages/my-shops/create",style:{navigationBarTitleText:""}},{path:"pages/my-shops/edit",style:{navigationBarTitleText:""}}],ym={navigationBarTextStyle:"black",navigationBarTitleText:"be-crm",navigationBarBackgroundColor:"#FFF",backgroundColor:"#F8F8F8"},wm={color:"#7A7E83",selectedColor:"#3cc51f",borderStyle:"black",backgroundColor:"#ffffff",list:[{pagePath:"pages/home/index",text:"",iconPath:"static/tabbar/home.png",selectedIconPath:"static/tabbar/home-active.png"},{pagePath:"pages/my-customers/index",text:"",iconPath:"static/tabbar/customers.png",selectedIconPath:"static/tabbar/customers-active.png"},{pagePath:"pages/my-shops/index",text:"",iconPath:"static/tabbar/shops.png",selectedIconPath:"static/tabbar/shops-active.png"},{pagePath:"uni_modules/uni-id-pages/pages/userinfo/userinfo",text:"",iconPath:"static/tabbar/mine.png",selectedIconPath:"static/tabbar/mine-active.png"}]},bm={current:0,list:[{name:"",path:"",query:""}]},vm={loginPage:"uni_modules/uni-id-pages/pages/login/login-withoutpwd",needLogin:["pages/home/index","uni_modules/uni-id-pages/pages/userinfo/userinfo"],resToLogin:!0},Os={pages:_m,globalStyle:ym,tabBar:wm,condition:bm,uniIdRouter:vm};var Sm=[];function Im(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function we(e,t,n){return e(n={path:t,exports:{},require:function(o,s){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(s==null&&n.path)}},n.exports),n.exports}var xm=we(function(e,t){var n;e.exports=(n=n||function(o,s){var r=Object.create||function(){function d(){}return function(m){var w;return d.prototype=m,w=new d,d.prototype=null,w}}(),i={},c=i.lib={},a=c.Base={extend:function(d){var m=r(this);return d&&m.mixIn(d),m.hasOwnProperty("init")&&this.init!==m.init||(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var m in d)d.hasOwnProperty(m)&&(this[m]=d[m]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=a.extend({init:function(d,m){d=this.words=d||[],this.sigBytes=m!=s?m:4*d.length},toString:function(d){return(d||l).stringify(this)},concat:function(d){var m=this.words,w=d.words,y=this.sigBytes,b=d.sigBytes;if(this.clamp(),y%4)for(var P=0;P<b;P++){var v=w[P>>>2]>>>24-P%4*8&255;m[y+P>>>2]|=v<<24-(y+P)%4*8}else for(P=0;P<b;P+=4)m[y+P>>>2]=w[P>>>2];return this.sigBytes+=b,this},clamp:function(){var d=this.words,m=this.sigBytes;d[m>>>2]&=4294967295<<32-m%4*8,d.length=o.ceil(m/4)},clone:function(){var d=a.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var m,w=[],y=function(v){var N=987654321,L=4294967295;return function(){var K=((N=36969*(65535&N)+(N>>16)&L)<<16)+(v=18e3*(65535&v)+(v>>16)&L)&L;return K/=4294967296,(K+=.5)*(o.random()>.5?1:-1)}},b=0;b<d;b+=4){var P=y(4294967296*(m||o.random()));m=987654071*P(),w.push(4294967296*P()|0)}return new u.init(w,d)}}),f=i.enc={},l=f.Hex={stringify:function(d){for(var m=d.words,w=d.sigBytes,y=[],b=0;b<w;b++){var P=m[b>>>2]>>>24-b%4*8&255;y.push((P>>>4).toString(16)),y.push((15&P).toString(16))}return y.join("")},parse:function(d){for(var m=d.length,w=[],y=0;y<m;y+=2)w[y>>>3]|=parseInt(d.substr(y,2),16)<<24-y%8*4;return new u.init(w,m/2)}},h=f.Latin1={stringify:function(d){for(var m=d.words,w=d.sigBytes,y=[],b=0;b<w;b++){var P=m[b>>>2]>>>24-b%4*8&255;y.push(String.fromCharCode(P))}return y.join("")},parse:function(d){for(var m=d.length,w=[],y=0;y<m;y++)w[y>>>2]|=(255&d.charCodeAt(y))<<24-y%4*8;return new u.init(w,m)}},g=f.Utf8={stringify:function(d){try{return decodeURIComponent(escape(h.stringify(d)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(d){return h.parse(unescape(encodeURIComponent(d)))}},_=c.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(d){typeof d=="string"&&(d=g.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var m=this._data,w=m.words,y=m.sigBytes,b=this.blockSize,P=y/(4*b),v=(P=d?o.ceil(P):o.max((0|P)-this._minBufferSize,0))*b,N=o.min(4*v,y);if(v){for(var L=0;L<v;L+=b)this._doProcessBlock(w,L);var K=w.splice(0,v);m.sigBytes-=N}return new u.init(K,N)},clone:function(){var d=a.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0});c.Hasher=_.extend({cfg:a.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){return d&&this._append(d),this._doFinalize()},blockSize:16,_createHelper:function(d){return function(m,w){return new d.init(w).finalize(m)}},_createHmacHelper:function(d){return function(m,w){return new p.HMAC.init(d,w).finalize(m)}}});var p=i.algo={};return i}(Math),n)}),Ne=xm,Pm=(we(function(e,t){var n;e.exports=(n=Ne,function(o){var s=n,r=s.lib,i=r.WordArray,c=r.Hasher,a=s.algo,u=[];(function(){for(var p=0;p<64;p++)u[p]=4294967296*o.abs(o.sin(p+1))|0})();var f=a.MD5=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,d){for(var m=0;m<16;m++){var w=d+m,y=p[w];p[w]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8)}var b=this._hash.words,P=p[d+0],v=p[d+1],N=p[d+2],L=p[d+3],K=p[d+4],ce=p[d+5],Q=p[d+6],de=p[d+7],ue=p[d+8],He=p[d+9],ie=p[d+10],it=p[d+11],ct=p[d+12],Y=p[d+13],D=p[d+14],U=p[d+15],S=b[0],E=b[1],I=b[2],x=b[3];S=l(S,E,I,x,P,7,u[0]),x=l(x,S,E,I,v,12,u[1]),I=l(I,x,S,E,N,17,u[2]),E=l(E,I,x,S,L,22,u[3]),S=l(S,E,I,x,K,7,u[4]),x=l(x,S,E,I,ce,12,u[5]),I=l(I,x,S,E,Q,17,u[6]),E=l(E,I,x,S,de,22,u[7]),S=l(S,E,I,x,ue,7,u[8]),x=l(x,S,E,I,He,12,u[9]),I=l(I,x,S,E,ie,17,u[10]),E=l(E,I,x,S,it,22,u[11]),S=l(S,E,I,x,ct,7,u[12]),x=l(x,S,E,I,Y,12,u[13]),I=l(I,x,S,E,D,17,u[14]),S=h(S,E=l(E,I,x,S,U,22,u[15]),I,x,v,5,u[16]),x=h(x,S,E,I,Q,9,u[17]),I=h(I,x,S,E,it,14,u[18]),E=h(E,I,x,S,P,20,u[19]),S=h(S,E,I,x,ce,5,u[20]),x=h(x,S,E,I,ie,9,u[21]),I=h(I,x,S,E,U,14,u[22]),E=h(E,I,x,S,K,20,u[23]),S=h(S,E,I,x,He,5,u[24]),x=h(x,S,E,I,D,9,u[25]),I=h(I,x,S,E,L,14,u[26]),E=h(E,I,x,S,ue,20,u[27]),S=h(S,E,I,x,Y,5,u[28]),x=h(x,S,E,I,N,9,u[29]),I=h(I,x,S,E,de,14,u[30]),S=g(S,E=h(E,I,x,S,ct,20,u[31]),I,x,ce,4,u[32]),x=g(x,S,E,I,ue,11,u[33]),I=g(I,x,S,E,it,16,u[34]),E=g(E,I,x,S,D,23,u[35]),S=g(S,E,I,x,v,4,u[36]),x=g(x,S,E,I,K,11,u[37]),I=g(I,x,S,E,de,16,u[38]),E=g(E,I,x,S,ie,23,u[39]),S=g(S,E,I,x,Y,4,u[40]),x=g(x,S,E,I,P,11,u[41]),I=g(I,x,S,E,L,16,u[42]),E=g(E,I,x,S,Q,23,u[43]),S=g(S,E,I,x,He,4,u[44]),x=g(x,S,E,I,ct,11,u[45]),I=g(I,x,S,E,U,16,u[46]),S=_(S,E=g(E,I,x,S,N,23,u[47]),I,x,P,6,u[48]),x=_(x,S,E,I,de,10,u[49]),I=_(I,x,S,E,D,15,u[50]),E=_(E,I,x,S,ce,21,u[51]),S=_(S,E,I,x,ct,6,u[52]),x=_(x,S,E,I,L,10,u[53]),I=_(I,x,S,E,ie,15,u[54]),E=_(E,I,x,S,v,21,u[55]),S=_(S,E,I,x,ue,6,u[56]),x=_(x,S,E,I,U,10,u[57]),I=_(I,x,S,E,Q,15,u[58]),E=_(E,I,x,S,Y,21,u[59]),S=_(S,E,I,x,K,6,u[60]),x=_(x,S,E,I,it,10,u[61]),I=_(I,x,S,E,N,15,u[62]),E=_(E,I,x,S,He,21,u[63]),b[0]=b[0]+S|0,b[1]=b[1]+E|0,b[2]=b[2]+I|0,b[3]=b[3]+x|0},_doFinalize:function(){var p=this._data,d=p.words,m=8*this._nDataBytes,w=8*p.sigBytes;d[w>>>5]|=128<<24-w%32;var y=o.floor(m/4294967296),b=m;d[15+(w+64>>>9<<4)]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8),d[14+(w+64>>>9<<4)]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8),p.sigBytes=4*(d.length+1),this._process();for(var P=this._hash,v=P.words,N=0;N<4;N++){var L=v[N];v[N]=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8)}return P},clone:function(){var p=c.clone.call(this);return p._hash=this._hash.clone(),p}});function l(p,d,m,w,y,b,P){var v=p+(d&m|~d&w)+y+P;return(v<<b|v>>>32-b)+d}function h(p,d,m,w,y,b,P){var v=p+(d&w|m&~w)+y+P;return(v<<b|v>>>32-b)+d}function g(p,d,m,w,y,b,P){var v=p+(d^m^w)+y+P;return(v<<b|v>>>32-b)+d}function _(p,d,m,w,y,b,P){var v=p+(m^(d|~w))+y+P;return(v<<b|v>>>32-b)+d}s.MD5=c._createHelper(f),s.HmacMD5=c._createHmacHelper(f)}(Math),n.MD5)}),we(function(e,t){var n;e.exports=(n=Ne,void function(){var o=n,s=o.lib.Base,r=o.enc.Utf8;o.algo.HMAC=s.extend({init:function(i,c){i=this._hasher=new i.init,typeof c=="string"&&(c=r.parse(c));var a=i.blockSize,u=4*a;c.sigBytes>u&&(c=i.finalize(c)),c.clamp();for(var f=this._oKey=c.clone(),l=this._iKey=c.clone(),h=f.words,g=l.words,_=0;_<a;_++)h[_]^=1549556828,g[_]^=909522486;f.sigBytes=l.sigBytes=u,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var c=this._hasher,a=c.finalize(i);return c.reset(),c.finalize(this._oKey.clone().concat(a))}})}())}),we(function(e,t){e.exports=Ne.HmacMD5})),Em=we(function(e,t){e.exports=Ne.enc.Utf8}),Tm=we(function(e,t){var n;e.exports=(n=Ne,function(){var o=n,s=o.lib.WordArray;function r(i,c,a){for(var u=[],f=0,l=0;l<c;l++)if(l%4){var h=a[i.charCodeAt(l-1)]<<l%4*2,g=a[i.charCodeAt(l)]>>>6-l%4*2;u[f>>>2]|=(h|g)<<24-f%4*8,f++}return s.create(u,f)}o.enc.Base64={stringify:function(i){var c=i.words,a=i.sigBytes,u=this._map;i.clamp();for(var f=[],l=0;l<a;l+=3)for(var h=(c[l>>>2]>>>24-l%4*8&255)<<16|(c[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|c[l+2>>>2]>>>24-(l+2)%4*8&255,g=0;g<4&&l+.75*g<a;g++)f.push(u.charAt(h>>>6*(3-g)&63));var _=u.charAt(64);if(_)for(;f.length%4;)f.push(_);return f.join("")},parse:function(i){var c=i.length,a=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var f=0;f<a.length;f++)u[a.charCodeAt(f)]=f}var l=a.charAt(64);if(l){var h=i.indexOf(l);h!==-1&&(c=h)}return r(i,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)});const va="uni_id_token",Sa="uni_id_token_expired",Om="uniIdToken",Tn={DEFAULT:"FUNCTION",FUNCTION:"FUNCTION",OBJECT:"OBJECT",CLIENT_DB:"CLIENT_DB"},Nr="pending",Am="fulfilled",Dr="rejected";function Ut(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Ia(e){return Ut(e)==="object"}function xa(e){return typeof e=="function"}function Cm(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}const Ur="REJECTED",Pa="NOT_PENDING";class As{constructor({createPromise:t,retryRule:n=Ur}={}){this.createPromise=t,this.status=null,this.promise=null,this.retryRule=n}get needRetry(){if(!this.status)return!0;switch(this.retryRule){case Ur:return this.status===Dr;case Pa:return this.status!==Nr}}exec(){return this.needRetry?(this.status=Nr,this.promise=this.createPromise().then(t=>(this.status=Am,Promise.resolve(t)),t=>(this.status=Dr,Promise.reject(t))),this.promise):this.promise}}class km{constructor(){this._callback={}}addListener(t,n){this._callback[t]||(this._callback[t]=[]),this._callback[t].push(n)}on(t,n){return this.addListener(t,n)}removeListener(t,n){if(!n)throw new Error('The "listener" argument must be of type function. Received undefined');const o=this._callback[t];if(!o)return;const s=function(r,i){for(let c=r.length-1;c>=0;c--)if(r[c]===i)return c;return-1}(o,n);o.splice(s,1)}off(t,n){return this.removeListener(t,n)}removeAllListener(t){delete this._callback[t]}emit(t,...n){const o=this._callback[t];if(o)for(let s=0;s<o.length;s++)o[s](...n)}}function Cs(e){return e&&typeof e=="string"?JSON.parse(e):e}const $m=!0,Lm="mp-weixin",Rm=Cs(Sm),et=Lm,Nm=Cs('{"address":["127.0.0.1","192.168.31.63","172.25.160.1"],"servePort":7000,"debugPort":9000,"initialLaunchType":"remote","skipFiles":["<node_internals>/**","D:/HBuilderX/plugins/unicloud/**/*.js"]}'),Ea=Cs('[{"provider":"aliyun","spaceName":"crm-date","spaceId":"mp-fdba21ff-bad9-47b6-9972-a95e35f46ea2","clientSecret":"SEQ0WVVz3pdX38TL3LEHxw==","endpoint":"https://api.next.bspapp.com"}]')||[];let Dm="";try{Dm="__UNI__4B38155"}catch{}let Zn={};function wt(e,t={}){var n,o;return n=Zn,o=e,Object.prototype.hasOwnProperty.call(n,o)||(Zn[e]=t),Zn[e]}const Ta=["invoke","success","fail","complete"],me=wt("_globalUniCloudInterceptor");function Oa(e,t){me[e]||(me[e]={}),Ia(t)&&Object.keys(t).forEach(n=>{Ta.indexOf(n)>-1&&function(o,s,r){let i=me[o][s];i||(i=me[o][s]=[]),i.indexOf(r)===-1&&xa(r)&&i.push(r)}(e,n,t[n])})}function Um(e,t){me[e]||(me[e]={}),Ia(t)?Object.keys(t).forEach(n=>{Ta.indexOf(n)>-1&&function(o,s,r){const i=me[o][s];if(!i)return;const c=i.indexOf(r);c>-1&&i.splice(c,1)}(e,n,t[n])}):delete me[e]}function oe(e,t){return e&&e.length!==0?e.reduce((n,o)=>n.then(()=>o(t)),Promise.resolve()):Promise.resolve()}function se(e,t){return me[e]&&me[e][t]||[]}function Mm(e){Oa("callObject",e)}const eo=wt("_globalUniCloudListener"),B={RESPONSE:"response",NEED_LOGIN:"needLogin",REFRESH_TOKEN:"refreshToken"},$e={CLIENT_DB:"clientdb",CLOUD_FUNCTION:"cloudfunction",CLOUD_OBJECT:"cloudobject"};function zt(e){return eo[e]||(eo[e]=[]),eo[e]}function to(e,t){const n=zt(e);n.includes(t)||n.push(t)}function no(e,t){const n=zt(e),o=n.indexOf(t);o!==-1&&n.splice(o,1)}function ae(e,t){const n=zt(e);for(let o=0;o<n.length;o++)(0,n[o])(t)}let oo,so=!1;function Aa(){return oo||(oo=new Promise(e=>{so&&e(),function t(){if(typeof getCurrentPages=="function"){const n=getCurrentPages();n&&n[0]&&(so=!0,e())}so||setTimeout(()=>{t()},30)}()}),oo)}function Ca(e){const t={};for(const n in e){const o=e[n];xa(o)&&(t[n]=Cm(o))}return t}class O extends Error{constructor(t){const n=t.message||t.errMsg||"unknown system error";super(n),this.errMsg=n,this.code=this.errCode=t.code||t.errCode||"SYSTEM_ERROR",this.errSubject=this.subject=t.subject||t.errSubject,this.cause=t.cause,this.requestId=t.requestId}toJson(t=0){if(!(t>=10))return t++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(t):this.cause}}}var q={request:e=>k.request(e),uploadFile:e=>k.uploadFile(e),setStorageSync:(e,t)=>k.setStorageSync(e,t),getStorageSync:e=>k.getStorageSync(e),removeStorageSync:e=>k.removeStorageSync(e),clearStorageSync:()=>k.clearStorageSync(),connectSocket:e=>k.connectSocket(e)};function ka(e){return e&&ka(e.__v_raw)||e}function Mt(){return{token:q.getStorageSync(va)||q.getStorageSync(Om),tokenExpired:q.getStorageSync(Sa)}}function $a({token:e,tokenExpired:t}={}){e&&q.setStorageSync(va,e),t&&q.setStorageSync(Sa,t)}let ro,sn;function La(){return ro||(ro=ye.canIUse("getAppBaseInfo")&&ye.canIUse("getDeviceInfo")?{...k.getAppBaseInfo(),...k.getDeviceInfo()}:k.getSystemInfoSync()),ro}function jm(){let e,t;try{if(k.getLaunchOptionsSync){if(k.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;const{scene:n,channel:o}=k.getLaunchOptionsSync();e=o,t=n}}catch{}return{channel:e,scene:t}}let zo={};function Jo(){const e=k.getLocale&&k.getLocale()||"en";if(sn)return{...zo,...sn,locale:e,LOCALE:e};const t=La(),{deviceId:n,osName:o,uniPlatform:s,appId:r}=t,i=["appId","appLanguage","appName","appVersion","appVersionCode","appWgtVersion","browserName","browserVersion","deviceBrand","deviceId","deviceModel","deviceType","osName","osVersion","romName","romVersion","ua","hostName","hostVersion","uniPlatform","uniRuntimeVersion","uniRuntimeVersionCode","uniCompilerVersion","uniCompilerVersionCode"];for(const c in t)Object.hasOwnProperty.call(t,c)&&i.indexOf(c)===-1&&delete t[c];return sn={PLATFORM:s,OS:o,APPID:r,DEVICEID:n,...jm(),...t},{...zo,...sn,locale:e,LOCALE:e}}var ft={sign:function(e,t){let n="";return Object.keys(e).sort().forEach(function(o){e[o]&&(n=n+"&"+o+"="+e[o])}),n=n.slice(1),Pm(n,t).toString()},wrappedRequest:function(e,t){return new Promise((n,o)=>{t(Object.assign(e,{complete(s){s||(s={});const r=s.data&&s.data.header&&s.data.header["x-serverless-request-id"]||s.header&&s.header["request-id"];if(!s.statusCode||s.statusCode>=400){const c=s.data&&s.data.error&&s.data.error.code||"SYS_ERR",a=s.data&&s.data.error&&s.data.error.message||s.errMsg||"request:fail";return o(new O({code:c,message:a,requestId:r}))}const i=s.data;if(i.error)return o(new O({code:i.error.code,message:i.error.message,requestId:r}));i.result=i.data,i.requestId=r,delete i.data,n(i)}}))})},toBase64:function(e){return Tm.stringify(Em.parse(e))}},Hm=class{constructor(e){["spaceId","clientSecret"].forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`${t} required`)}),this.config=Object.assign({},{endpoint:e.spaceId.indexOf("mp-")===0?"https://api.next.bspapp.com":"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=q,this._getAccessTokenPromiseHub=new As({createPromise:()=>this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then(t=>{if(!t.result||!t.result.accessToken)throw new O({code:"AUTH_FAILED",message:"accessToken"});this.setAccessToken(t.result.accessToken)}),retryRule:Pa})}get hasAccessToken(){return!!this.accessToken}setAccessToken(e){this.accessToken=e}requestWrapped(e){return ft.wrappedRequest(e,this.adapter.request)}requestAuth(e){return this.requestWrapped(e)}request(e,t){return Promise.resolve().then(()=>this.hasAccessToken?t?this.requestWrapped(e):this.requestWrapped(e).catch(n=>new Promise((o,s)=>{!n||n.code!=="GATEWAY_INVALID_TOKEN"&&n.code!=="InvalidParameter.InvalidToken"?s(n):o()}).then(()=>this.getAccessToken()).then(()=>{const o=this.rebuildRequest(e);return this.request(o,!0)})):this.getAccessToken().then(()=>{const n=this.rebuildRequest(e);return this.request(n,!0)}))}rebuildRequest(e){const t=Object.assign({},e);return t.data.token=this.accessToken,t.header["x-basement-token"]=this.accessToken,t.header["x-serverless-sign"]=ft.sign(t.data,this.config.clientSecret),t}setupRequest(e,t){const n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),o={"Content-Type":"application/json"};return t!=="auth"&&(n.token=this.accessToken,o["x-basement-token"]=this.accessToken),o["x-serverless-sign"]=ft.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:o}}getAccessToken(){return this._getAccessTokenPromiseHub.exec()}async authorize(){await this.getAccessToken()}callFunction(e){const t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request({...this.setupRequest(t),timeout:e.timeout})}getOSSUploadOptionsFromPath(e){const t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}uploadFileToOSS({url:e,formData:t,name:n,filePath:o,fileType:s,onUploadProgress:r}){return new Promise((i,c)=>{const a=this.adapter.uploadFile({url:e,formData:t,name:n,filePath:o,fileType:s,header:{"X-OSS-server-side-encrpytion":"AES256"},success(u){u&&u.statusCode<400?i(u):c(new O({code:"UPLOAD_FAILED",message:""}))},fail(u){c(new O({code:u.code||"UPLOAD_FAILED",message:u.message||u.errMsg||""}))}});typeof r=="function"&&a&&typeof a.onProgressUpdate=="function"&&a.onProgressUpdate(u=>{r({loaded:u.totalBytesSent,total:u.totalBytesExpectedToSend})})})}reportOSSUpload(e){const t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}async uploadFile({filePath:e,cloudPath:t,fileType:n="image",cloudPathAsRealPath:o=!1,onUploadProgress:s,config:r}){if(Ut(t)!=="string")throw new O({code:"INVALID_PARAM",message:"cloudPath"});if(!(t=t.trim()))throw new O({code:"INVALID_PARAM",message:"cloudPath"});if(/:\/\//.test(t))throw new O({code:"INVALID_PARAM",message:"cloudPath"});const i=r&&r.envType||this.config.envType;if(o&&(t[0]!=="/"&&(t="/"+t),t.indexOf("\\")>-1))throw new O({code:"INVALID_PARAM",message:"cloudPathcloudPath\\"});const c=(await this.getOSSUploadOptionsFromPath({env:i,filename:o?t.split("/").pop():t,fileId:o?t:void 0})).result,a="https://"+c.cdnDomain+"/"+c.ossPath,{securityToken:u,accessKeyId:f,signature:l,host:h,ossPath:g,id:_,policy:p,ossCallbackUrl:d}=c,m={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:f,Signature:l,host:h,id:_,key:g,policy:p,success_action_status:200};if(u&&(m["x-oss-security-token"]=u),d){const y=JSON.stringify({callbackUrl:d,callbackBody:JSON.stringify({fileId:_,spaceId:this.config.spaceId}),callbackBodyType:"application/json"});m.callback=ft.toBase64(y)}const w={url:"https://"+c.host,formData:m,fileName:"file",name:"file",filePath:e,fileType:n};if(await this.uploadFileToOSS(Object.assign({},w,{onUploadProgress:s})),d)return{success:!0,filePath:e,fileID:a};if((await this.reportOSSUpload({id:_})).success)return{success:!0,filePath:e,fileID:a};throw new O({code:"UPLOAD_FAILED",message:""})}getTempFileURL({fileList:e}={}){return new Promise((t,n)=>{Array.isArray(e)&&e.length!==0||n(new O({code:"INVALID_PARAM",message:"fileList"})),this.getFileInfo({fileList:e}).then(o=>{t({fileList:e.map((s,r)=>{const i=o.fileList[r];return{fileID:s,tempFileURL:i&&i.url||s}})})})})}async getFileInfo({fileList:e}={}){if(!Array.isArray(e)||e.length===0)throw new O({code:"INVALID_PARAM",message:"fileList"});const t={method:"serverless.file.resource.info",params:JSON.stringify({id:e.map(n=>n.split("?")[0]).join(",")})};return{fileList:(await this.request(this.setupRequest(t))).result}}},Fm={init(e){const t=new Hm(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}};const Bm=typeof location<"u"&&location.protocol==="http:"?"http:":"https:";var Mr;(function(e){e.local="local",e.none="none",e.session="session"})(Mr||(Mr={}));var qm=function(){},Km=we(function(e,t){var n;e.exports=(n=Ne,function(o){var s=n,r=s.lib,i=r.WordArray,c=r.Hasher,a=s.algo,u=[],f=[];(function(){function g(m){for(var w=o.sqrt(m),y=2;y<=w;y++)if(!(m%y))return!1;return!0}function _(m){return 4294967296*(m-(0|m))|0}for(var p=2,d=0;d<64;)g(p)&&(d<8&&(u[d]=_(o.pow(p,.5))),f[d]=_(o.pow(p,1/3)),d++),p++})();var l=[],h=a.SHA256=c.extend({_doReset:function(){this._hash=new i.init(u.slice(0))},_doProcessBlock:function(g,_){for(var p=this._hash.words,d=p[0],m=p[1],w=p[2],y=p[3],b=p[4],P=p[5],v=p[6],N=p[7],L=0;L<64;L++){if(L<16)l[L]=0|g[_+L];else{var K=l[L-15],ce=(K<<25|K>>>7)^(K<<14|K>>>18)^K>>>3,Q=l[L-2],de=(Q<<15|Q>>>17)^(Q<<13|Q>>>19)^Q>>>10;l[L]=ce+l[L-7]+de+l[L-16]}var ue=d&m^d&w^m&w,He=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),ie=N+((b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25))+(b&P^~b&v)+f[L]+l[L];N=v,v=P,P=b,b=y+ie|0,y=w,w=m,m=d,d=ie+(He+ue)|0}p[0]=p[0]+d|0,p[1]=p[1]+m|0,p[2]=p[2]+w|0,p[3]=p[3]+y|0,p[4]=p[4]+b|0,p[5]=p[5]+P|0,p[6]=p[6]+v|0,p[7]=p[7]+N|0},_doFinalize:function(){var g=this._data,_=g.words,p=8*this._nDataBytes,d=8*g.sigBytes;return _[d>>>5]|=128<<24-d%32,_[14+(d+64>>>9<<4)]=o.floor(p/4294967296),_[15+(d+64>>>9<<4)]=p,g.sigBytes=4*_.length,this._process(),this._hash},clone:function(){var g=c.clone.call(this);return g._hash=this._hash.clone(),g}});s.SHA256=c._createHelper(h),s.HmacSHA256=c._createHmacHelper(h)}(Math),n.SHA256)}),Go=Km,Ra=we(function(e,t){e.exports=Ne.HmacSHA256});const Jt=()=>{let e;if(!Promise){e=()=>{},e.promise={};const n=()=>{throw new O({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(e.promise,"then",{get:n}),Object.defineProperty(e.promise,"catch",{get:n}),e}const t=new Promise((n,o)=>{e=(s,r)=>s?o(s):n(r)});return e.promise=t,e};function Vm(e){return e===void 0}function Wm(e){return Object.prototype.toString.call(e)==="[object Null]"}function jr(e=""){return e.replace(/([\s\S]+)\s+(AI.*)/,"$1")}function Hr(e=32){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let o=0;o<e;o++)n+=t.charAt(Math.floor(62*Math.random()));return n}var Fr;function zm(e){const t=(n=e,Object.prototype.toString.call(n)==="[object Array]"?e:[e]);var n;for(const o of t){const{isMatch:s,genAdapter:r,runtime:i}=o;if(s())return{adapter:r(),runtime:i}}}(function(e){e.WEB="web",e.WX_MP="wx_mp"})(Fr||(Fr={}));const X={adapter:null,runtime:void 0},Jm=["anonymousUuidKey"];class io extends qm{constructor(){super(),X.adapter.root.tcbObject||(X.adapter.root.tcbObject={})}setItem(t,n){X.adapter.root.tcbObject[t]=n}getItem(t){return X.adapter.root.tcbObject[t]}removeItem(t){delete X.adapter.root.tcbObject[t]}clear(){delete X.adapter.root.tcbObject}}function Br(e,t){switch(e){case"local":return t.localStorage||new io;case"none":return new io;default:return t.sessionStorage||new io}}class qr{constructor(t){if(!this._storage){this._persistence=X.adapter.primaryStorage||t.persistence,this._storage=Br(this._persistence,X.adapter);const n=`access_token_${t.env}`,o=`access_token_expire_${t.env}`,s=`refresh_token_${t.env}`,r=`anonymous_uuid_${t.env}`,i=`login_type_${t.env}`,c="device_id",a=`token_type_${t.env}`,u=`user_info_${t.env}`;this.keys={accessTokenKey:n,accessTokenExpireKey:o,refreshTokenKey:s,anonymousUuidKey:r,loginTypeKey:i,userInfoKey:u,deviceIdKey:c,tokenTypeKey:a}}}updatePersistence(t){if(t===this._persistence)return;const n=this._persistence==="local";this._persistence=t;const o=Br(t,X.adapter);for(const s in this.keys){const r=this.keys[s];if(n&&Jm.includes(s))continue;const i=this._storage.getItem(r);Vm(i)||Wm(i)||(o.setItem(r,i),this._storage.removeItem(r))}this._storage=o}setStore(t,n,o){if(!this._storage)return;const s={version:o||"localCachev1",content:n},r=JSON.stringify(s);try{this._storage.setItem(t,r)}catch(i){throw i}}getStore(t,n){try{if(!this._storage)return}catch{return""}n=n||"localCachev1";const o=this._storage.getItem(t);return o&&o.indexOf(n)>=0?JSON.parse(o).content:""}removeStore(t){this._storage.removeItem(t)}}const Na={},Da={};function It(e){return Na[e]}class Ua{constructor(t,n){this.data=n||null,this.name=t}}class Gm extends Ua{constructor(t,n){super("error",{error:t,data:n}),this.error=t}}const $s=new class{constructor(){this._listeners={}}on(e,t){return function(n,o,s){s[n]=s[n]||[],s[n].push(o)}(e,t,this._listeners),this}off(e,t){return function(n,o,s){if(s&&s[n]){const r=s[n].indexOf(o);r!==-1&&s[n].splice(r,1)}}(e,t,this._listeners),this}fire(e,t){if(e instanceof Gm)return console.error(e.error),this;const n=typeof e=="string"?new Ua(e,t||{}):e,o=n.name;if(this._listens(o)){n.target=this;const s=this._listeners[o]?[...this._listeners[o]]:[];for(const r of s)r.call(this,n)}return this}_listens(e){return this._listeners[e]&&this._listeners[e].length>0}};function Oe(e,t){$s.on(e,t)}function re(e,t={}){$s.fire(e,t)}function Ym(e,t){$s.off(e,t)}const bt="loginStateChanged",Ma="loginStateExpire",De="loginTypeChanged",Yo="anonymousConverted",ja="refreshAccessToken";var W;(function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"})(W||(W={}));class Qm{constructor(){this._fnPromiseMap=new Map}async run(t,n){let o=this._fnPromiseMap.get(t);return o||(o=new Promise(async(s,r)=>{try{await this._runIdlePromise();const i=n();s(await i)}catch(i){r(i)}finally{this._fnPromiseMap.delete(t)}}),this._fnPromiseMap.set(t,o)),o}_runIdlePromise(){return Promise.resolve()}}class Xm{constructor(t){this._singlePromise=new Qm,this._cache=It(t.env),this._baseURL=`https://${t.env}.ap-shanghai.tcb-api.tencentcloudapi.com`,this._reqClass=new X.adapter.reqClass({timeout:t.timeout,timeoutMsg:`${t.timeout/1e3}s`,restrictedMethods:["post"]})}_getDeviceId(){if(this._deviceID)return this._deviceID;const{deviceIdKey:t}=this._cache.keys;let n=this._cache.getStore(t);return typeof n=="string"&&n.length>=16&&n.length<=48||(n=Hr(),this._cache.setStore(t,n)),this._deviceID=n,n}async _request(t,n,o={}){const s={"x-request-id":Hr(),"x-device-id":this._getDeviceId()};if(o.withAccessToken){const{tokenTypeKey:r}=this._cache.keys,i=await this.getAccessToken(),c=this._cache.getStore(r);s.authorization=`${c} ${i}`}return this._reqClass[o.method==="get"?"get":"post"]({url:`${this._baseURL}${t}`,data:n,headers:s})}async _fetchAccessToken(){const{loginTypeKey:t,accessTokenKey:n,accessTokenExpireKey:o,tokenTypeKey:s}=this._cache.keys,r=this._cache.getStore(t);if(r&&r!==W.ANONYMOUS)throw new O({code:"INVALID_OPERATION",message:" access token"});const i=await this._singlePromise.run("fetchAccessToken",async()=>(await this._request("/auth/v1/signin/anonymously",{},{method:"post"})).data),{access_token:c,expires_in:a,token_type:u}=i;return this._cache.setStore(s,u),this._cache.setStore(n,c),this._cache.setStore(o,Date.now()+1e3*a),c}isAccessTokenExpired(t,n){let o=!0;return t&&n&&(o=n<Date.now()),o}async getAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n}=this._cache.keys,o=this._cache.getStore(t),s=this._cache.getStore(n);return this.isAccessTokenExpired(o,s)?this._fetchAccessToken():o}async refreshAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,loginTypeKey:o}=this._cache.keys;return this._cache.removeStore(t),this._cache.removeStore(n),this._cache.setStore(o,W.ANONYMOUS),this.getAccessToken()}async getUserInfo(){return this._singlePromise.run("getUserInfo",async()=>(await this._request("/auth/v1/user/me",{},{withAccessToken:!0,method:"get"})).data)}}const Kr=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],Zm={"X-SDK-Version":"1.3.5"};function co(e,t,n){const o=e[t];e[t]=function(s){const r={},i={};n.forEach(a=>{const{data:u,headers:f}=a.call(e,s);Object.assign(r,u),Object.assign(i,f)});const c=s.data;return c&&(()=>{var a;if(a=c,Object.prototype.toString.call(a)!=="[object FormData]")s.data={...c,...r};else for(const u in r)c.append(u,r[u])})(),s.headers={...s.headers||{},...i},o.call(e,s)}}function ao(){const e=Math.random().toString(16).slice(2);return{data:{seqId:e},headers:{...Zm,"x-seqid":e}}}class e_{constructor(t={}){var n;this.config=t,this._reqClass=new X.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`${this.config.timeout/1e3}s`,restrictedMethods:["post"]}),this._cache=It(this.config.env),this._localCache=(n=this.config.env,Da[n]),this.oauth=new Xm(this.config),co(this._reqClass,"post",[ao]),co(this._reqClass,"upload",[ao]),co(this._reqClass,"download",[ao])}async post(t){return await this._reqClass.post(t)}async upload(t){return await this._reqClass.upload(t)}async download(t){return await this._reqClass.download(t)}async refreshAccessToken(){let t,n;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{t=await this._refreshAccessTokenPromise}catch(o){n=o}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,n)throw n;return t}async _refreshAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:o,loginTypeKey:s,anonymousUuidKey:r}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(n);let i=this._cache.getStore(o);if(!i)throw new O({message:"CloudBase"});const c={refresh_token:i},a=await this.request("auth.fetchAccessTokenWithRefreshToken",c);if(a.data.code){const{code:u}=a.data;if(u==="SIGN_PARAM_INVALID"||u==="REFRESH_TOKEN_EXPIRED"||u==="INVALID_REFRESH_TOKEN"){if(this._cache.getStore(s)===W.ANONYMOUS&&u==="INVALID_REFRESH_TOKEN"){const f=this._cache.getStore(r),l=this._cache.getStore(o),h=await this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:l});return this.setRefreshToken(h.refresh_token),this._refreshAccessToken()}re(Ma),this._cache.removeStore(o)}throw new O({code:a.data.code,message:`access token${a.data.code}`})}if(a.data.access_token)return re(ja),this._cache.setStore(t,a.data.access_token),this._cache.setStore(n,a.data.access_token_expire+Date.now()),{accessToken:a.data.access_token,accessTokenExpire:a.data.access_token_expire};a.data.refresh_token&&(this._cache.removeStore(o),this._cache.setStore(o,a.data.refresh_token),this._refreshAccessToken())}async getAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:o}=this._cache.keys;if(!this._cache.getStore(o))throw new O({message:"refresh token"});let s=this._cache.getStore(t),r=this._cache.getStore(n),i=!0;return this._shouldRefreshAccessTokenHook&&!await this._shouldRefreshAccessTokenHook(s,r)&&(i=!1),(!s||!r||r<Date.now())&&i?this.refreshAccessToken():{accessToken:s,accessTokenExpire:r}}async request(t,n,o){const s=`x-tcb-trace_${this.config.env}`;let r="application/x-www-form-urlencoded";const i={action:t,env:this.config.env,dataVersion:"2019-08-16",...n};let c;if(Kr.indexOf(t)===-1&&(this._cache.keys,i.access_token=await this.oauth.getAccessToken()),t==="storage.uploadFile"){c=new FormData;for(let m in c)c.hasOwnProperty(m)&&c[m]!==void 0&&c.append(m,i[m]);r="multipart/form-data"}else{r="application/json",c={};for(let m in i)i[m]!==void 0&&(c[m]=i[m])}let a={headers:{"content-type":r}};o&&o.timeout&&(a.timeout=o.timeout),o&&o.onUploadProgress&&(a.onUploadProgress=o.onUploadProgress);const u=this._localCache.getStore(s);u&&(a.headers["X-TCB-Trace"]=u);const{parse:f,inQuery:l,search:h}=n;let g={env:this.config.env};f&&(g.parse=!0),l&&(g={...l,...g});let _=function(m,w,y={}){const b=/\?/.test(w);let P="";for(let v in y)P===""?!b&&(w+="?"):P+="&",P+=`${v}=${encodeURIComponent(y[v])}`;return/^http(s)?\:\/\//.test(w+=P)?w:`${m}${w}`}(Bm,"//tcb-api.tencentcloudapi.com/web",g);h&&(_+=h);const p=await this.post({url:_,data:c,...a}),d=p.header&&p.header["x-tcb-trace"];if(d&&this._localCache.setStore(s,d),Number(p.status)!==200&&Number(p.statusCode)!==200||!p.data)throw new O({code:"NETWORK_ERROR",message:"network request error"});return p}async send(t,n={},o={}){const s=await this.request(t,n,{...o,onUploadProgress:n.onUploadProgress});if((s.data.code==="ACCESS_TOKEN_DISABLED"||s.data.code==="ACCESS_TOKEN_EXPIRED")&&Kr.indexOf(t)===-1){await this.oauth.refreshAccessToken();const r=await this.request(t,n,{...o,onUploadProgress:n.onUploadProgress});if(r.data.code)throw new O({code:r.data.code,message:jr(r.data.message)});return r.data}if(s.data.code)throw new O({code:s.data.code,message:jr(s.data.message)});return s.data}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:o,refreshTokenKey:s}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(o),this._cache.setStore(s,t)}}const Ha={};function Pe(e){return Ha[e]}class Bn{constructor(t){this.config=t,this._cache=It(t.env),this._request=Pe(t.env)}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:o,refreshTokenKey:s}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(o),this._cache.setStore(s,t)}setAccessToken(t,n){const{accessTokenKey:o,accessTokenExpireKey:s}=this._cache.keys;this._cache.setStore(o,t),this._cache.setStore(s,n)}async refreshUserInfo(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t)}}class t_{constructor(t){if(!t)throw new O({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=t,this._cache=It(this._envId),this._request=Pe(this._envId),this.setUserInfo()}linkWithTicket(t){if(typeof t!="string")throw new O({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}linkWithRedirect(t){t.signInWithRedirect()}updatePassword(t,n){return this._request.send("auth.updatePassword",{oldPassword:n,newPassword:t})}updateEmail(t){return this._request.send("auth.updateEmail",{newEmail:t})}updateUsername(t){if(typeof t!="string")throw new O({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}async getLinkedUidList(){const{data:t}=await this._request.send("auth.getLinkedUidList",{});let n=!1;const{users:o}=t;return o.forEach(s=>{s.wxOpenId&&s.wxPublicId&&(n=!0)}),{users:o,hasPrimaryUid:n}}setPrimaryUid(t){return this._request.send("auth.setPrimaryUid",{uid:t})}unlink(t){return this._request.send("auth.unlink",{platform:t})}async update(t){const{nickName:n,gender:o,avatarUrl:s,province:r,country:i,city:c}=t,{data:a}=await this._request.send("auth.updateUserInfo",{nickName:n,gender:o,avatarUrl:s,province:r,country:i,city:c});this.setLocalUserInfo(a)}async refresh(){const t=await this._request.oauth.getUserInfo();return this.setLocalUserInfo(t),t}setUserInfo(){const{userInfoKey:t}=this._cache.keys,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach(o=>{this[o]=n[o]}),this.location={country:n.country,province:n.province,city:n.city}}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t),this.setUserInfo()}}class Gt{constructor(t){if(!t)throw new O({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=It(t);const{refreshTokenKey:n,accessTokenKey:o,accessTokenExpireKey:s}=this._cache.keys,r=this._cache.getStore(n),i=this._cache.getStore(o),c=this._cache.getStore(s);this.credential={refreshToken:r,accessToken:i,accessTokenExpire:c},this.user=new t_(t)}get isAnonymousAuth(){return this.loginType===W.ANONYMOUS}get isCustomAuth(){return this.loginType===W.CUSTOM}get isWeixinAuth(){return this.loginType===W.WECHAT||this.loginType===W.WECHAT_OPEN||this.loginType===W.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}class uo extends Bn{async signIn(){this._cache.updatePersistence("local"),await this._request.oauth.getAccessToken(),re(bt),re(De,{env:this.config.env,loginType:W.ANONYMOUS,persistence:"local"});const t=new Gt(this.config.env);return await t.user.refresh(),t}async linkAndRetrieveDataWithTicket(t){const{anonymousUuidKey:n,refreshTokenKey:o}=this._cache.keys,s=this._cache.getStore(n),r=this._cache.getStore(o),i=await this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:s,refresh_token:r,ticket:t});if(i.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(i.refresh_token),await this._request.refreshAccessToken(),re(Yo,{env:this.config.env}),re(De,{loginType:W.CUSTOM,persistence:"local"}),{credential:{refreshToken:i.refresh_token}};throw new O({message:""})}_setAnonymousUUID(t){const{anonymousUuidKey:n,loginTypeKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.setStore(n,t),this._cache.setStore(o,W.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}class Vr extends Bn{async signIn(t){if(typeof t!="string")throw new O({code:"PARAM_ERROR",message:"ticket must be a string"});const{refreshTokenKey:n}=this._cache.keys,o=await this._request.send("auth.signInWithTicket",{ticket:t,refresh_token:this._cache.getStore(n)||""});if(o.refresh_token)return this.setRefreshToken(o.refresh_token),await this._request.refreshAccessToken(),re(bt),re(De,{env:this.config.env,loginType:W.CUSTOM,persistence:this.config.persistence}),await this.refreshUserInfo(),new Gt(this.config.env);throw new O({message:""})}}class Wr extends Bn{async signIn(t,n){if(typeof t!="string")throw new O({code:"PARAM_ERROR",message:"email must be a string"});const{refreshTokenKey:o}=this._cache.keys,s=await this._request.send("auth.signIn",{loginType:"EMAIL",email:t,password:n,refresh_token:this._cache.getStore(o)||""}),{refresh_token:r,access_token:i,access_token_expire:c}=s;if(r)return this.setRefreshToken(r),i&&c?this.setAccessToken(i,c):await this._request.refreshAccessToken(),await this.refreshUserInfo(),re(bt),re(De,{env:this.config.env,loginType:W.EMAIL,persistence:this.config.persistence}),new Gt(this.config.env);throw s.code?new O({code:s.code,message:`: ${s.message}`}):new O({message:""})}async activate(t){return this._request.send("auth.activateEndUserMail",{token:t})}async resetPasswordWithToken(t,n){return this._request.send("auth.resetPasswordWithToken",{token:t,newPassword:n})}}class zr extends Bn{async signIn(t,n){if(typeof t!="string")throw new O({code:"PARAM_ERROR",message:"username must be a string"});typeof n!="string"&&(n="",console.warn("password is empty"));const{refreshTokenKey:o}=this._cache.keys,s=await this._request.send("auth.signIn",{loginType:W.USERNAME,username:t,password:n,refresh_token:this._cache.getStore(o)||""}),{refresh_token:r,access_token_expire:i,access_token:c}=s;if(r)return this.setRefreshToken(r),c&&i?this.setAccessToken(c,i):await this._request.refreshAccessToken(),await this.refreshUserInfo(),re(bt),re(De,{env:this.config.env,loginType:W.USERNAME,persistence:this.config.persistence}),new Gt(this.config.env);throw s.code?new O({code:s.code,message:`: ${s.message}`}):new O({message:""})}}class n_{constructor(t){this.config=t,this._cache=It(t.env),this._request=Pe(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Oe(De,this._onLoginTypeChanged)}get currentUser(){const t=this.hasLoginState();return t&&t.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new uo(this.config)}customAuthProvider(){return new Vr(this.config)}emailAuthProvider(){return new Wr(this.config)}usernameAuthProvider(){return new zr(this.config)}async signInAnonymously(){return new uo(this.config).signIn()}async signInWithEmailAndPassword(t,n){return new Wr(this.config).signIn(t,n)}signInWithUsernameAndPassword(t,n){return new zr(this.config).signIn(t,n)}async linkAndRetrieveDataWithTicket(t){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new uo(this.config)),Oe(Yo,this._onAnonymousConverted),await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t)}async signOut(){if(this.loginType===W.ANONYMOUS)throw new O({message:""});const{refreshTokenKey:t,accessTokenKey:n,accessTokenExpireKey:o}=this._cache.keys,s=this._cache.getStore(t);if(!s)return;const r=await this._request.send("auth.logout",{refresh_token:s});return this._cache.removeStore(t),this._cache.removeStore(n),this._cache.removeStore(o),re(bt),re(De,{env:this.config.env,loginType:W.NULL,persistence:this.config.persistence}),r}async signUpWithEmailAndPassword(t,n){return this._request.send("auth.signUpWithEmailAndPassword",{email:t,password:n})}async sendPasswordResetEmail(t){return this._request.send("auth.sendPasswordResetEmail",{email:t})}onLoginStateChanged(t){Oe(bt,()=>{const o=this.hasLoginState();t.call(this,o)});const n=this.hasLoginState();t.call(this,n)}onLoginStateExpired(t){Oe(Ma,t.bind(this))}onAccessTokenRefreshed(t){Oe(ja,t.bind(this))}onAnonymousConverted(t){Oe(Yo,t.bind(this))}onLoginTypeChanged(t){Oe(De,()=>{const n=this.hasLoginState();t.call(this,n)})}async getAccessToken(){return{accessToken:(await this._request.getAccessToken()).accessToken,env:this.config.env}}hasLoginState(){const{accessTokenKey:t,accessTokenExpireKey:n}=this._cache.keys,o=this._cache.getStore(t),s=this._cache.getStore(n);return this._request.oauth.isAccessTokenExpired(o,s)?null:new Gt(this.config.env)}async isUsernameRegistered(t){if(typeof t!="string")throw new O({code:"PARAM_ERROR",message:"username must be a string"});const{data:n}=await this._request.send("auth.isUsernameRegistered",{username:t});return n&&n.isRegistered}getLoginState(){return Promise.resolve(this.hasLoginState())}async signInWithTicket(t){return new Vr(this.config).signIn(t)}shouldRefreshAccessToken(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then(t=>t.code?t:{...t.data,requestId:t.seqId})}getAuthHeader(){const{refreshTokenKey:t,accessTokenKey:n}=this._cache.keys,o=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+o}}_onAnonymousConverted(t){const{env:n}=t.data;n===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(t){const{loginType:n,persistence:o,env:s}=t.data;s===this.config.env&&(this._cache.updatePersistence(o),this._cache.setStore(this._cache.keys.loginTypeKey,n))}}const o_=function(e,t){t=t||Jt();const n=Pe(this.config.env),{cloudPath:o,filePath:s,onUploadProgress:r,fileType:i="image"}=e;return n.send("storage.getUploadMetadata",{path:o}).then(c=>{const{data:{url:a,authorization:u,token:f,fileId:l,cosFileId:h},requestId:g}=c,_={key:o,signature:u,"x-cos-meta-fileid":h,success_action_status:"201","x-cos-security-token":f};n.upload({url:a,data:_,file:s,name:o,fileType:i,onUploadProgress:r}).then(p=>{p.statusCode===201?t(null,{fileID:l,requestId:g}):t(new O({code:"STORAGE_REQUEST_FAIL",message:`STORAGE_REQUEST_FAIL: ${p.data}`}))}).catch(p=>{t(p)})}).catch(c=>{t(c)}),t.promise},s_=function(e,t){t=t||Jt();const n=Pe(this.config.env),{cloudPath:o}=e;return n.send("storage.getUploadMetadata",{path:o}).then(s=>{t(null,s)}).catch(s=>{t(s)}),t.promise},r_=function({fileList:e},t){if(t=t||Jt(),!e||!Array.isArray(e))return{code:"INVALID_PARAM",message:"fileList"};for(let o of e)if(!o||typeof o!="string")return{code:"INVALID_PARAM",message:"fileList"};const n={fileid_list:e};return Pe(this.config.env).send("storage.batchDeleteFile",n).then(o=>{o.code?t(null,o):t(null,{fileList:o.data.delete_list,requestId:o.requestId})}).catch(o=>{t(o)}),t.promise},Fa=function({fileList:e},t){t=t||Jt(),e&&Array.isArray(e)||t(null,{code:"INVALID_PARAM",message:"fileList"});let n=[];for(let s of e)typeof s=="object"?(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileListfileIDmaxAge"}),n.push({fileid:s.fileID,max_age:s.maxAge})):typeof s=="string"?n.push({fileid:s}):t(null,{code:"INVALID_PARAM",message:"fileList"});const o={file_list:n};return Pe(this.config.env).send("storage.batchGetDownloadUrl",o).then(s=>{s.code?t(null,s):t(null,{fileList:s.data.download_list,requestId:s.requestId})}).catch(s=>{t(s)}),t.promise},i_=async function({fileID:e},t){const n=(await Fa.call(this,{fileList:[{fileID:e,maxAge:600}]})).fileList[0];if(n.code!=="SUCCESS")return t?t(n):new Promise(r=>{r(n)});const o=Pe(this.config.env);let s=n.download_url;if(s=encodeURI(s),!t)return o.download({url:s});t(await o.download({url:s}))},c_=function({name:e,data:t,query:n,parse:o,search:s,timeout:r},i){const c=i||Jt();let a;try{a=t?JSON.stringify(t):""}catch(f){return Promise.reject(f)}if(!e)return Promise.reject(new O({code:"PARAM_ERROR",message:""}));const u={inQuery:n,parse:o,search:s,function_name:e,request_data:a};return Pe(this.config.env).send("functions.invokeFunction",u,{timeout:r}).then(f=>{if(f.code)c(null,f);else{let l=f.data.response_data;if(o)c(null,{result:l,requestId:f.requestId});else try{l=JSON.parse(f.data.response_data),c(null,{result:l,requestId:f.requestId})}catch{c(new O({message:"response data must be json"}))}}return c.promise}).catch(f=>{c(f)}),c.promise},Jr={timeout:15e3,persistence:"session"},Gr=6e5,Yr={};class Ls{constructor(t){this.config=t||this.config,this.authObj=void 0}init(t){switch(X.adapter||(this.requestClient=new X.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:`${(t.timeout||5e3)/1e3}s`})),this.config={...Jr,...t},!0){case this.config.timeout>Gr:console.warn("timeout[10]"),this.config.timeout=Gr;break;case this.config.timeout<100:console.warn("timeout[100ms]"),this.config.timeout=100}return new Ls(this.config)}auth({persistence:t}={}){if(this.authObj)return this.authObj;const n=t||X.adapter.primaryStorage||Jr.persistence;var o;return n!==this.config.persistence&&(this.config.persistence=n),function(s){const{env:r}=s;Na[r]=new qr(s),Da[r]=new qr({...s,persistence:"local"})}(this.config),o=this.config,Ha[o.env]=new e_(o),this.authObj=new n_(this.config),this.authObj}on(t,n){return Oe.apply(this,[t,n])}off(t,n){return Ym.apply(this,[t,n])}callFunction(t,n){return c_.apply(this,[t,n])}deleteFile(t,n){return r_.apply(this,[t,n])}getTempFileURL(t,n){return Fa.apply(this,[t,n])}downloadFile(t,n){return i_.apply(this,[t,n])}uploadFile(t,n){return o_.apply(this,[t,n])}getUploadMetadata(t,n){return s_.apply(this,[t,n])}registerExtension(t){Yr[t.name]=t}async invokeExtension(t,n){const o=Yr[t];if(!o)throw new O({message:`${t} `});return await o.invoke(n,this)}useAdapters(t){const{adapter:n,runtime:o}=zm(t)||{};n&&(X.adapter=n),o&&(X.runtime=o)}}var Ba=new Ls;function lo(e,t,n){n===void 0&&(n={});var o=/\?/.test(t),s="";for(var r in n)s===""?!o&&(t+="?"):s+="&",s+=r+"="+encodeURIComponent(n[r]);return/^http(s)?:\/\//.test(t+=s)?t:""+e+t}class a_{get(t){const{url:n,data:o,headers:s,timeout:r}=t;return new Promise((i,c)=>{q.request({url:lo("https:",n),data:o,method:"GET",header:s,timeout:r,success(a){i(a)},fail(a){c(a)}})})}post(t){const{url:n,data:o,headers:s,timeout:r}=t;return new Promise((i,c)=>{q.request({url:lo("https:",n),data:o,method:"POST",header:s,timeout:r,success(a){i(a)},fail(a){c(a)}})})}upload(t){return new Promise((n,o)=>{const{url:s,file:r,data:i,headers:c,fileType:a}=t,u=q.uploadFile({url:lo("https:",s),name:"file",formData:Object.assign({},i),filePath:r,fileType:a,header:c,success(f){const l={statusCode:f.statusCode,data:f.data||{}};f.statusCode===200&&i.success_action_status&&(l.statusCode=parseInt(i.success_action_status,10)),n(l)},fail(f){o(new Error(f.errMsg||"uploadFile:fail"))}});typeof t.onUploadProgress=="function"&&u&&typeof u.onProgressUpdate=="function"&&u.onProgressUpdate(f=>{t.onUploadProgress({loaded:f.totalBytesSent,total:f.totalBytesExpectedToSend})})})}}const u_={setItem(e,t){q.setStorageSync(e,t)},getItem:e=>q.getStorageSync(e),removeItem(e){q.removeStorageSync(e)},clear(){q.clearStorageSync()}};var l_={genAdapter:function(){return{root:{},reqClass:a_,localStorage:u_,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};Ba.useAdapters(l_);const Rs=Ba,f_=Rs.init;Rs.init=function(e){e.env=e.spaceId;const t=f_.call(this,e);t.config.provider="tencent",t.config.spaceId=e.spaceId;const n=t.auth;return t.auth=function(o){const s=n.call(this,o);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach(r=>{var i;s[r]=(i=s[r],function(c){c=c||{};const{success:a,fail:u,complete:f}=Ca(c);if(!(a||u||f))return i.call(this,c);i.call(this,c).then(l=>{a&&a(l),f&&f(l)},l=>{u&&u(l),f&&f(l)})}).bind(s)}),s},t.customAuth=t.auth,t};var Qr=Rs;async function d_(e,t){const n=`http://${e}:${t}/system/ping`;try{const s=await(o={url:n,timeout:500},new Promise((r,i)=>{q.request({...o,success(c){r(c)},fail(c){i(c)}})}));return!(!s.data||s.data.code!==0)}catch{return!1}var o}async function Ka(e,t){let n;for(let o=0;o<e.length;o++){const s=e[o];if(await d_(s,t)){n=s;break}}return{address:n,port:t}}const p_={"serverless.file.resource.generateProximalSign":"storage/generate-proximal-sign","serverless.file.resource.report":"storage/report","serverless.file.resource.delete":"storage/delete","serverless.file.resource.getTempFileURL":"storage/get-temp-file-url"};var h_=class{constructor(e){if(["spaceId","clientSecret"].forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`${t} required`)}),!e.endpoint)throw new Error("ApiEndpoint");this.config=Object.assign({},e),this.config.provider="dcloud",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.adapter=q}async request(e,t=!0){const n=t;return e=n?await this.setupLocalRequest(e):this.setupRequest(e),Promise.resolve().then(()=>n?this.requestLocal(e):ft.wrappedRequest(e,this.adapter.request))}requestLocal(e){return new Promise((t,n)=>{this.adapter.request(Object.assign(e,{complete(o){if(o||(o={}),!o.statusCode||o.statusCode>=400){const s=o.data&&o.data.code||"SYS_ERR",r=o.data&&o.data.message||"request:fail";return n(new O({code:s,message:r}))}t({success:!0,result:o.data})}}))})}setupRequest(e){const t=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),n={"Content-Type":"application/json"};n["x-serverless-sign"]=ft.sign(t,this.config.clientSecret);const o=Jo();n["x-client-info"]=encodeURIComponent(JSON.stringify(o));const{token:s}=Mt();return n["x-client-token"]=s,{url:this.config.requestUrl,method:"POST",data:t,dataType:"json",header:JSON.parse(JSON.stringify(n))}}async setupLocalRequest(e){const t=Jo(),{token:n}=Mt(),o=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now(),clientInfo:t,token:n}),{address:s,servePort:r}=this.__dev__&&this.__dev__.debugInfo||{},{address:i}=await Ka(s,r);return{url:`http://${i}:${r}/${p_[e.method]}`,method:"POST",data:o,dataType:"json",header:JSON.parse(JSON.stringify({"Content-Type":"application/json"}))}}callFunction(e){const t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(t,!1)}getUploadFileOptions(e){const t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(t)}reportUploadFile(e){const t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(t)}uploadFile({filePath:e,cloudPath:t,fileType:n="image",onUploadProgress:o}){if(!t)throw new O({code:"CLOUDPATH_REQUIRED",message:"cloudPath"});let s;return this.getUploadFileOptions({cloudPath:t}).then(r=>{const{url:i,formData:c,name:a}=r.result;return s=r.result.fileUrl,new Promise((u,f)=>{const l=this.adapter.uploadFile({url:i,formData:c,name:a,filePath:e,fileType:n,success(h){h&&h.statusCode<400?u(h):f(new O({code:"UPLOAD_FAILED",message:""}))},fail(h){f(new O({code:h.code||"UPLOAD_FAILED",message:h.message||h.errMsg||""}))}});typeof o=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(h=>{o({loaded:h.totalBytesSent,total:h.totalBytesExpectedToSend})})})}).then(()=>this.reportUploadFile({cloudPath:t})).then(r=>new Promise((i,c)=>{r.success?i({success:!0,filePath:e,fileID:s}):c(new O({code:"UPLOAD_FAILED",message:""}))}))}deleteFile({fileList:e}){const t={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(t).then(n=>{if(n.success)return n.result;throw new O({code:"DELETE_FILE_FAILED",message:""})})}getTempFileURL({fileList:e,maxAge:t}={}){if(!Array.isArray(e)||e.length===0)throw new O({code:"INVALID_PARAM",message:"fileList"});const n={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e,maxAge:t})};return this.request(n).then(o=>{if(o.success)return{fileList:o.result.fileList.map(s=>({fileID:s.fileID,tempFileURL:s.tempFileURL}))};throw new O({code:"GET_TEMP_FILE_URL_FAILED",message:""})})}},Xr={init(e){const t=new h_(e),n={signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}},kt=we(function(e,t){e.exports=Ne.enc.Hex});function Va(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(e==="x"?t:3&t|8).toString(16)})}function Wa(e="",t={}){const{data:n,functionName:o,method:s,headers:r,signHeaderKeys:i=[],config:c}=t,a=String(Date.now()),u=Va(),f=Object.assign({},r,{"x-from-app-id":c.spaceAppId,"x-from-env-id":c.spaceId,"x-to-env-id":c.spaceId,"x-from-instance-id":a,"x-from-function-name":o,"x-client-timestamp":a,"x-alipay-source":"client","x-request-id":u,"x-alipay-callid":u,"x-trace-id":u}),l=["x-from-app-id","x-from-env-id","x-to-env-id","x-from-instance-id","x-from-function-name","x-client-timestamp"].concat(i),[h="",g=""]=e.split("?")||[],_=function(p){const d="HMAC-SHA256",m=p.signedHeaders.join(";"),w=p.signedHeaders.map(L=>`${L.toLowerCase()}:${p.headers[L]}
`).join(""),y=Go(p.body).toString(kt),b=`${p.method.toUpperCase()}
${p.path}
${p.query}
${w}
${m}
${y}
`,P=Go(b).toString(kt),v=`${d}
${p.timestamp}
${P}
`,N=Ra(v,p.secretKey).toString(kt);return`${d} Credential=${p.secretId}, SignedHeaders=${m}, Signature=${N}`}({path:h,query:g,method:s,headers:f,timestamp:a,body:JSON.stringify(n),secretId:c.accessKey,secretKey:c.secretKey,signedHeaders:l.sort()});return{url:`${c.endpoint}${e}`,headers:Object.assign({},f,{Authorization:_})}}function za({url:e,data:t,method:n="POST",headers:o={},timeout:s}){return new Promise((r,i)=>{q.request({url:e,method:n,data:typeof t=="object"?JSON.stringify(t):t,header:o,dataType:"json",timeout:s,complete:(c={})=>{const a=o["x-trace-id"]||"";if(!c.statusCode||c.statusCode>=400){const{message:u,errMsg:f,trace_id:l}=c.data||{};return i(new O({code:"SYS_ERR",message:u||f||"request:fail",requestId:l||a}))}r({status:c.statusCode,data:c.data,headers:c.header,requestId:a})}})})}function Zr(e,t){const{path:n,data:o,method:s="GET"}=e,{url:r,headers:i}=Wa(n,{functionName:"",data:o,method:s,headers:{"x-alipay-cloud-mode":"oss","x-data-api-type":"oss","x-expire-timestamp":String(Date.now()+6e4)},signHeaderKeys:["x-data-api-type","x-expire-timestamp"],config:t});return za({url:r,data:o,method:s,headers:i}).then(c=>{const a=c.data||{};if(!a.success)throw new O({code:c.errCode,message:c.errMsg,requestId:c.requestId});return a.data||{}}).catch(c=>{throw new O({code:c.errCode,message:c.errMsg,requestId:c.requestId})})}function g_(e=""){const t=e.trim().replace(/^cloud:\/\//,""),n=t.indexOf("/");if(n<=0)throw new O({code:"INVALID_PARAM",message:"fileID"});const o=t.substring(0,n),s=t.substring(n+1);return o!==this.config.spaceId&&console.warn("file ".concat(e," does not belong to env ").concat(this.config.spaceId)),s}function m_(e=""){return"cloud://".concat(this.config.spaceId,"/").concat(e.replace(/^\/+/,""))}class __{constructor(t){this.config=t}signedURL(t,n={}){const o=`/ws/function/${t}`,s=this.config.wsEndpoint.replace(/^ws(s)?:\/\//,""),r=Object.assign({},n,{accessKeyId:this.config.accessKey,signatureNonce:Va(),timestamp:""+Date.now()}),i=[o,["accessKeyId","authorization","signatureNonce","timestamp"].sort().map(function(f){return r[f]?"".concat(f,"=").concat(r[f]):null}).filter(Boolean).join("&"),`host:${s}`].join(`
`),c=["HMAC-SHA256",Go(i).toString(kt)].join(`
`),a=Ra(c,this.config.secretKey).toString(kt),u=Object.keys(r).map(f=>`${f}=${encodeURIComponent(r[f])}`).join("&");return`${this.config.wsEndpoint}${o}?${u}&signature=${a}`}}var y_=class{constructor(e){if(["spaceId","spaceAppId","accessKey","secretKey"].forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`${t} required`)}),e.endpoint){if(typeof e.endpoint!="string")throw new Error("endpoint must be string");if(!/^https:\/\//.test(e.endpoint))throw new Error("endpoint must start with https://");e.endpoint=e.endpoint.replace(/\/$/,"")}this.config=Object.assign({},e,{endpoint:e.endpoint||`https://${e.spaceId}.api-hz.cloudbasefunction.cn`,wsEndpoint:e.wsEndpoint||`wss://${e.spaceId}.api-hz.cloudbasefunction.cn`}),this._websocket=new __(this.config)}callFunction(e){return function(t,n){const{name:o,data:s,async:r=!1,timeout:i}=t,c="POST",a={"x-to-function-name":o};r&&(a["x-function-invoke-type"]="async");const{url:u,headers:f}=Wa("/functions/invokeFunction",{functionName:o,data:s,method:c,headers:a,signHeaderKeys:["x-to-function-name"],config:n});return za({url:u,data:s,method:c,headers:f,timeout:i}).then(l=>{let h=0;if(r){const g=l.data||{};h=g.errCode==="200"?0:g.errCode,l.data=g.data||{},l.errMsg=g.errMsg}if(h!==0)throw new O({code:h,message:l.errMsg,requestId:l.requestId});return{errCode:h,success:h===0,requestId:l.requestId,result:l.data}}).catch(l=>{throw new O({code:l.errCode,message:l.errMsg,requestId:l.requestId})})}(e,this.config)}uploadFileToOSS({url:e,filePath:t,fileType:n,formData:o,onUploadProgress:s}){return new Promise((r,i)=>{const c=q.uploadFile({url:e,filePath:t,fileType:n,formData:o,name:"file",success(a){a&&a.statusCode<400?r(a):i(new O({code:"UPLOAD_FAILED",message:""}))},fail(a){i(new O({code:a.code||"UPLOAD_FAILED",message:a.message||a.errMsg||""}))}});typeof s=="function"&&c&&typeof c.onProgressUpdate=="function"&&c.onProgressUpdate(a=>{s({loaded:a.totalBytesSent,total:a.totalBytesExpectedToSend})})})}async uploadFile({filePath:e,cloudPath:t="",fileType:n="image",onUploadProgress:o}){if(Ut(t)!=="string")throw new O({code:"INVALID_PARAM",message:"cloudPath"});if(!(t=t.trim()))throw new O({code:"INVALID_PARAM",message:"cloudPath"});if(/:\/\//.test(t))throw new O({code:"INVALID_PARAM",message:"cloudPath"});const s=await Zr({path:"/".concat(t.replace(/^\//,""),"?post_url")},this.config),{file_id:r,upload_url:i,form_data:c}=s,a=c&&c.reduce((u,f)=>(u[f.key]=f.value,u),{});return this.uploadFileToOSS({url:i,filePath:e,fileType:n,formData:a,onUploadProgress:o}).then(()=>({fileID:r}))}async getTempFileURL({fileList:e}){return new Promise((t,n)=>{(!e||e.length<0)&&t({code:"INVALID_PARAM",message:"fileList"}),e.length>50&&t({code:"INVALID_PARAM",message:"fileList50"});const o=[];for(const s of e){let r;Ut(s)!=="string"&&t({code:"INVALID_PARAM",message:"fileList"});try{r=g_.call(this,s)}catch(i){console.warn(i.errCode,i.errMsg),r=s}o.push({file_id:r,expire:600})}Zr({path:"/?download_url",data:{file_list:o},method:"POST"},this.config).then(s=>{const{file_list:r=[]}=s;t({fileList:r.map(i=>({fileID:m_.call(this,i.file_id),tempFileURL:i.download_url}))})}).catch(s=>n(s))})}async connectWebSocket(e){const{name:t,query:n}=e;return q.connectSocket({url:this._websocket.signedURL(t,n),complete:()=>{}})}},w_={init:e=>{e.provider="alipay";const t=new y_(e);return t.auth=function(){return{signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!0)}}},t}};function Ja({data:e}){let t;t=Jo();const n=JSON.parse(JSON.stringify(e||{}));if(Object.assign(n,{clientInfo:t}),!n.uniIdToken){const{token:o}=Mt();o&&(n.uniIdToken=o)}return n}async function ei(e={}){await this.__dev__.initLocalNetwork();const{localAddress:t,localPort:n}=this.__dev__,o={aliyun:"aliyun",tencent:"tcb",alipay:"alipay",dcloud:"dcloud"}[this.config.provider],s=this.config.spaceId,r=`http://${t}:${n}/system/check-function`,i=`http://${t}:${n}/cloudfunctions/${e.name}`;return new Promise((c,a)=>{q.request({method:"POST",url:r,data:{name:e.name,platform:et,provider:o,spaceId:s},timeout:3e3,success(u){c(u)},fail(){c({data:{code:"NETWORK_ERROR",message:""}})}})}).then(({data:c}={})=>{const{code:a,message:u}=c||{};return{code:a===0?0:a||"SYS_ERR",message:u||"SYS_ERR"}}).then(({code:c,message:a})=>{if(c!==0){switch(c){case"MODULE_ENCRYPTED":console.error(`${e.name}`);break;case"FUNCTION_ENCRYPTED":console.error(`${e.name}`);break;case"ACTION_ENCRYPTED":console.error(a||"uni-clientDB-action");break;case"NETWORK_ERROR":console.error(a||"");break;case"SWITCH_TO_CLOUD":break;default:{const u=`${a}`;throw console.error(u),new Error(u)}}return this._callCloudFunction(e)}return new Promise((u,f)=>{const l=Ja.call(this,{data:e.data});q.request({method:"POST",url:i,data:{provider:o,platform:et,param:l},timeout:e.timeout,success:({statusCode:h,data:g}={})=>!h||h>=400?f(new O({code:g.code||"SYS_ERR",message:g.message||"request:fail"})):u({result:g}),fail(h){f(new O({code:h.code||h.errCode||"SYS_ERR",message:h.message||h.errMsg||"request:fail"}))}})})})}const b_=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"[{functionName}]",mode:"append"}];var Ga=/[\\^$.*+?()[\]{}|]/g,v_=RegExp(Ga.source);function ti(e,t,n){return e.replace(new RegExp((o=t)&&v_.test(o)?o.replace(Ga,"\\$&"):o,"g"),n);var o}const fo={NONE:"none",REQUEST:"request",RESPONSE:"response",BOTH:"both"},ni="_globalUniCloudStatus",S_="_globalUniCloudSecureNetworkCache__{spaceId}",I_="uni-secure-network",Ya={SYSTEM_ERROR:{code:2e4,message:"System error"},APP_INFO_INVALID:{code:20101,message:"Invalid client"},GET_ENCRYPT_KEY_FAILED:{code:20102,message:"Get encrypt key failed"}};function Qa(e){const{errSubject:t,subject:n,errCode:o,errMsg:s,code:r,message:i,cause:c}=e||{};return new O({subject:t||n||I_,code:o||r||Ya.SYSTEM_ERROR.code,message:s||i,cause:c})}let Qo;function oi({secretType:e}={}){return e===fo.REQUEST||e===fo.RESPONSE||e===fo.BOTH}function si({name:e,data:t={}}={}){return et==="app"}function x_({provider:e,spaceId:t,functionName:n}={}){const{appId:o,uniPlatform:s,osName:r}=La();let i=s;s==="app"&&(i=r);const c=function({provider:l,spaceId:h}={}){const g=Rm;if(!g)return{};l=function(p){return p==="tencent"?"tcb":p}(l);const _=g.find(p=>p.provider===l&&p.spaceId===h);return _&&_.config}({provider:e,spaceId:t});if(!c||!c.accessControl||!c.accessControl.enable)return!1;const a=c.accessControl.function||{},u=Object.keys(a);if(u.length===0)return!0;const f=function(l,h){let g,_,p;for(let d=0;d<l.length;d++){const m=l[d];m!==h?m!=="*"?m.split(",").map(w=>w.trim()).indexOf(h)>-1&&(_=m):p=m:g=m}return g||_||p}(u,n);if(!f)return!1;if((a[f]||[]).find((l={})=>l.appId===o&&(l.platform||"").toLowerCase()===i.toLowerCase()))return!0;throw console.error(`[appId: ${o}, platform: ${i}]https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`),Qa(Ya.APP_INFO_INVALID)}function ri({functionName:e,result:t,logPvd:n}){if(this.__dev__.debugLog&&t&&t.requestId){const o=JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:t.requestId});console.log(`[${n}-request]${o}[/${n}-request]`)}}function P_(e){const t=e.callFunction,n=function(o){const s=o.name;o.data=Ja.call(e,{data:o.data});const r={aliyun:"aliyun",tencent:"tcb",tcb:"tcb",alipay:"alipay",dcloud:"dcloud"}[this.config.provider],i=oi(o),c=si(o),a=i||c;return t.call(this,o).then(u=>(u.errCode=0,!a&&ri.call(this,{functionName:s,result:u,logPvd:r}),Promise.resolve(u)),u=>(!a&&ri.call(this,{functionName:s,result:u,logPvd:r}),u&&u.message&&(u.message=function({message:f="",extraInfo:l={},formatter:h=[]}={}){for(let g=0;g<h.length;g++){const{rule:_,content:p,mode:d}=h[g],m=f.match(_);if(!m)continue;let w=p;for(let y=1;y<m.length;y++)w=ti(w,`{$${y}}`,m[y]);for(const y in l)w=ti(w,`{${y}}`,l[y]);return d==="replace"?w:f+w}return f}({message:`[${o.name}]: ${u.message}`,formatter:b_,extraInfo:{functionName:s}})),Promise.reject(u)))};e.callFunction=function(o){const{provider:s,spaceId:r}=e.config,i=o.name;let c,a;return o.data=o.data||{},e.__dev__.debugInfo&&!e.__dev__.debugInfo.forceRemote&&Ea?(e._callCloudFunction||(e._callCloudFunction=n,e._callLocalFunction=ei),c=ei):c=n,c=c.bind(e),si(o)||(function({name:u,data:f={}}){return u==="uni-id-co"&&f.method==="secureNetworkHandshakeByWeixin"}(o)?a=c.call(e,o):oi(o)?a=new Qo({secretType:o.secretType,uniCloudIns:e}).wrapEncryptDataCallFunction(n.bind(e))(o):x_({provider:s,spaceId:r,functionName:i})?a=new Qo({secretType:o.secretType,uniCloudIns:e}).wrapVerifyClientCallFunction(n.bind(e))(o):a=c(o)),Object.defineProperty(a,"result",{get:()=>(console.warn("Promiseresulthttps://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),a.then(u=>u)}}Qo=class{constructor(){throw Qa({message:`Platform ${et} is not enabled, please check whether secure network module is enabled in your manifest.json`})}};const Xa=Symbol("CLIENT_DB_INTERNAL");function On(e,t){return e.then="DoNotReturnProxyWithAFunctionNamedThen",e._internalType=Xa,e.inspect=null,e.__v_raw=void 0,new Proxy(e,{get(n,o,s){if(o==="_uniClient")return null;if(typeof o=="symbol")return n[o];if(o in n||typeof o!="string"){const r=n[o];return typeof r=="function"?r.bind(n):r}return t.get(n,o,s)}})}function ii(e){return{on:(t,n)=>{e[t]=e[t]||[],e[t].indexOf(n)>-1||e[t].push(n)},off:(t,n)=>{e[t]=e[t]||[];const o=e[t].indexOf(n);o!==-1&&e[t].splice(o,1)}}}const E_=["db.Geo","db.command","command.aggregate"];function Za(e,t){return E_.indexOf(`${e}.${t}`)>-1}function Ge(e){switch(Ut(e=ka(e))){case"array":return e.map(t=>Ge(t));case"object":return e._internalType===Xa||Object.keys(e).forEach(t=>{e[t]=Ge(e[t])}),e;case"regexp":return{$regexp:{source:e.source,flags:e.flags}};case"date":return{$date:e.toISOString()};default:return e}}function Et(e){return e&&e.content&&e.content.$method}class T_{constructor(t,n,o){this.content=t,this.prevStage=n||null,this.udb=null,this._database=o}toJSON(){let t=this;const n=[t.content];for(;t.prevStage;)t=t.prevStage,n.push(t.content);return{$db:n.reverse().map(o=>({$method:o.$method,$param:Ge(o.$param)}))}}toString(){return JSON.stringify(this.toJSON())}getAction(){const t=this.toJSON().$db.find(n=>n.$method==="action");return t&&t.$param&&t.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter(t=>t.$method!=="action")}}get isAggregate(){let t=this;for(;t;){const n=Et(t),o=Et(t.prevStage);if(n==="aggregate"&&o==="collection"||n==="pipeline")return!0;t=t.prevStage}return!1}get isCommand(){let t=this;for(;t;){if(Et(t)==="command")return!0;t=t.prevStage}return!1}get isAggregateCommand(){let t=this;for(;t;){const n=Et(t),o=Et(t.prevStage);if(n==="aggregate"&&o==="command")return!0;t=t.prevStage}return!1}getNextStageFn(t){const n=this;return function(){return jt({$method:t,$param:Ge(Array.from(arguments))},n,n._database)}}get count(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}get remove(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}get(){return this._send("get",Array.from(arguments))}get add(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}get set(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQLset")}}_send(t,n){const o=this.getAction(),s=this.getCommand();if(s.$db.push({$method:t,$param:Ge(n)}),$m){const r=s.$db.find(c=>c.$method==="collection"),i=r&&r.$param;i&&i.length===1&&typeof r.$param[0]=="string"&&r.$param[0].indexOf(",")>-1&&console.warn(`JQLgetTemp
- https://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp 
- `)}return this._database._callCloudFunction({action:o,command:s})}}function jt(e,t,n){return On(new T_(e,t,n),{get(o,s){let r="db";return o&&o.content&&(r=o.content.$method),Za(r,s)?jt({$method:s},o,n):function(){return jt({$method:s,$param:Ge(Array.from(arguments))},o,n)}}})}function po({path:e,method:t}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...e.map(n=>({$method:n})),{$method:t,$param:this.param}]}}toString(){return JSON.stringify(this.toJSON())}}}class O_{constructor({uniClient:t={},isJQL:n=!1}={}){this._uniClient=t,this._authCallBacks={},this._dbCallBacks={},t._isDefault&&(this._dbCallBacks=wt("_globalUniCloudDatabaseCallback")),n||(this.auth=ii(this._authCallBacks)),this._isJQL=n,Object.assign(this,ii(this._dbCallBacks)),this.env=On({},{get:(o,s)=>({$env:s})}),this.Geo=On({},{get:(o,s)=>po({path:["Geo"],method:s})}),this.serverDate=po({path:[],method:"serverDate"}),this.RegExp=po({path:[],method:"RegExp"})}getCloudEnv(t){if(typeof t!="string"||!t.trim())throw new Error("getCloudEnv");return{$env:t.replace("$cloudEnv_","")}}_callback(t,n){const o=this._dbCallBacks;o[t]&&o[t].forEach(s=>{s(...n)})}_callbackAuth(t,n){const o=this._authCallBacks;o[t]&&o[t].forEach(s=>{s(...n)})}multiSend(){const t=Array.from(arguments),n=t.map(o=>{const s=o.getAction(),r=o.getCommand();if(r.$db[r.$db.length-1].$method!=="getTemp")throw new Error("multiSendgetTemp");return{action:s,command:r}});return this._callCloudFunction({multiCommand:n,queryList:t})}}function ci(e,t={}){return On(new e(t),{get:(n,o)=>Za("db",o)?jt({$method:o},null,n):function(){return jt({$method:o,$param:Ge(Array.from(arguments))},null,n)}})}class ai extends O_{_parseResult(t){return this._isJQL?t.result:t}_callCloudFunction({action:t,command:n,multiCommand:o,queryList:s}){function r(l,h){if(o&&s)for(let g=0;g<s.length;g++){const _=s[g];_.udb&&typeof _.udb.setResult=="function"&&(h?_.udb.setResult(h):_.udb.setResult(l.result.dataList[g]))}}const i=this,c=this._isJQL?"databaseForJQL":"database";function a(l){return i._callback("error",[l]),oe(se(c,"fail"),l).then(()=>oe(se(c,"complete"),l)).then(()=>(r(null,l),ae(B.RESPONSE,{type:$e.CLIENT_DB,content:l}),Promise.reject(l)))}const u=oe(se(c,"invoke")),f=this._uniClient;return u.then(()=>f.callFunction({name:"DCloud-clientDB",type:Tn.CLIENT_DB,data:{action:t,command:n,multiCommand:o}})).then(l=>{const{code:h,message:g,token:_,tokenExpired:p,systemInfo:d=[]}=l.result;if(d)for(let w=0;w<d.length;w++){const{level:y,message:b,detail:P}=d[w];let v="[System Info]"+b;P&&(v=`${v}
${P}`),(console[y]||console.log)(v)}if(h)return a(new O({code:h,message:g,requestId:l.requestId}));l.result.errCode=l.result.errCode||l.result.code,l.result.errMsg=l.result.errMsg||l.result.message,_&&p&&($a({token:_,tokenExpired:p}),this._callbackAuth("refreshToken",[{token:_,tokenExpired:p}]),this._callback("refreshToken",[{token:_,tokenExpired:p}]),ae(B.REFRESH_TOKEN,{token:_,tokenExpired:p}));const m=[{prop:"affectedDocs",tips:"affectedDocsinserted/deleted/updated/data.length"},{prop:"code",tips:"codeerrCode"},{prop:"message",tips:"messageerrMsg"}];for(let w=0;w<m.length;w++){const{prop:y,tips:b}=m[w];if(y in l.result){const P=l.result[y];Object.defineProperty(l.result,y,{get:()=>(console.warn(b),P)})}}return function(w){return oe(se(c,"success"),w).then(()=>oe(se(c,"complete"),w)).then(()=>{r(w,null);const y=i._parseResult(w);return ae(B.RESPONSE,{type:$e.CLIENT_DB,content:y}),Promise.resolve(y)})}(l)},l=>(/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(l.message)&&console.warn("clientDBwebschemaclientDB"),a(new O({code:l.code||"SYSTEM_ERROR",message:l.message,requestId:l.requestId}))))}}const Ke="token",eu="token",tu={TOKEN_INVALID_TOKEN_EXPIRED:eu,TOKEN_INVALID_INVALID_CLIENTID:Ke,TOKEN_INVALID:Ke,TOKEN_INVALID_WRONG_TOKEN:Ke,TOKEN_INVALID_ANONYMOUS_USER:Ke},A_={"uni-id-token-expired":eu,"uni-id-check-token-failed":Ke,"uni-id-token-not-exist":Ke,"uni-id-check-device-feature-failed":Ke},Xo={...tu,...A_,default:""};function ui(e,t){let n="";return n=e?`${e}/${t}`:t,n.replace(/^\//,"")}function li(e=[],t=""){const n=[],o=[];return e.forEach(s=>{s.needLogin===!0?n.push(ui(t,s.path)):s.needLogin===!1&&o.push(ui(t,s.path))}),{needLoginPage:n,notNeedLoginPage:o}}function Ht(e){return e.split("?")[0].replace(/^\//,"")}function Ns(){return function(e){let t=e&&e.$page&&e.$page.fullPath;return t?(t.charAt(0)!=="/"&&(t="/"+t),t):""}(function(){const e=getCurrentPages();return e[e.length-1]}())}function nu(){return Ht(Ns())}function C_(e="",t={}){if(!e||!(t&&t.list&&t.list.length))return!1;const n=t.list,o=Ht(e);return n.some(s=>s.pagePath===o)}const k_=!!Os.uniIdRouter,{loginPage:Ft,routerNeedLogin:$_,resToLogin:L_,needLoginPage:ou,notNeedLoginPage:R_,loginPageInTabBar:N_}=function({pages:e=[],subPackages:t=[],uniIdRouter:n={},tabBar:o={}}=Os){const{loginPage:s,needLogin:r=[],resToLogin:i=!0}=n,{needLoginPage:c,notNeedLoginPage:a}=li(e),{needLoginPage:u,notNeedLoginPage:f}=function(l=[]){const h=[],g=[];return l.forEach(_=>{const{root:p,pages:d=[]}=_,{needLoginPage:m,notNeedLoginPage:w}=li(d,p);h.push(...m),g.push(...w)}),{needLoginPage:h,notNeedLoginPage:g}}(t);return{loginPage:s,routerNeedLogin:r,resToLogin:i,needLoginPage:[...c,...u],notNeedLoginPage:[...a,...f],loginPageInTabBar:C_(s,o)}}();if(ou.indexOf(Ft)>-1)throw new Error(`Login page [${Ft}] should not be "needLogin", please check your pages.json`);function su(e){const t=nu();if(e.charAt(0)==="/")return e;const[n,o]=e.split("?"),s=n.replace(/^\//,"").split("/"),r=t.split("/");r.pop();for(let i=0;i<s.length;i++){const c=s[i];c===".."?r.pop():c!=="."&&r.push(c)}return r[0]===""&&r.shift(),"/"+r.join("/")+(o?"?"+o:"")}function D_(e){const t=Ht(su(e));return!(R_.indexOf(t)>-1)&&(ou.indexOf(t)>-1||$_.some(n=>function(o,s){return new RegExp(s).test(o)}(e,n)))}function ru({redirect:e}){const t=Ht(e),n=Ht(Ft);return nu()!==n&&t!==n}function Zo({api:e,redirect:t}={}){if(!t||!ru({redirect:t}))return;const n=function(s,r){return s.charAt(0)!=="/"&&(s="/"+s),r?s.indexOf("?")>-1?s+`&uniIdRedirectUrl=${encodeURIComponent(r)}`:s+`?uniIdRedirectUrl=${encodeURIComponent(r)}`:s}(Ft,t);N_?e!=="navigateTo"&&e!=="redirectTo"||(e="switchTab"):e==="switchTab"&&(e="navigateTo");const o={navigateTo:k.navigateTo,redirectTo:k.redirectTo,switchTab:k.switchTab,reLaunch:k.reLaunch};setTimeout(()=>{o[e]({url:n})},0)}function fi({url:e}={}){const t={abortLoginPageJump:!1,autoToLoginPage:!1},n=function(){const{token:o,tokenExpired:s}=Mt();let r;if(o){if(s<Date.now()){const i="uni-id-token-expired";r={errCode:i,errMsg:Xo[i]}}}else{const i="uni-id-check-token-failed";r={errCode:i,errMsg:Xo[i]}}return r}();if(D_(e)&&n){if(n.uniIdRedirectUrl=e,zt(B.NEED_LOGIN).length>0)return setTimeout(()=>{ae(B.NEED_LOGIN,n)},0),t.abortLoginPageJump=!0,t;t.autoToLoginPage=!0}return t}function U_(){(function(){const t=Ns(),{abortLoginPageJump:n,autoToLoginPage:o}=fi({url:t});n||o&&Zo({api:"redirectTo",redirect:t})})();const e=["navigateTo","redirectTo","reLaunch","switchTab"];for(let t=0;t<e.length;t++){const n=e[t];k.addInterceptor(n,{invoke(o){const{abortLoginPageJump:s,autoToLoginPage:r}=fi({url:o.url});return s?o:r?(Zo({api:n,redirect:su(o.url)}),!1):o}})}}function M_(){this.onResponse(e=>{const{type:t,content:n}=e;let o=!1;switch(t){case"cloudobject":o=function(s){if(typeof s!="object")return!1;const{errCode:r}=s||{};return r in Xo}(n);break;case"clientdb":o=function(s){if(typeof s!="object")return!1;const{errCode:r}=s||{};return r in tu}(n)}o&&function(s={}){const r=zt(B.NEED_LOGIN);Aa().then(()=>{const i=Ns();if(i&&ru({redirect:i}))return r.length>0?ae(B.NEED_LOGIN,Object.assign({uniIdRedirectUrl:i},s)):void(Ft&&Zo({api:"navigateTo",redirect:i}))})}(n)})}function j_(e){(function(t){t.onResponse=function(n){to(B.RESPONSE,n)},t.offResponse=function(n){no(B.RESPONSE,n)}})(e),function(t){t.onNeedLogin=function(n){to(B.NEED_LOGIN,n)},t.offNeedLogin=function(n){no(B.NEED_LOGIN,n)},k_&&(wt(ni).needLoginInit||(wt(ni).needLoginInit=!0,Aa().then(()=>{U_.call(t)}),L_&&M_.call(t)))}(e),function(t){t.onRefreshToken=function(n){to(B.REFRESH_TOKEN,n)},t.offRefreshToken=function(n){no(B.REFRESH_TOKEN,n)}}(e)}let iu;const rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",H_=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function F_(){const e=Mt().token||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse((o=t[1],decodeURIComponent(iu(o).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(s){throw new Error(""+s.message)}var o;return n.tokenExpired=1e3*n.exp,delete n.exp,delete n.iat,n}iu=typeof atob!="function"?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!H_.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,o,s="",r=0;r<e.length;)t=rn.indexOf(e.charAt(r++))<<18|rn.indexOf(e.charAt(r++))<<12|(n=rn.indexOf(e.charAt(r++)))<<6|(o=rn.indexOf(e.charAt(r++))),s+=n===64?String.fromCharCode(t>>16&255):o===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return s}:atob;var B_=we(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n="chooseAndUploadFile:ok",o="chooseAndUploadFile:fail";function s(i,c){return i.tempFiles.forEach((a,u)=>{a.name||(a.name=a.path.substring(a.path.lastIndexOf("/")+1)),c&&(a.fileType=c),a.cloudPath=Date.now()+"_"+u+a.name.substring(a.name.lastIndexOf("."))}),i.tempFilePaths||(i.tempFilePaths=i.tempFiles.map(a=>a.path)),i}function r(i,c,{onChooseFile:a,onUploadProgress:u}){return c.then(f=>{if(a){const l=a(f);if(l!==void 0)return Promise.resolve(l).then(h=>h===void 0?f:h)}return f}).then(f=>f===!1?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(l,h,g=5,_){(h=Object.assign({},h)).errMsg=n;const p=h.tempFiles,d=p.length;let m=0;return new Promise(w=>{for(;m<g;)y();function y(){const b=m++;if(b>=d)return void(!p.find(v=>!v.url&&!v.errMsg)&&w(h));const P=p[b];l.uploadFile({provider:P.provider,filePath:P.path,cloudPath:P.cloudPath,fileType:P.fileType,cloudPathAsRealPath:P.cloudPathAsRealPath,onUploadProgress(v){v.index=b,v.tempFile=P,v.tempFilePath=P.path,_&&_(v)}}).then(v=>{P.url=v.fileID,b<d&&y()}).catch(v=>{P.errMsg=v.errMsg||v.message,b<d&&y()})}})}(i,f,5,u))}t.initChooseAndUploadFile=function(i){return function(c={type:"all"}){return c.type==="image"?r(i,function(a){const{count:u,sizeType:f,sourceType:l=["album","camera"],extension:h}=a;return new Promise((g,_)=>{k.chooseImage({count:u,sizeType:f,sourceType:l,extension:h,success(p){g(s(p,"image"))},fail(p){_({errMsg:p.errMsg.replace("chooseImage:fail",o)})}})})}(c),c):c.type==="video"?r(i,function(a){const{camera:u,compressed:f,maxDuration:l,sourceType:h=["album","camera"],extension:g}=a;return new Promise((_,p)=>{k.chooseVideo({camera:u,compressed:f,maxDuration:l,sourceType:h,extension:g,success(d){const{tempFilePath:m,duration:w,size:y,height:b,width:P}=d;_(s({errMsg:"chooseVideo:ok",tempFilePaths:[m],tempFiles:[{name:d.tempFile&&d.tempFile.name||"",path:m,size:y,type:d.tempFile&&d.tempFile.type||"",width:P,height:b,duration:w,fileType:"video",cloudPath:""}]},"video"))},fail(d){p({errMsg:d.errMsg.replace("chooseVideo:fail",o)})}})})}(c),c):r(i,function(a){const{count:u,extension:f}=a;return new Promise((l,h)=>{let g=k.chooseFile;if(typeof ye<"u"&&typeof ye.chooseMessageFile=="function"&&(g=ye.chooseMessageFile),typeof g!="function")return h({errMsg:o+"  type  image  video"});g({type:"all",count:u,extension:f,success(_){l(s(_))},fail(_){h({errMsg:_.errMsg.replace("chooseFile:fail",o)})}})})}(c),c)}}}),q_=Im(B_);const K_={auto:"auto",onready:"onready",manual:"manual"};function cu(e){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{},mixinDatacomError:null}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch(()=>{var t=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach(n=>{t.push(this[n])}),t},(t,n)=>{if(this.loadtime===K_.manual)return;let o=!1;const s=[];for(let r=2;r<t.length;r++)t[r]!==n[r]&&(s.push(t[r]),o=!0);t[0]!==n[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(o,s)})},methods:{onMixinDatacomPropsChange(t,n){},mixinDatacomEasyGet({getone:t=!1,success:n,fail:o}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomError=null,this.mixinDatacomGet().then(s=>{this.mixinDatacomLoading=!1;const{data:r,count:i}=s.result;this.getcount&&(this.mixinDatacomPage.count=i),this.mixinDatacomHasMore=r.length<this.pageSize;const c=t?r.length?r[0]:void 0:r;this.mixinDatacomResData=c,n&&n(c)}).catch(s=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=s,this.mixinDatacomError=s,o&&o(s)}))},mixinDatacomGet(t={}){let n;t=t||{},n=typeof __uniX<"u"&&__uniX?e.databaseForJQL(this.spaceInfo):e.database(this.spaceInfo);const o=t.action||this.action;o&&(n=n.action(o));const s=t.collection||this.collection;n=Array.isArray(s)?n.collection(...s):n.collection(s);const r=t.where||this.where;r&&Object.keys(r).length&&(n=n.where(r));const i=t.field||this.field;i&&(n=n.field(i));const c=t.foreignKey||this.foreignKey;c&&(n=n.foreignKey(c));const a=t.groupby||this.groupby;a&&(n=n.groupBy(a));const u=t.groupField||this.groupField;u&&(n=n.groupField(u)),(t.distinct!==void 0?t.distinct:this.distinct)===!0&&(n=n.distinct());const f=t.orderby||this.orderby;f&&(n=n.orderBy(f));const l=t.pageCurrent!==void 0?t.pageCurrent:this.mixinDatacomPage.current,h=t.pageSize!==void 0?t.pageSize:this.mixinDatacomPage.size,g=t.getcount!==void 0?t.getcount:this.getcount,_=t.gettree!==void 0?t.gettree:this.gettree,p=t.gettreepath!==void 0?t.gettreepath:this.gettreepath,d={getCount:g},m={limitLevel:t.limitlevel!==void 0?t.limitlevel:this.limitlevel,startWith:t.startwith!==void 0?t.startwith:this.startwith};return _&&(d.getTree=m),p&&(d.getTreePath=m),n=n.skip(h*(l-1)).limit(h).get(d),n}}}}function V_(e){return function(t,n={}){n=function(a,u={}){return a.customUI=u.customUI||a.customUI,a.parseSystemError=u.parseSystemError||a.parseSystemError,Object.assign(a.loadingOptions,u.loadingOptions),Object.assign(a.errorOptions,u.errorOptions),typeof u.secretMethods=="object"&&(a.secretMethods=u.secretMethods),a}({customUI:!1,loadingOptions:{title:"...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);const{customUI:o,loadingOptions:s,errorOptions:r,parseSystemError:i}=n,c=!o;return new Proxy({},{get(a,u){switch(u){case"toString":return"[object UniCloudObject]";case"toJSON":return{}}return function({fn:f,interceptorName:l,getCallbackArgs:h}={}){return async function(...g){const _=h?h({params:g}):{};let p,d;try{return await oe(se(l,"invoke"),{..._}),p=await f(...g),await oe(se(l,"success"),{..._,result:p}),p}catch(m){throw d=m,await oe(se(l,"fail"),{..._,error:d}),d}finally{await oe(se(l,"complete"),d?{..._,error:d}:{..._,result:p})}}}({fn:async function f(...l){let h;c&&k.showLoading({title:s.title,mask:s.mask});const g={name:t,type:Tn.OBJECT,data:{method:u,params:l}};typeof n.secretMethods=="object"&&function(y,b){const P=b.data.method,v=y.secretMethods||{},N=v[P]||v["*"];N&&(b.secretType=N)}(n,g);let _=!1;try{h=await e.callFunction(g)}catch(y){_=!0,h={result:new O(y)}}const{errSubject:p,errCode:d,errMsg:m,newToken:w}=h.result||{};if(c&&k.hideLoading(),w&&w.token&&w.tokenExpired&&($a(w),ae(B.REFRESH_TOKEN,{...w})),d){let y=m;if(_&&i&&(y=(await i({objectName:t,methodName:u,params:l,errSubject:p,errCode:d,errMsg:m})).errMsg||m),c)if(r.type==="toast")k.showToast({title:y,icon:"none"});else{if(r.type!=="modal")throw new Error(`Invalid errorOptions.type: ${r.type}`);{const{confirm:P}=await async function({title:v,content:N,showCancel:L,cancelText:K,confirmText:ce}={}){return new Promise((Q,de)=>{k.showModal({title:v,content:N,showCancel:L,cancelText:K,confirmText:ce,success(ue){Q(ue)},fail(){Q({confirm:!1,cancel:!0})}})})}({title:"",content:y,showCancel:r.retry,cancelText:"",confirmText:r.retry?"":""});if(r.retry&&P)return f(...l)}}const b=new O({subject:p,code:d,message:m,requestId:h.requestId});throw b.detail=h.result,ae(B.RESPONSE,{type:$e.CLOUD_OBJECT,content:b}),b}return ae(B.RESPONSE,{type:$e.CLOUD_OBJECT,content:h.result}),h.result},interceptorName:"callObject",getCallbackArgs:function({params:f}={}){return{objectName:t,methodName:u,params:f}}})}})}}function au(e){return wt(S_.replace("{spaceId}",e.config.spaceId))}async function W_({openid:e,callLoginByWeixin:t=!1}={}){const n=au(this);if(e&&t)throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");if(e)return n.mpWeixinOpenid=e,{};const o=await new Promise((r,i)=>{k.login({success(c){r(c.code)},fail(c){i(new Error(c.errMsg))}})});return await this.importObject("uni-id-co",{customUI:!0}).secureNetworkHandshakeByWeixin({code:o,callLoginByWeixin:t}),n.mpWeixinCode=o,{code:o}}async function z_(e){const t=au(this);return t.initPromise||(t.initPromise=W_.call(this,e).then(n=>n).catch(n=>{throw delete t.initPromise,n})),t.initPromise}function J_(e){return function({openid:t,callLoginByWeixin:n=!1}={}){return z_.call(e,{openid:t,callLoginByWeixin:n})}}function G_(e){(function(t){zo=t})(e)}function di(e){const t=ye.canIUse("getAppBaseInfo"),n={getAppBaseInfo:t?k.getAppBaseInfo:k.getSystemInfo,getPushClientId:k.getPushClientId};return function(o){return new Promise((s,r)=>{t&&e==="getAppBaseInfo"?s(n[e]()):n[e]({...o,success(i){s(i)},fail(i){r(i)}})})}}class Y_ extends km{constructor(){super(),this._uniPushMessageCallback=this._receivePushMessage.bind(this),this._currentMessageId=-1,this._payloadQueue=[]}init(){return Promise.all([di("getAppBaseInfo")(),di("getPushClientId")()]).then(([{appId:t}={},{cid:n}={}]=[])=>{if(!t)throw new Error("Invalid appId, please check the manifest.json file");if(!n)throw new Error("Invalid push client id");this._appId=t,this._pushClientId=n,this._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),this.emit("open"),this._initMessageListener()},t=>{throw this.emit("error",t),this.close(),t})}async open(){return this.init()}_isUniCloudSSE(t){if(t.type!=="receive")return!1;const n=t&&t.data&&t.data.payload;return!(!n||n.channel!=="UNI_CLOUD_SSE"||n.seqId!==this._seqId)}_receivePushMessage(t){if(!this._isUniCloudSSE(t))return;const n=t&&t.data&&t.data.payload,{action:o,messageId:s,message:r}=n;this._payloadQueue.push({action:o,messageId:s,message:r}),this._consumMessage()}_consumMessage(){for(;;){const t=this._payloadQueue.find(n=>n.messageId===this._currentMessageId+1);if(!t)break;this._currentMessageId++,this._parseMessagePayload(t)}}_parseMessagePayload(t){const{action:n,messageId:o,message:s}=t;n==="end"?this._end({messageId:o,message:s}):n==="message"&&this._appendMessage({messageId:o,message:s})}_appendMessage({messageId:t,message:n}={}){this.emit("message",n)}_end({messageId:t,message:n}={}){this.emit("end",n),this.close()}_initMessageListener(){k.onPushMessage(this._uniPushMessageCallback)}_destroy(){k.offPushMessage(this._uniPushMessageCallback)}toJSON(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}close(){this._destroy(),this.emit("close")}}async function Q_(e){const t=e.__dev__;if(!t.debugInfo)return;const{address:n,servePort:o}=t.debugInfo,{address:s}=await Ka(n,o);if(s)return t.localAddress=s,void(t.localPort=o);const r=console.warn;let i="";if(t.debugInfo.initialLaunchType==="remote"?(t.debugInfo.forceRemote=!0,i=`HBuilderXHBuilderXuniCloud
- uniCloud
- uniCloud`):i=`uniCloud
- uniCloud`,i+=`
- HBuilderXHBuilderX
- HBuilderXnodejs
- uni.request`,et.indexOf("mp-")===0&&(i+=`
- uniCloudhttps://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp`),!t.debugInfo.forceRemote)throw new Error(i);r(i)}function X_(e){e._initPromiseHub||(e._initPromiseHub=new As({createPromise:function(){let t=Promise.resolve();var n;n=1,t=new Promise(s=>{setTimeout(()=>{s()},n)});const o=e.auth();return t.then(()=>o.getLoginState()).then(s=>s?Promise.resolve():o.signInAnonymously())}}))}const Z_={tcb:Qr,tencent:Qr,aliyun:Fm,private:Xr,dcloud:Xr,alipay:w_};let le=new class{init(e){let t={};const n=Z_[e.provider];if(!n)throw new Error("provider");return t=n.init(e),function(o){const s={};o.__dev__=s,s.debugLog=et==="mp-harmony";const r=Nm;r&&!r.code&&(s.debugInfo=r);const i=new As({createPromise:function(){return Q_(o)}});s.initLocalNetwork=function(){return i.exec()}}(t),X_(t),P_(t),function(o){const s=o.uploadFile;o.uploadFile=function(r){return s.call(this,r)}}(t),function(o){o.database=function(s){if(s&&Object.keys(s).length>0)return o.init(s).database();if(this._database)return this._database;const r=ci(ai,{uniClient:o});return this._database=r,r},o.databaseForJQL=function(s){if(s&&Object.keys(s).length>0)return o.init(s).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;const r=ci(ai,{uniClient:o,isJQL:!0});return this._databaseForJQL=r,r}}(t),function(o){o.getCurrentUserInfo=F_,o.chooseAndUploadFile=q_.initChooseAndUploadFile(o),Object.assign(o,{get mixinDatacom(){return cu(o)}}),o.SSEChannel=Y_,o.initSecureNetworkByWeixin=J_(o),o.setCustomClientInfo=G_,o.importObject=V_(o)}(t),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach(o=>{if(!t[o])return;const s=t[o];t[o]=function(){return s.apply(t,Array.from(arguments))},t[o]=function(r,i){return function(c){let a=!1;i==="callFunction"&&(a=(c&&c.type||Tn.DEFAULT)!==Tn.DEFAULT);const u=i==="callFunction"&&!a,f=this._initPromiseHub.exec();c=c||{};const{success:l,fail:h,complete:g}=Ca(c),_=f.then(()=>a?Promise.resolve():oe(se(i,"invoke"),c)).then(()=>r.call(this,c)).then(p=>a?Promise.resolve(p):oe(se(i,"success"),p).then(()=>oe(se(i,"complete"),p)).then(()=>(u&&ae(B.RESPONSE,{type:$e.CLOUD_FUNCTION,content:p}),Promise.resolve(p))),p=>a?Promise.reject(p):oe(se(i,"fail"),p).then(()=>oe(se(i,"complete"),p)).then(()=>(ae(B.RESPONSE,{type:$e.CLOUD_FUNCTION,content:p}),Promise.reject(p))));if(!(l||h||g))return _;_.then(p=>{l&&l(p),g&&g(p),u&&ae(B.RESPONSE,{type:$e.CLOUD_FUNCTION,content:p})},p=>{h&&h(p),g&&g(p),u&&ae(B.RESPONSE,{type:$e.CLOUD_FUNCTION,content:p})})}}(t[o],o).bind(t)}),t.init=this.init,t}};(()=>{const e=Ea;let t={};if(e&&e.length===1)t=e[0],le=le.init(t),le._isDefault=!0;else{const n=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile"],o=["database","getCurrentUserInfo","importObject"];let s;s=e&&e.length>0?"uniCloud.init":"uniCloud",[...n,...o].forEach(r=>{le[r]=function(){if(console.error(s),o.indexOf(r)===-1)return Promise.reject(new O({code:"SYS_ERR",message:s}));console.error(s)}})}Object.assign(le,{get mixinDatacom(){return cu(le)}}),j_(le),le.addInterceptor=Oa,le.removeInterceptor=Um,le.interceptObject=Mm})();var ey=le;exports._export_sfc=_g;exports.createSSRApp=Gd;exports.e=qd;exports.f=Fd;exports.index=k;exports.initVueI18n=Uu;exports.n=Kd;exports.o=Hd;exports.p=Wd;exports.pagesJson=Os;exports.reactive=Dn;exports.resolveComponent=Ql;exports.s=Bd;exports.sr=zd;exports.t=Vd;exports.tr=ey;exports.wx$1=ye;
//# sourceMappingURL=../../.sourcemap/mp-weixin/common/vendor.js.map
