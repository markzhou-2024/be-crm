{"version":3,"file":"uni-id-pages-agreements.js","sources":["uni_modules/uni-id-pages/components/uni-id-pages-agreements/uni-id-pages-agreements.vue","/Users/zhouzhongwei/Documents/HBuilderProjects/be-crm-main/uni_modules/uni-id-pages/components/uni-id-pages-agreements/uni-id-pages-agreements.vue?type=component"],"sourcesContent":["<template>\n\t<view class=\"root\" v-if=\"agreements.length\">\n\t\t<template v-if=\"needAgreements\">\n\t\t\t<checkbox-group @change=\"setAgree\">\n\t\t\t\t<label class=\"checkbox-box\">\n\t\t\t\t\t<checkbox :checked=\"isAgree\" style=\"transform: scale(0.5);margin-right: -6px;\" />\n\t\t\t\t\t<text class=\"text\">同意</text>\n\t\t\t\t</label>\n\t\t\t</checkbox-group>\n\t\t\t<view class=\"content\">\n\t\t\t\t<view class=\"item\" v-for=\"(agreement,index) in agreements\" :key=\"index\">\n\t\t\t\t\t<text class=\"agreement text\" @click=\"navigateTo(agreement)\">{{agreement.title}}</text>\n\t\t\t\t\t<text class=\"text and\" v-if=\"hasAnd(agreements,index)\" space=\"nbsp\"> 和 </text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</template>\n\t\t<!-- 弹出式 -->\n\t\t<uni-popup v-if=\"needAgreements||needPopupAgreements\" ref=\"popupAgreement\" type=\"center\">\n\t\t\t<uni-popup-dialog confirmText=\"同意\" @confirm=\"popupConfirm\">\n\t\t\t\t<view class=\"content\">\n\t\t\t\t\t<text class=\"text\">请先阅读并同意</text>\n\t\t\t\t\t<view class=\"item\" v-for=\"(agreement,index) in agreements\" :key=\"index\">\n\t\t\t\t\t\t<text class=\"agreement text\" @click=\"navigateTo(agreement)\">{{agreement.title}}</text>\n\t\t\t\t\t\t<text class=\"text and\" v-if=\"hasAnd(agreements,index)\" space=\"nbsp\"> 和 </text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</uni-popup-dialog>\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script>\n\timport config from '@/uni_modules/uni-id-pages/config.js'\n\tlet retryFun = ()=>console.log('为定义')\n\t/**\n\t\t* uni-id-pages-agreements \n\t\t* @description 用户服务协议和隐私政策条款组件\n\t\t* @property {String,Boolean} scope = [register|login]\t作用于哪种场景如：register 注册（包括登录并注册，如：微信登录、苹果登录、短信验证码登录）、login 登录。默认值为：register\n\t*/\n\texport default {\n\t\tname: \"uni-agreements\",\n\t\tcomputed: {\n\t\t\tagreements() {\n\t\t\t\tif(!config.agreements){\n\t\t\t\t\treturn []\n\t\t\t\t}\n\t\t\t\tlet {serviceUrl,privacyUrl} = config.agreements\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\turl:serviceUrl,\n\t\t\t\t\t\ttitle:\"用户服务协议\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\turl:privacyUrl,\n\t\t\t\t\t\ttitle:\"隐私政策条款\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tscope: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault(){\n\t\t\t\t\treturn 'register'\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tmethods: {\n\t\t\tpopupConfirm(){\n\t\t\t\tthis.isAgree = true\n\t\t\t\tretryFun()\n\t\t\t\t// this.$emit('popupConfirm')\n\t\t\t},\n\t\t\tpopup(Fun){\n\t\t\t\tthis.needPopupAgreements = true\n\t\t\t\t// this.needAgreements = true\n\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\tif(Fun){\n\t\t\t\t\t\tretryFun = Fun\n\t\t\t\t\t}\n\t\t\t\t\tthis.$refs.popupAgreement.open()\n\t\t\t\t})\n\t\t\t},\n\t\t\tnavigateTo({\n\t\t\t\turl,\n\t\t\t\ttitle\n\t\t\t}) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/uni_modules/uni-id-pages/pages/common/webview/webview?url=' + url + '&title=' + title,\n\t\t\t\t\tsuccess: res => {},\n\t\t\t\t\tfail: () => {},\n\t\t\t\t\tcomplete: () => {}\n\t\t\t\t});\n\t\t\t},\n\t\t\thasAnd(agreements, index) {\n\t\t\t\treturn agreements.length - 1 > index\n\t\t\t},\n\t\t\tsetAgree(e) {\n\t\t\t\tthis.isAgree = !this.isAgree\n\t\t\t\tthis.$emit('setAgree', this.isAgree)\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.needAgreements = (config?.agreements?.scope || []).includes(this.scope)\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisAgree: false,\n\t\t\t\tneedAgreements:true,\n\t\t\t\tneedPopupAgreements:false\n\t\t\t};\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t/* #ifndef APP-NVUE */\n\tview {\n\t\tdisplay: flex;\n\t\tbox-sizing: border-box;\n\t\tflex-direction: column;\n\t}\n\n\t/* #endif */\n\t.root {\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tfont-size: 12px;\n\t\tcolor: #8a8f8b;\n\t}\n\n\t.checkbox-box ,.uni-label-pointer{\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n\n\t.item {\n\t\tflex-direction: row;\n\t}\n\t.text{\n\t\tline-height: 26px;\n\t}\n\t.agreement {\n\t\tcolor: #04498c;\n\t\tcursor: pointer;\n\t}\n\t\n\t.checkbox-box ::v-deep .uni-checkbox-input{\n\t\tborder-radius: 100%;\n\t}\n\n\t.checkbox-box ::v-deep .uni-checkbox-input.uni-checkbox-input-checked{\n\t\tborder-color: $uni-color-primary;\n\t\tcolor: #FFFFFF !important;\n\t\tbackground-color: $uni-color-primary;\n\t}\n\t\n\t.content{\n\t\tflex-wrap: wrap;\n\t\tflex-direction: row;\n\t}\n\t\n\t.root ::v-deep .uni-popup__error{\n\t\tcolor: #333333;\n\t}\n</style>\n","import Component from '/Users/zhouzhongwei/Documents/HBuilderProjects/be-crm-main/uni_modules/uni-id-pages/components/uni-id-pages-agreements/uni-id-pages-agreements.vue'\nwx.createComponent(Component)"],"names":["uni","config"],"mappings":";;;AAiCC,IAAI,WAAW,MAAIA,cAAAA,MAAY,MAAA,OAAA,iGAAA,KAAK;AAMpC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,UAAU;AAAA,IACT,aAAa;AACZ,UAAG,CAACC,8BAAM,OAAC,YAAW;AACrB,eAAO,CAAC;AAAA,MACT;AACA,UAAI,EAAC,YAAW,WAAU,IAAIA,8BAAM,OAAC;AACrC,aAAO;AAAA,QACN;AAAA,UACC,KAAI;AAAA,UACJ,OAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,KAAI;AAAA,UACJ,OAAM;AAAA,QACP;AAAA,MACD;AAAA,IACD;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN,OAAO;AAAA,MACN,MAAM;AAAA,MACN,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACA;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACR,eAAc;AACb,WAAK,UAAU;AACf,eAAS;AAAA,IAET;AAAA,IACD,MAAM,KAAI;AACT,WAAK,sBAAsB;AAE3B,WAAK,UAAU,MAAI;AAClB,YAAG,KAAI;AACN,qBAAW;AAAA,QACZ;AACA,aAAK,MAAM,eAAe,KAAK;AAAA,OAC/B;AAAA,IACD;AAAA,IACD,WAAW;AAAA,MACV;AAAA,MACA;AAAA,IACD,GAAG;AACFD,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,gEAAgE,MAAM,YAAY;AAAA,QACvF,SAAS,SAAO;AAAA,QAAE;AAAA,QAClB,MAAM,MAAM;AAAA,QAAE;AAAA,QACd,UAAU,MAAM;AAAA,QAAC;AAAA,MAClB,CAAC;AAAA,IACD;AAAA,IACD,OAAO,YAAY,OAAO;AACzB,aAAO,WAAW,SAAS,IAAI;AAAA,IAC/B;AAAA,IACD,SAAS,GAAG;AACX,WAAK,UAAU,CAAC,KAAK;AACrB,WAAK,MAAM,YAAY,KAAK,OAAO;AAAA,IACpC;AAAA,EACA;AAAA,EACD,UAAU;;AACT,SAAK,oBAAkBC,yCAAAA,WAAAA,mBAAQ,eAARA,mBAAoB,UAAS,IAAI,SAAS,KAAK,KAAK;AAAA,EAC3E;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,gBAAe;AAAA,MACf,qBAAoB;AAAA;EAEtB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/GD,GAAG,gBAAgB,SAAS;"}