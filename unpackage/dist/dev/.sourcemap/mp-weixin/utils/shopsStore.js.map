{"version":3,"file":"shopsStore.js","sources":["utils/shopsStore.js"],"sourcesContent":["// 简单本地存储工具：门店列表（仅前端调试用）\nconst KEY = 'shops_mock'\n\nexport function loadShops(fallback = []) {\n  try {\n    const s = uni.getStorageSync(KEY)\n    return Array.isArray(s) && s.length ? s : fallback\n  } catch (e) {\n    return fallback\n  }\n}\n\nexport function saveShops(list) {\n  uni.setStorageSync(KEY, list || [])\n}\n\nexport function genId() {\n  return String(Date.now()) + Math.random().toString(16).slice(2, 8)\n}\n\nexport function findById(list, id) {\n  return (list || []).find(i => i._id === id)\n}\n\nexport function upsert(list, shop) {\n  const i = (list || []).findIndex(x => x._id === shop._id)\n  if (i >= 0) list.splice(i, 1, shop)\n  else list.unshift(shop)\n  return list\n}\n\nexport default { loadShops, saveShops, genId, findById, upsert }\n\n"],"names":["uni"],"mappings":";;AACA,MAAM,MAAM;AAEL,SAAS,UAAU,WAAW,IAAI;AACvC,MAAI;AACF,UAAM,IAAIA,cAAAA,MAAI,eAAe,GAAG;AAChC,WAAO,MAAM,QAAQ,CAAC,KAAK,EAAE,SAAS,IAAI;AAAA,EAC3C,SAAQ,GAAG;AACV,WAAO;AAAA,EACR;AACH;AAEO,SAAS,UAAU,MAAM;AAC9BA,gBAAAA,MAAI,eAAe,KAAK,QAAQ,CAAA,CAAE;AACpC;AAEO,SAAS,QAAQ;AACtB,SAAO,OAAO,KAAK,IAAK,CAAA,IAAI,KAAK,SAAS,SAAS,EAAE,EAAE,MAAM,GAAG,CAAC;AACnE;AAEO,SAAS,SAAS,MAAM,IAAI;AACjC,UAAQ,QAAQ,IAAI,KAAK,OAAK,EAAE,QAAQ,EAAE;AAC5C;AAEO,SAAS,OAAO,MAAM,MAAM;AACjC,QAAM,KAAK,QAAQ,IAAI,UAAU,OAAK,EAAE,QAAQ,KAAK,GAAG;AACxD,MAAI,KAAK;AAAG,SAAK,OAAO,GAAG,GAAG,IAAI;AAAA;AAC7B,SAAK,QAAQ,IAAI;AACtB,SAAO;AACT;;;;;;"}