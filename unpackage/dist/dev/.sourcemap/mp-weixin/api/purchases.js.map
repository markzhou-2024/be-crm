{"version":3,"file":"purchases.js","sources":["api/purchases.js"],"sourcesContent":["const service = uniCloud.importObject(\"curd-buy\")\n\nfunction normalize(res) {\n  if (res && typeof res === 'object' && 'errCode' in res && res.errCode !== 0) {\n    const err = new Error(res.errMsg || '请求失败')\n    err.errCode = res.errCode\n    throw err\n  }\n  if (Array.isArray(res)) return res\n  if (res && Array.isArray(res.data)) return res.data\n  return res?.data || res\n}\n\nexport async function createPurchase(payload) {\n  const res = await service.createPurchase(payload)\n  return normalize(res)\n}\n\nexport async function listPurchases(customerId) {\n  const res = await service.listPurchases(customerId)\n  return normalize(res) || []\n}\n"],"names":["uniCloud"],"mappings":";;AAAA,MAAM,UAAUA,cAAAA,GAAS,aAAa,UAAU;AAEhD,SAAS,UAAU,KAAK;AACtB,MAAI,OAAO,OAAO,QAAQ,YAAY,aAAa,OAAO,IAAI,YAAY,GAAG;AAC3E,UAAM,MAAM,IAAI,MAAM,IAAI,UAAU,MAAM;AAC1C,QAAI,UAAU,IAAI;AAClB,UAAM;AAAA,EACP;AACD,MAAI,MAAM,QAAQ,GAAG;AAAG,WAAO;AAC/B,MAAI,OAAO,MAAM,QAAQ,IAAI,IAAI;AAAG,WAAO,IAAI;AAC/C,UAAO,2BAAK,SAAQ;AACtB;AAEO,eAAe,eAAe,SAAS;AAC5C,QAAM,MAAM,MAAM,QAAQ,eAAe,OAAO;AAChD,SAAO,UAAU,GAAG;AACtB;AAEO,eAAe,cAAc,YAAY;AAC9C,QAAM,MAAM,MAAM,QAAQ,cAAc,UAAU;AAClD,SAAO,UAAU,GAAG,KAAK,CAAE;AAC7B;;;"}