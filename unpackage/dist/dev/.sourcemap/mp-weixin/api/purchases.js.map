{"version":3,"file":"purchases.js","sources":["api/purchases.js"],"sourcesContent":["const service = uniCloud.importObject(\"curd-buy\")\n\nfunction normalize(res) {\n  if (res && typeof res === 'object' && 'errCode' in res && res.errCode !== 0) {\n    const err = new Error(res.errMsg || '请求失败')\n    err.errCode = res.errCode\n    throw err\n  }\n  if (Array.isArray(res)) return res\n  if (res && Array.isArray(res.data)) return res.data\n  return res?.data || res\n}\n\nexport async function createPurchase(payload) {\n  const res = await service.createPurchase(payload)\n  return normalize(res)\n}\n\nexport async function listPurchases(customerId) {\n  const res = await service.listPurchases(customerId)\n  return normalize(res) || []\n}\r\n"],"names":["service","uniCloud","normalize","res","err","createPurchase","payload","listPurchases","customerId"],"mappings":"oDAAMA,EAAUC,EAAAA,GAAS,aAAa,UAAU,EAEhD,SAASC,EAAUC,EAAK,CACtB,GAAIA,GAAO,OAAOA,GAAQ,UAAY,YAAaA,GAAOA,EAAI,UAAY,EAAG,CAC3E,MAAMC,EAAM,IAAI,MAAMD,EAAI,QAAU,MAAM,EAC1C,MAAAC,EAAI,QAAUD,EAAI,QACZC,CACP,CACD,OAAI,MAAM,QAAQD,CAAG,EAAUA,EAC3BA,GAAO,MAAM,QAAQA,EAAI,IAAI,EAAUA,EAAI,MACxCA,GAAA,YAAAA,EAAK,OAAQA,CACtB,CAEO,eAAeE,EAAeC,EAAS,CAC5C,MAAMH,EAAM,MAAMH,EAAQ,eAAeM,CAAO,EAChD,OAAOJ,EAAUC,CAAG,CACtB,CAEO,eAAeI,EAAcC,EAAY,CAC9C,MAAML,EAAM,MAAMH,EAAQ,cAAcQ,CAAU,EAClD,OAAON,EAAUC,CAAG,GAAK,CAAE,CAC7B"}