{"version":3,"file":"customers.js","sources":["api/customers.js"],"sourcesContent":["const customersService = uniCloud.importObject('curd-customers')\n\nfunction handleResponse (res) {\n  if (res && typeof res === 'object' && 'errCode' in res && res.errCode !== 0) {\n    const err = new Error(res.errMsg || '请求失败')\n    err.errCode = res.errCode\n    throw err\n  }\n  if (res && res.data !== undefined) {\n    return res.data\n  }\n  return res\n}\n\nexport async function fetchCustomers () {\n  const res = await customersService.listCustomers()\n  return handleResponse(res) || []\n}\n\nexport async function createCustomer (payload) {\n  const res = await customersService.createCustomer(payload)\n  return handleResponse(res)\n}\n\nexport async function updateCustomer (payload) {\n  const res = await customersService.updateCustomer(payload)\n  return handleResponse(res)\n}\n\nexport async function deleteCustomer (id) {\n  const res = await customersService.deleteCustomer(id)\n  return handleResponse(res)\n}\n\nexport async function getCustomerById (id) {\n  const res = await customersService.getCustomerById(id)\n  return handleResponse(res)\n}\n"],"names":["uniCloud"],"mappings":";;AAAA,MAAM,mBAAmBA,cAAAA,GAAS,aAAa,gBAAgB;AAE/D,SAAS,eAAgB,KAAK;AAC5B,MAAI,OAAO,OAAO,QAAQ,YAAY,aAAa,OAAO,IAAI,YAAY,GAAG;AAC3E,UAAM,MAAM,IAAI,MAAM,IAAI,UAAU,MAAM;AAC1C,QAAI,UAAU,IAAI;AAClB,UAAM;AAAA,EACP;AACD,MAAI,OAAO,IAAI,SAAS,QAAW;AACjC,WAAO,IAAI;AAAA,EACZ;AACD,SAAO;AACT;AAEO,eAAe,iBAAkB;AACtC,QAAM,MAAM,MAAM,iBAAiB,cAAe;AAClD,SAAO,eAAe,GAAG,KAAK,CAAE;AAClC;AAEO,eAAe,eAAgB,SAAS;AAC7C,QAAM,MAAM,MAAM,iBAAiB,eAAe,OAAO;AACzD,SAAO,eAAe,GAAG;AAC3B;AAEO,eAAe,eAAgB,SAAS;AAC7C,QAAM,MAAM,MAAM,iBAAiB,eAAe,OAAO;AACzD,SAAO,eAAe,GAAG;AAC3B;AAEO,eAAe,eAAgB,IAAI;AACxC,QAAM,MAAM,MAAM,iBAAiB,eAAe,EAAE;AACpD,SAAO,eAAe,GAAG;AAC3B;AAEO,eAAe,gBAAiB,IAAI;AACzC,QAAM,MAAM,MAAM,iBAAiB,gBAAgB,EAAE;AACrD,SAAO,eAAe,GAAG;AAC3B;;;;;;"}