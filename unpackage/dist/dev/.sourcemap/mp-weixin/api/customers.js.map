{"version":3,"file":"customers.js","sources":["api/customers.js"],"sourcesContent":["const customersService = uniCloud.importObject('curd-customers')\n\nfunction handleResponse (res) {\n  if (res && typeof res === 'object' && 'errCode' in res && res.errCode !== 0) {\n    const err = new Error(res.errMsg || '请求失败')\n    err.errCode = res.errCode\n    throw err\n  }\n  if (res && res.data !== undefined) {\n    return res.data\n  }\n  return res\n}\n\nexport async function fetchCustomers () {\n  const res = await customersService.listCustomers()\n  return handleResponse(res) || []\n}\n\nexport async function createCustomer (payload) {\n  const res = await customersService.createCustomer(payload)\n  return handleResponse(res)\n}\n\nexport async function updateCustomer (payload) {\n  const res = await customersService.updateCustomer(payload)\n  return handleResponse(res)\n}\n\nexport async function deleteCustomer (id) {\n  const res = await customersService.deleteCustomer(id)\n  return handleResponse(res)\n}\n\nexport async function getCustomerById (id) {\n  const res = await customersService.getCustomerById(id)\n  return handleResponse(res)\n}\n"],"names":["customersService","uniCloud","handleResponse","res","err","fetchCustomers","createCustomer","payload","updateCustomer","deleteCustomer","id","getCustomerById"],"mappings":"oDAAMA,EAAmBC,EAAAA,GAAS,aAAa,gBAAgB,EAE/D,SAASC,EAAgBC,EAAK,CAC5B,GAAIA,GAAO,OAAOA,GAAQ,UAAY,YAAaA,GAAOA,EAAI,UAAY,EAAG,CAC3E,MAAMC,EAAM,IAAI,MAAMD,EAAI,QAAU,MAAM,EAC1C,MAAAC,EAAI,QAAUD,EAAI,QACZC,CACP,CACD,OAAID,GAAOA,EAAI,OAAS,OACfA,EAAI,KAENA,CACT,CAEO,eAAeE,GAAkB,CACtC,MAAMF,EAAM,MAAMH,EAAiB,cAAe,EAClD,OAAOE,EAAeC,CAAG,GAAK,CAAE,CAClC,CAEO,eAAeG,EAAgBC,EAAS,CAC7C,MAAMJ,EAAM,MAAMH,EAAiB,eAAeO,CAAO,EACzD,OAAOL,EAAeC,CAAG,CAC3B,CAEO,eAAeK,EAAgBD,EAAS,CAC7C,MAAMJ,EAAM,MAAMH,EAAiB,eAAeO,CAAO,EACzD,OAAOL,EAAeC,CAAG,CAC3B,CAEO,eAAeM,EAAgBC,EAAI,CACxC,MAAMP,EAAM,MAAMH,EAAiB,eAAeU,CAAE,EACpD,OAAOR,EAAeC,CAAG,CAC3B,CAEO,eAAeQ,EAAiBD,EAAI,CACzC,MAAMP,EAAM,MAAMH,EAAiB,gBAAgBU,CAAE,EACrD,OAAOR,EAAeC,CAAG,CAC3B"}